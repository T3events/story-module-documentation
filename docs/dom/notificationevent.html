<h1>NotificationEvent</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p>The parameter passed into the <a href="serviceworkerglobalscope/onnotificationclick" title=""><code>onnotificationclick</code></a> handler, the <code>NotificationEvent</code> interface represents a notification click event that is dispatched on the <a href="serviceworkerglobalscope" title="The ServiceWorkerGlobalScope interface of the ServiceWorker API represents the global execution context of a service worker."><code>ServiceWorkerGlobalScope</code></a> of a <a href="serviceworker" title="The ServiceWorker interface of the ServiceWorker API provides a reference to a service worker. Multiple browsing contexts (e.g. pages, workers, etc.) can be associated with the same service worker, each through a unique ServiceWorker object."><code>ServiceWorker</code></a>.</p> <p>This interface inherits from the <a href="extendableevent" title="The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries."><code>ExtendableEvent</code></a> interface.</p> <h2 id="Constructor">Constructor</h2> <dl> <dt><a href="notificationevent/notificationevent" title="The NotificationEvent() constructor creates a new NotificationEvent object."><code>NotificationEvent.NotificationEvent()</code></a></dt> <dd>Creates a new <code>NotificationEvent</code> object.</dd> </dl> <h2 id="Properties">Properties</h2> <p><em>Inherits properties from its ancestor, <a href="event" title="The Event interface represents any event which takes place in the DOM; some are user-generated (such as mouse or keyboard events), while others are generated by APIs (such as events that indicate an animation has finished running, a video has been paused, and so forth). There are many types of event, some of which use are other interfaces based on the main Event interface. Event itself contains the properties and methods which are common to all events."><code>Event</code></a></em>.</p> <dl> <dt>
<a href="notificationevent/notification" title="The notification read-only property of the NotificationEvent interface returns the Notification that was clicked to fire the event."><code>NotificationEvent.notification</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd>Returns a <a href="notification" title="The Notification interface of the Notifications API is used to configure and display desktop notifications to the user."><code>Notification</code></a> object representing the notification that was clicked to fire the event.</dd> <dt>
<a href="notificationevent/action" title="Returns the string ID of the notification button the user clicked. This value returns undefined if the user clicked the notification somewhere other than an action button, or the notification does not have a button."><code>NotificationEvent.action</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd>Returns the string ID of the notification button the user clicked. This value returns <code>undefined</code> if the user clicked the notification somewhere other than an action button, or the notification does not have a button.</dd> </dl> <h2 id="Methods">Methods</h2> <p><em>Inherits methods from its parent, </em><em><a href="extendableevent" title="The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries."><code>ExtendableEvent</code></a></em>.</p> <dl> <dt><a href="extendableevent/waituntil" title="The ExtendableEvent.waitUntil() method extends the lifetime of the event. In service workers, extending the life of an event prevents the browser from terminating the service worker before asynchronous operations within the event have completed."><code>ExtendableEvent.waitUntil()</code></a></dt> <dd> <p>Extends the lifetime of the event. It is intended to be called in the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/install" title="/en-US/docs/Web/Events/install">install</a></code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventHandler" title="A possible way to get notified of Events of a particular type (such as click) for a given object is to specify an event handler using:"><code>EventHandler</code></a> for the <a href="serviceworkerregistration/installing" title="The installing property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installing. This property is initially set to null."><code>installing</code></a> worker and on the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/active" title="/en-US/docs/Web/Events/active">active</a></code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventHandler" title="A possible way to get notified of Events of a particular type (such as click) for a given object is to specify an event handler using:"><code>EventHandler</code></a> for the <a href="serviceworkerregistration/active" title="The active property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is activating or activated. This property is initially set to null."><code>active</code></a> worker.</p> </dd> </dl> <h2 id="Example">Example</h2> <pre data-language="js">self.addEventListener('notificationclick', function(event) {
  console.log('On notification click: ', event.notification.tag);
  event.notification.close();

  // This looks to see if the current is already open and
  // focuses if it is
  event.waitUntil(clients.matchAll({
    type: "window"
  }).then(function(clientList) {
    for (var i = 0; i &lt; clientList.length; i++) {
      var client = clientList[i];
      if (client.url == '/' &amp;&amp; 'focus' in client)
        return client.focus();
    }
    if (clients.openWindow)
      return clients.openWindow('/');
  }));
});
</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col"><font face="Open Sans, sans-serif">Specification</font></th> <th scope="col"><font face="Open Sans, sans-serif">Status</font></th> <th scope="col"><font face="Open Sans, sans-serif">Comment</font></th> </tr> <tr> <td><a href="https://notifications.spec.whatwg.org/#notificationevent" class="external" lang="en" hreflang="en">Notifications API<br><small lang="en-US">The definition of 'NotificationEvent' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>Living standard.</td> </tr> </tbody> </table> <div class="note"> <p><strong>Note</strong>: This interface is specified in the <a href="notifications_api">Notifications API</a>, but accessed through <a href="serviceworkerglobalscope" title="The ServiceWorkerGlobalScope interface of the ServiceWorker API represents the global execution context of a service worker."><code>ServiceWorkerGlobalScope</code></a>.</p> </div> <h2 id="Browser_Compatibility">Browser Compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>42</td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/44" title="Released on 2016-01-26.">44.0</a> (44.0)<sup>[1]</sup>
</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>action</td> <td>48</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>44.0 (44.0)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>42</td> </tr> <tr> <td>action</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td>48</td> </tr> </tbody> </table> </div> <p>[1] Service workers (and <a href="push_api">Push</a>) have been disabled in the <a href="https://www.mozilla.org/en-US/firefox/organizations/">Firefox 45 Extended Support Release</a> (ESR.)</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/NotificationEvent$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/NotificationEvent" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/NotificationEvent</a>
  </p>
</div>
