<h1>Notifications API: Using the Notifications API</h1> <p class="summary">The <a href="../notifications_api">Notifications API</a> lets a web page or app send notifications that are displayed outside the page at the system level; this lets web apps send information to a user even if the application is idle or in the background. This article looks at the basics of using this API in your own apps.</p> <div class="note">
<strong>Note:</strong> This feature is available in <a href="../web_workers_api">Web Workers</a>.</div> <p>Typically, system notifications refer to the operating system's standard notification mechanism: think for example of how a typical desktop system or mobile device brodcasts notifications.</p> <p><img src="https://mdn.mozillademos.org/files/10959/android-notification.png" alt="" style="display: block; height: 184px; margin: 0px auto; width: 300px;"><img src="https://mdn.mozillademos.org/files/10961/mac-notification.png" alt="" style="display: block; height: 97px; margin: 0px auto; width: 358px;"></p> <p>The system notification system will vary of course by platform and browser, but this is ok, and the Notifications API is written to be general enough for compatibility with most system notification systems.</p> <h2 id="Examples">Examples</h2> <div class="column-container"> <div class="column-half"> <p>One of the most obvious use cases for web notifications is a web-based mail or IRC application that needs to notify the user when a new message is received, even if the user is doing something else with another application. Many real examples of this now exist, such as <a href="https://slack.com/">Slack</a>.</p> <p>We've written a couple of real world demos to give more of an idea of how web notifications can be used:</p> <ul> <li>
<strong>To-do list</strong>: This is a simple to-do list app that stores data locally using <a href="../indexeddb_api">IndexedDB</a> and notifies users when tasks are due using system notifications. <a href="https://github.com/mdn/to-do-notifications/tree/gh-pages">Download the To-do list code</a>, or <a href="http://mdn.github.io/to-do-notifications/">view the app running live</a>.</li> <li>
<strong>Emogotchi</strong>: A rather silly parody of Tamagotchi, in which you have to keep your Emo miserable otherwise you lose the game. This uses system notifications to tell you how well you are doing, and to complain at you, ALL THE TIME. <a href="https://github.com/mdn/emogotchi">Download the Emogotchi code</a>, or <a href="http://mdn.github.io/emogotchi/">view it running live</a>.</li> </ul> </div> <div class="column-half"> <p style="text-align: center;"><img src="https://mdn.mozillademos.org/files/10963/emogotchi.png" alt="" style="max-width: 300px; width: 70%;">.</p> </div> </div> <h2 id="Requesting_permission">Requesting permission</h2> <p>Before an app can send a notification, the user must grant the application the right to do so. This is a common requirement when an API tries to interact with something outside a web page — at least once, the user needs to specifically grant that application permission to present notifications, thereby letting the user control which apps/sites are allowed to display notifications.</p> <h3 id="Checking_current_permission_status">Checking current permission status</h3> <p>You can check to see if you already have permission by checking the value of the <a title="The permission read-only property of the Notification interface indicates the current permission granted by the user for the current origin to display web notifications." href="../notification/permission"><code>Notification.permission</code></a> read only property. It can have one of three possible values:</p> <dl> <dt><code>default</code></dt> <dd>The user hasn't been asked for permission yet, so notifications won't be displayed.</dd> <dt><code>granted</code></dt> <dd>The user has granted permission to display notifications, after having been asked previously.</dd> <dt><code>denied</code></dt> <dd>The user has explicitly declined permission to show notifications.</dd> </dl> <h3 id="Getting_permission">Getting permission</h3> <p>If permission to display notifications hasn't been granted yet, the application needs to use the <a title="The requestPermission() method of the Notification interface requests permission from the user for the current origin to display notifications." href="../notification/requestpermission"><code>Notification.requestPermission()</code></a> method to request this from the user. In its simplest form, as used in the <a href="https://github.com/mdn/emogotchi/blob/gh-pages/main.js#L54">Emogotchi demo</a>, we just include the following:</p> <pre data-language="js">Notification.requestPermission().then(function(result) {
  console.log(result);
});</pre> <p>This uses the promise-version of the method, as supported in recent implementations (Firefox 47, for example.) If you want to support older versions, you might have to use the older callback version, which looks like this:</p> <pre data-language="js">Notification.requestPermission();</pre> <p>The callback version optionally accepts a callback function that is called once the user has responded to the request to display permissions (as seen in the second <code>else ... if</code> block below.) Commonly, you'll ask for permission to display notifications when your app is first initialized, and before trying to instantiate any. If you wanted to be really thorough, you could use a construct like the following (see <a href="https://github.com/mdn/to-do-notifications/blob/gh-pages/scripts/todo.js#L305-L344">To-do List Notifications</a>):</p> <pre data-language="js">function notifyMe() {
  // Let's check if the browser supports notifications
  if (!("Notification" in window)) {
    alert("This browser does not support system notifications");
  }

  // Let's check whether notification permissions have already been granted
  else if (Notification.permission === "granted") {
    // If it's okay let's create a notification
    var notification = new Notification("Hi there!");
  }

  // Otherwise, we need to ask the user for permission
  else if (Notification.permission !== 'denied') {
    Notification.requestPermission(function (permission) {
      // If the user accepts, let's create a notification
      if (permission === "granted") {
        var notification = new Notification("Hi there!");
      }
    });
  }

  // Finally, if the user has denied notifications and you 
  // want to be respectful there is no need to bother them any more.
}</pre> <div class="note"> <p><strong>Note:</strong> Before version 37, Chrome doesn't let you call <a title="The requestPermission() method of the Notification interface requests permission from the user for the current origin to display notifications." href="../notification/requestpermission"><code>Notification.requestPermission()</code></a> in the <code>load</code> event handler (see <a title="https://code.google.com/p/chromium/issues/detail?id=274284" href="https://code.google.com/p/chromium/issues/detail?id=274284">issue 274284</a>).</p> </div> <h3 id="Firefox_OS_manifest_permissions">Firefox OS manifest permissions</h3> <p>Please note that while the Notifications API is not <a title="privileged: Users are said to be privileged when they are granted additional rights to a system, or given ultimate access to content in a higher priority level when compared to normal users." href="https://developer.mozilla.org/en-US/docs/Glossary/privileged" class="glossaryLink">privileged</a> or <a title="certified: Certified means that an application, content or data transmission has successfully undergone evaluation by professionals with expertise in the relevant field, thereby indicating completeness, security and trustworthiness." href="https://developer.mozilla.org/en-US/docs/Glossary/certified" class="glossaryLink">certified</a>, you should still include an entry in your <code>manifest.webapp</code> file when including it in an Firefox OS app:</p> <pre>"permissions": {
  "desktop-notification": {
    "description": "Needed for creating system notifications."
  }
},
"messages": [{"notification": "path/to/your/index.html"}]

</pre> <div class="note"> <p><strong>Note</strong>: When an application is installed, you shouldn't need to <a href="#Getting_permission">explicitly request permission</a>, but you will still need the permissions and messages entries above for the notifications to be fired.</p> </div> <h2 id="Creating_a_notification">Creating a notification</h2> <p>Creating a notification is easy; just use the <a title="The Notification interface of the Notifications API is used to configure and display desktop notifications to the user." href="../notification"><code>Notification</code></a> constructor. This constructor expects a title to display within the notification and some options to enhance the notification such as an <a title="The icon read-only property of the Notification interface contains the URL of an icon to be displayed as part of the notification, as specified in the icon option of the Notification() constructor." href="../notification/icon"><code>icon</code></a> or a text <a title="The body read-only property of the Notification interface indicates the body string of the notification, as specified in the body option of the Notification() constructor." href="../notification/body"><code>body</code></a>.</p> <p>For example, in the <a href="https://github.com/mdn/emogotchi/blob/gh-pages/main.js#L101-L117">Emogotchi example</a> we have two functions that can be called when a notification needs to be fired; which one is used depends on whether we want a set notification, or a notification that includes random body content:</p> <pre data-language="js">function spawnNotification(theBody,theIcon,theTitle) {
  var options = {
      body: theBody,
      icon: theIcon
  }
  var n = new Notification(theTitle,options);
  setTimeout(n.close.bind(n), 5000); 
}

function randomNotification() {
  var randomQuote = quoteChooser();
  var options = {
      body: randomQuote,
      icon: 'img/sad_head.png',
  }

  var n = new Notification('Emogotchi says',options);
  setTimeout(n.close.bind(n), 5000); 
}</pre> <h2 id="Closing_notifications">Closing notifications</h2> <p>Firefox and Safari close notifications automatically after a few moments (around four seconds). This may also happen at the operating system level. Some browsers don't however, such as Chrome. To make sure that the notifications close in all browsers, at the end of the above functions, we call the <a title="The close() method of the Notification interface is used to close a previously displayed notification." href="../notification/close"><code>Notification.close</code></a> func<code>tion</code> inside a <a title="Sets a timer which executes a function or specified piece of code once after the timer expires." href="../windoworworkerglobalscope/settimeout"><code>setTimeout()</code></a> function to close the notification after 4 seconds. Also note the use of <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind">bind()</a></code> to make sure the <code>close()</code> call is associated with the notification.</p> <pre data-language="js">setTimeout(n.close.bind(n), 5000);
</pre> <div class="note"> <p><strong>Note</strong>: When you receive a "close" event, there is no guarantee that it's the user who closed the notification. This is in line with the specification, which states: "When a notification is closed, either by the underlying notifications platform or by the user, the close steps for it must be run."</p> </div> <h2 id="Notification_events">Notification events</h2> <p>The notifications API spec lists two events that are triggered on the <a title="The Notification interface of the Notifications API is used to configure and display desktop notifications to the user." href="../notification"><code>Notification</code></a> instance:</p> <dl> <dt><code><a title="/en-US/docs/Web/Events/click" href="https://developer.mozilla.org/en-US/docs/Web/Events/click">click</a></code></dt> <dd>Triggered when the user clicks on the notification.</dd> <dt><code><a title="/en-US/docs/Web/Events/error" href="https://developer.mozilla.org/en-US/docs/Web/Events/error">error</a></code></dt> <dd>Triggered if something goes wrong with the notification; this is usually because the notification couldn't be displayed for some reason.</dd> </dl> <p>These events can be tracked using the <a title="The onclick property of the Notification interface specifies an event listener to receive click events. These events occur when the user clicks on a displayed Notification." href="../notification/onclick"><code>onclick</code></a> and <a title="The onerror property of the Notification interface specifies an event listener to receive error events. These events occur when something goes wrong with a Notification (in many cases an error preventing the notification from being displayed.)" href="../notification/onerror"><code>onerror</code></a> handlers. Because <a title="The Notification interface of the Notifications API is used to configure and display desktop notifications to the user." href="../notification"><code>Notification</code></a> also inherits from <a title="EventTarget is an interface implemented by objects that can receive events and may have listeners for them." href="../eventtarget"><code>EventTarget</code></a>, it's possible to use the <a title="The EventTarget.addEventListener() method registers the specified listener on the EventTarget it's called on. The event target may be an Element in a document, the Document itself, a Window, or any other object that supports events (such as XMLHttpRequest)." href="../eventtarget/addeventlistener"><code>addEventListener()</code></a> method on it.</p> <p>There are also two other events that used to be listed in the spec, but were recently removed. These may still work in browsers for a while, but they should be treated as obsolete and not used:</p> <dl> <dt><code><a title="/en-US/docs/Web/Events/close" href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code></dt> <dd>Triggered once the notification is closed.</dd> <dt><code><a title="/en-US/docs/Web/Events/show" href="https://developer.mozilla.org/en-US/docs/Web/Events/show">show</a></code></dt> <dd>Triggered when the notification is displayed to the user.</dd> </dl> <h2 id="Replacing_existing_notifications">Replacing existing notifications</h2> <p>It is usually undesirable for a user to receive a lot of notifications in a short space of time — for example, what if a messenger application notified a user for each incoming message, and they were being sent a lot? To avoid spamming the user with too many notifications, it's possible to modify the pending notifications queue, replacing single or multiple pending notifications with a new one.</p> <p>To do this, it's possible to add a tag to any new notification. If a notification already has the same tag and has not been displayed yet, the new notification replaces that previous notification. If the notification with the same tag has already <span style="line-height: 1.5;">been </span><span style="line-height: 1.5;">displayed, the previous notification is closed and the new one is displayed.</span></p> <h3 id="Tag_example">Tag example</h3> <p>Assume the following basic HTML:</p> <pre data-language="html">&lt;button&gt;Notify me!&lt;/button&gt;</pre> <p>It's possible to handle multiple notifications this way:</p> <pre data-language="js">window.addEventListener('load', function () {
  // At first, let's check if we have permission for notification
  // If not, let's ask for it
  if (window.Notification &amp;&amp; Notification.permission !== "granted") {
    Notification.requestPermission(function (status) {
      if (Notification.permission !== status) {
        Notification.permission = status;
      }
    });
  }

  var button = document.getElementsByTagName('button')[0];

  button.addEventListener('click', function () {
    // If the user agreed to get notified
    // Let's try to send ten notifications
    if (window.Notification &amp;&amp; Notification.permission === "granted") {
      var i = 0;
      // Using an interval cause some browsers (including Firefox) are blocking notifications if there are too much in a certain time.
      var interval = window.setInterval(function () {
        // Thanks to the tag, we should only see the "Hi! 9" notification 
        var n = new Notification("Hi! " + i, {tag: 'soManyNotification'});
        if (i++ == 9) {
          window.clearInterval(interval);
        }
      }, 200);
    }

    // If the user hasn't told if he wants to be notified or not
    // Note: because of Chrome, we are not sure the permission property
    // is set, therefore it's unsafe to check for the "default" value.
    else if (window.Notification &amp;&amp; Notification.permission !== "denied") {
      Notification.requestPermission(function (status) {
        // If the user said okay
        if (status === "granted") {
          var i = 0;
          // Using an interval cause some browsers (including Firefox) are blocking notifications if there are too much in a certain time.
          var interval = window.setInterval(function () {
            // Thanks to the tag, we should only see the "Hi! 9" notification 
            var n = new Notification("Hi! " + i, {tag: 'soManyNotification'});
            if (i++ == 9) {
              window.clearInterval(interval);
            }
          }, 200);
        }

        // Otherwise, we can fallback to a regular modal alert
        else {
          alert("Hi!");
        }
      });
    }

    // If the user refuses to get notified
    else {
      // We can fallback to a regular modal alert
      alert("Hi!");
    }
  });
});</pre> <p>See the live result below:</p> <p><iframe width="100%" frameborder="0" class="live-sample-frame sample-code-frame" src="https://mdn.mozillademos.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API%24samples/Tag_example?revision=1152478" height="30" id="frame_Tag_example"></iframe></p> <h2 id="Receiving_notification_of_clicks_on_app_notifications">Receiving notification of clicks on app notifications</h2> <p>When a user clicks on a notification generated by an app, you will be notified of this event in two different ways, depending on the circumstance:</p> <ol> <li>A click event if your app has not closed or been put in the background between the time you create the notification and the time the user clicks on it.</li> <li>A <a href="https://developer.mozilla.org/en-US/docs/Web/API/navigator/mozSetMessageHandler">system message</a> otherwise.</li> </ol> <p>See <a href="https://github.com/mozilla/buddyup/commit/829cba7afa576052cf601c3e286b8d1981f93f45#diff-3">this code snippet</a> for an example of how to deal with this.</p> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" class="external" href="https://notifications.spec.whatwg.org/" title="The 'Notifications API' specification">Notifications API</a></td> <td><span class="spec-Living">Living Standard</span></td> <td>Living standard</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2> <div id="compat-desktop"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr>
<tr>
<td>Basic support</td> <td>5<span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'webkit' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">webkit</a></span><sup>[1]</sup><br> 22</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>4.0 <span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'moz' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br> 22</td> <td><span style="color: #f00;">No support</span></td> <td>25</td> <td>6<sup>[3]</sup>
</td> </tr>
<tr>
<td><code>icon</code></td> <td>5<span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'webkit' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">webkit</a></span><sup>[1]</sup><br> 22</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>4.0 <span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'moz' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br> 22</td> <td><span style="color: #f00;">No support</span></td> <td>25</td> <td><span style="color: #f00;">No support</span></td> </tr>
<tr>
<td>Available in workers</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a title="Released on 2015-09-22." href="https://developer.mozilla.org/en-US/Firefox/Releases/41">41.0</a> (41.0)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr>
<tr>
<td><code>silent</code></td> <td>43.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr>
<tr>
<td>
<code>noscreen</code>, <code>sticky</code>
</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr>
<tr>
<td><code>sound</code></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr>
<tr>
<td><code>renotify</code></td> <td>50.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr>
<tr>
<td>Promise-based <code>Notification.requestPermission()</code>
</td> <td>46.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a title="Released on 2016-06-07." href="https://developer.mozilla.org/en-US/Firefox/Releases/47">47.0</a> (47.0)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>40</td> <td><span style="color: #f00;">No support</span></td> </tr>
<tr>
<td>
<code>vibrate</code>, <code>actions</code>
</td> <td>53.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td>39</td> <td> </td> </tr>
<tr>
<td><code>badge</code></td> <td>53.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td>39</td> <td> </td> </tr>
<tr>
<td><code>image</code></td> <td>55.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> </tr>
</tbody></table>
</div> <div id="compat-mobile"> <table class="compat-table"><tbody>
<tr>
<th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr>
<tr>
<td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> <p><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></p> </td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>4.0<span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'moz' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br> 22</td> <td>1.0.1<span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'moz' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br> 1.2</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td> <p><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></p> </td> </tr>
<tr>
<td><code>icon</code></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>4.0<span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'moz' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br> 22</td> <td>1.0.1<span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'moz' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">moz</a></span><sup>[2]</sup><br> 1.2</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr>
<tr>
<td>Available in workers</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>41.0 (41.0)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr>
<tr>
<td><code>silent</code></td> <td><span style="color: #f00;">No support</span></td> <td>43.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>43.0</td> </tr>
<tr>
<td>
<code>noscreen</code>, <code>sticky</code>
</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr>
<tr>
<td><code>sound</code></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr>
<tr>
<td><code>renotify</code></td> <td><span style="color: #f00;">No support</span></td> <td>50.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr>
<tr>
<td>Promise-based <code>Notification.requestPermission()</code>
</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>47.0 (47.0)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr>
<tr>
<td>
<code>vibrate</code>, <code>actions</code>
</td> <td><span style="color: #f00;">No support</span></td> <td>53.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td> </td> <td>39</td> <td> </td> <td>53.0</td> </tr>
<tr>
<td><code>badge</code></td> <td><span style="color: #f00;">No support</span></td> <td>53.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td> </td> <td>39</td> <td> </td> <td>53.0</td> </tr>
<tr>
<td><code>image</code></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td> </td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td>55.0</td> </tr>
</tbody></table>
</div> <p>[1] Before Chrome 22, the support for notification followed an <a href="http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification">old prefixed version of the specification</a> and used the <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/window/navigator/webkitNotifications"><code>navigator.webkitNotifications</code></a> object to instantiate a new notification.</p> <p>Before Chrome 32, <a title="The permission read-only property of the Notification interface indicates the current permission granted by the user for the current origin to display web notifications." href="../notification/permission"><code>Notification.permission</code></a> was not supported.</p> <p>Before Chrome 42, service worker additions were not supported.</p> <p>Starting in Chrome 49, notifications do not work in incognito mode.</p> <p>[2] Prior to Firefox 22 (Firefox OS &lt;1.2), the instantiation of a new notification must be done with the <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/window/navigator/mozNotification"><code>navigator.mozNotification</code></a> object through its <code>createNotification</code> method.</p> <p>Prior to Firefox 22 (Firefox OS &lt;1.2), the Notification was displayed when calling the <code>show</code> method and supported only the <code>click</code> and <code>close</code> events.</p> <p>Nick Desaulniers wrote a <a href="https://github.com/nickdesaulniers/fxos-irc/blob/master/js/notification.js">Notification shim</a> to cover both newer and older implementations.</p> <p>One particular Firefox OS issue is that you can <a href="https://github.com/nickdesaulniers/fxos-irc/blob/0160cf6c3a2b5c9fe33822aaf6bcba3b7e846da9/my.js#L171">pass a path to an icon</a> to use in the notification, but if the app is packaged you cannot use a relative path like <code>/my_icon.png</code>. You also can't use <code>window.location.origin + "/my_icon.png"</code> because <code>window.location.origin</code> is null in packaged apps. The <a href="https://developer.mozilla.org/en-US/Apps/Developing/Manifest#origin">manifest origin field</a> fixes this, but it is only available in Firefox OS 1.1+. A potential solution for supporting Firefox OS &lt;1.1 is to <a href="https://github.com/nickdesaulniers/fxos-irc/blob/0160cf6c3a2b5c9fe33822aaf6bcba3b7e846da9/my.js#L168">pass an absolute URL to an externally hosted version of the icon</a>. This is less than ideal as the notification is displayed immediately without the icon, then the icon is fetched, but it works on all versions of Firefox OS.</p> <p>When using notifications in a Firefox OS app, be sure to add the <code>desktop-notification</code> permission in your manifest file. Notifications can be used at any permission level, hosted or above: <code>"permissions": { "desktop-notification": {} }</code></p> <p>[3] Safari started to support notification with Safari 6, but only on Mac OSX 10.8+ (Mountain Lion).</p> <h2 id="See_also">See also</h2> <ul> <li><a href="https://developer.mozilla.org/en-US/Apps/Build/User_notifications">User notifications reference</a></li> <li><a href="https://developer.mozilla.org/en-US/Apps/Build/User_notifications/Notifying_users_via_the_Notification_and_Vibration">Notifying users via the Notification and Vibration APIs</a></li> <li><a title="The Notification interface of the Notifications API is used to configure and display desktop notifications to the user." href="../notification"><code>Notification</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API</a>
  </p>
</div>
