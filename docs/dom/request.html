<h1>Request</h1><div><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div></div> <p>The <strong><code>Request</code></strong> interface of the <a href="fetch_api">Fetch API</a> represents a resource request.</p> <p>You can create a new <code>Request</code> object using the <a title="The Request() constructor creates a new Request object." href="request/request"><code>Request.Request()</code></a> constructor, but you are more likely to encounter a <code>Request</code> object being returned as the result of another API operation, such as a service worker <a title="The request read-only property of the FetchEvent interface returns the Request that triggered the event handler." href="fetchevent/request"><code>FetchEvent.request</code></a>.</p> <h2 id="Constructor">Constructor</h2> <dl> <dt><a title="The Request() constructor creates a new Request object." href="request/request"><code>Request.Request()</code></a></dt> <dd>Creates a new <code>Request</code> object.</dd> </dl> <h2 id="Properties">Properties</h2> <dl> <dt>
<a title="The method read-only property of the Request interface contains the request's method (GET, POST, etc.)" href="request/method"><code>Request.method</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the request's method (<code>GET</code>, <code>POST</code>, etc.)</dd> <dt>
<a title="The url read-only property of the Request interface contains the URL of the request." href="request/url"><code>Request.url</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the URL of the request.</dd> <dt>
<a title="The headers read-only property of the Request interface contains the Headers object associated with the request." href="request/headers"><code>Request.headers</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the associated <a title="The Headers interface of the Fetch API allows you to perform various actions on HTTP request and response headers. These actions include retrieving, setting, adding to, and removing. A Headers object has an associated header list, which is initially empty and consists of zero or more name and value pairs.  You can add to this using methods like append() (see Examples.) In all methods of this interface, header names are matched by case-insensitive byte sequence." href="headers"><code>Headers</code></a> object of the request.</dd> <dt>
<a title="The context read-only property of the Request interface contains the context of the Request (e.g., audio, image, iframe). This defines what sort of resource is being fetched." href="https://developer.mozilla.org/en-US/docs/Web/API/Request/context"><code>Request.context</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span> 
</dt> <dd>Contains the context of the request (e.g., <code>audio</code>, <code>image</code>, <code>iframe</code>, etc.)</dd> <dt>
<a title="The referrer read-only property of the Request interface is set by the user agent to be the referrer of the Request. (e.g., about:client, no-referrer, or a URL.)" href="request/referrer"><code>Request.referrer</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the referrer of the request (e.g., <code>client</code>).</dd> <dt>
<a title="The referrerPolicy read-only property of the Request interface contains the referrer policy governing the referrer for the  request." href="request/referrerpolicy"><code>Request.referrerPolicy</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the referrer policy of the request (e.g., <code>no-referrer</code>).</dd> <dt>
<a title="The mode read-only property of the Request interface contains the mode of the request (e.g., cors, no-cors, cors-with-forced-preflight, same-origin, or navigate.) This is used to determine if cross-origin requests lead to valid responses, and which properties of the response are readable:" href="request/mode"><code>Request.mode</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the mode of the request (e.g., <code>cors</code>, <code>no-cors</code>, <code>same-origin</code>, <code>navigate</code>.)</dd> <dt>
<a title="The credentials read-only property of the Request interface indicates whether the user agent should send cookies from the other domain in the case of cross-origin requests. This is similar to XHR’s withCredentials flag, but with three available values (instead of two):" href="request/credentials"><code>Request.credentials</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the credentials of the request (e.g., <code>omit</code>, <code>same-origin</code>).</dd> <dt>
<a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Request/redirect"><code>Request.redirect</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the mode for how redirects are handled. It may be one of <code>follow</code>, <code>error</code>, or <code>manual</code>.</dd> <dt>
<a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Request/integrity"><code>Request.integrity</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">subresource integrity</a> value of the request (e.g., <code>sha256-BpfBw7ivV8q2jLiT13fxDYAe2tJllusRSZ273h2nFSE=</code>).</dd> <dt>
<a title="The cache read-only property of the Request interface contains the cache mode of the request. It controls how the request will interact with the browser's HTTP cache." href="request/cache"><code>Request.cache</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Contains the cache mode of the request (e.g., <code>default</code>, <code>reload</code>, <code>no-cache</code>).</dd> </dl> <p><code>Request</code> implements <a title="The Body mixin of the Fetch API represents the body of the response/request, allowing you to declare what its content type is and how it should be handled." href="body"><code>Body</code></a>, so it also has the following property available to it:</p> <dl> <dt>
<a title="The bodyUsed read-only property of the Body mixin contains a Boolean that indicates whether the body has been read yet." href="body/bodyused"><code>Body.bodyUsed</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Stores a <a title="The Boolean object is an object wrapper for a boolean value." href="https://developer.mozilla.org/en-US/docs/Web/API/Boolean"><code>Boolean</code></a> that declares whether the body has been used in a response yet.</dd> </dl> <h2 id="Methods">Methods</h2> <dl> <dt><a title="The clone() method of the Request interface creates a copy of the current Request object." href="request/clone"><code>Request.clone()</code></a></dt> <dd>Creates a copy of the current <code>Request</code> object.</dd> </dl> <p><code>Request</code> implements <a title="The Body mixin of the Fetch API represents the body of the response/request, allowing you to declare what its content type is and how it should be handled." href="body"><code>Body</code></a>, so it also has the following methods available to it:</p> <dl> <dt><a title="The arrayBuffer() method of the Body mixin takes a Response stream and reads it to completion. It returns a promise that resolves with an ArrayBuffer." href="body/arraybuffer"><code>Body.arrayBuffer()</code></a></dt> <dd>Returns a promise that resolves with an <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBuffer"><code>ArrayBuffer</code></a> representation of the request body.</dd> <dt><a title="The blob() method of the Body mixin takes a Response stream and reads it to completion. It returns a promise that resolves with a Blob." href="body/blob"><code>Body.blob()</code></a></dt> <dd>Returns a promise that resolves with a <a title="A Blob object represents a file-like object of immutable, raw data. Blobs represent data that isn't necessarily in a JavaScript-native format. The File interface is based on Blob, inheriting blob functionality and expanding it to support files on the user's system." href="blob"><code>Blob</code></a> representation of the request body.</dd> <dt><a title="The formData() method of the Body mixin takes a Response stream and reads it to completion. It returns a promise that resolves with a FormData object." href="body/formdata"><code>Body.formData()</code></a></dt> <dd>Returns a promise that resolves with a <a title='The FormData interface provides a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest.send() method. It uses the same format a form would use if the encoding type were set to "multipart/form-data".' href="formdata"><code>FormData</code></a> representation of the request body.</dd> <dt><a title="The json() method of the Body mixin takes a Response stream and reads it to completion. It returns a promise that resolves with an object literal containing the JSON data." href="body/json"><code>Body.json()</code></a></dt> <dd>Returns a promise that resolves with a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/JSON"><code>JSON</code></a> representation of the request body.</dd> <dt><a title="The text() method of the Body mixin takes a Response stream and reads it to completion. It returns a promise that resolves with a USVString object (text)." href="body/text"><code>Body.text()</code></a></dt> <dd>Returns a promise that resolves with an <a title="USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on." href="usvstring"><code>USVString</code></a> (text) representation of the request body.</dd> </dl> <p>Note: The <a title="The Body mixin of the Fetch API represents the body of the response/request, allowing you to declare what its content type is and how it should be handled." href="body"><code>Body</code></a> functions can be run only once; next calls will resolve with empty strings/ArrayBuffers.</p> <h2 id="Examples">Examples</h2> <p>In the following snippet, we create a new request using the <code>Request()</code> constructor (for an image file in the same directory as the script), then return some property values of the request:</p> <pre data-language="js">var myRequest = new Request('http://localhost/flowers.jpg');

var myURL = myRequest.url; // http://localhost/flowers.jpg
var myMethod = myRequest.method; // GET
var myCred = myRequest.credentials; // omit
</pre> <p>You could then fetch this request by passing the <code>Request</code> object in as a parameter to a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>GlobalFetch.fetch()</code></a> call, for example:</p> <pre data-language="js">fetch(myRequest)
    .then(function(response) {
        return response.blob();
    })
    .then(function(response) {
        var objectURL = URL.createObjectURL(response);
        myImage.src = objectURL;
    });</pre> <p>In the following snippet, we create a new request using the <code>Request()</code> constructor with some initial data and body content for an api request which need a body payload:</p> <pre data-language="js">var myRequest = new Request('http://localhost/api', {method: 'POST', body: '{"foo":"bar"}'});
 
var myURL = myRequest.url; // http://localhost/api
var myMethod = myRequest.method; // POST
var myCred = myRequest.credentials; // omit
var bodyUsed = myRequest.bodyUsed; // true
</pre> <div class="note"> <p><strong>Note:</strong> The body type can only be a <a title="A Blob object represents a file-like object of immutable, raw data. Blobs represent data that isn't necessarily in a JavaScript-native format. The File interface is based on Blob, inheriting blob functionality and expanding it to support files on the user's system." href="blob"><code>Blob</code></a>, <a title="Editorial review completed." href="buffersource"><code>BufferSource</code></a>, <a title='The FormData interface provides a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest.send() method. It uses the same format a form would use if the encoding type were set to "multipart/form-data".' href="formdata"><code>FormData</code></a>, <a title="The URLSearchParams interface defines utility methods to work with the query string of a URL." href="urlsearchparams"><code>URLSearchParams</code></a>, <a title="USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on." href="usvstring"><code>USVString</code></a> or <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream"><code>ReadableStream</code></a> type, so for adding a JSON object to the payload you need to stringify that object.</p> </div> <p>You could then fetch this api request by passing the <code>Request</code> object in as a parameter to a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch"><code>GlobalFetch.fetch()</code></a> call, for example and get the response:</p> <pre data-language="js">fetch(myRequest)
    .then(function(response) {
        if(response.status == 200) return response.json();
        else throw new Error('Something went wrong on api server!');
    })
    .then(function(response) {
        console.debug(response);
        // ...
    })
    .catch(function(error) {
        console.error(error);
    });</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://fetch.spec.whatwg.org/#request-class" class="external">Fetch<br><small lang="en-US">The definition of 'Request' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>Initial definition</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td> <p>42.0</p> </td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2015-06-30." href="https://developer.mozilla.org/en-US/Firefox/Releases/39">39</a> (39)<br> 34<sup>[1]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td> <p>29<br> 28<sup>[1]</sup></p> </td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td><code>Request.integrity</code></td> <td>45.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td><span style="color: #f00;">No support</span></td> <td> </td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td><code>Request.redirect</code></td> <td>46.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>42.0</td> </tr> <tr> <td><code>Request.integrity</code></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td>45.0</td> </tr> <tr> <td><code>Request.redirect</code></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td>46.0</td> </tr> </tbody> </table> </div> <h2 id="See_also">See also</h2> <ul> <li><a href="service_worker_api">ServiceWorker API</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">HTTP access control (CORS)</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP">HTTP</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Request</a>
  </p>
</div>
