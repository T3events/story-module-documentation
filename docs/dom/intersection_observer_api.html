<h1>Intersection Observer API</h1><div><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div></div> <p class="summary">The Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document's <a title="viewport: A viewport represents a polygonal (normally rectangular) area in computer graphics that is currently being viewed. In web browser terms, it refers to the part of the browser that is taken up by visible website content." href="https://developer.mozilla.org/en-US/docs/Glossary/viewport" class="glossaryLink">viewport</a>.</p> <h2 id="Intersection_observer_concepts_and_usage">Intersection observer concepts and usage</h2> <p>The Intersection Observer API allows you to configure a callback that is called whenever one item, called a target, intersects either the device viewport or a specified element called, for the purpose of this API, the root element. Create the intersection observer by calling its constructor and passing it a reference to the callback function.</p> <pre data-language="js">var options = {
    root: document.querySelector('#scrollArea'),
    rootMargin: '0px',
    threshold: 1.0
}
var callback = function(entries, observer) { 
    /* Content excerpted, show below */ 
};
var observer = new IntersectionObserver(callback, options);</pre> <p>A threshold of 1.0 means that when 100 percent of <code>target</code> is visible within the <code>root </code>element, the callback is invoked.</p> <h3 id="options">options</h3> <dl> <dt>root</dt> <dd>The element that is used as the viewport for checking visiblity of the target. Defaults to the browser viewport.</dd> <dt>rootMargin </dt> <dd>Margin around the root. Can have values similar to the css margin property: "<code>10px 20px 30px 40px" (top, right, bottom, left). If the root element is specified % values can be used.</code>
</dd> <dt>threshold</dt> <dd>Number or array of numbers to indicate at what % of visiblity of the target the observer should trigger. eg: trigger for every 25 percent that comes into view: [0, 0.25, 0.5, 0.75, 1]</dd> </dl> <p>Once you have the observer, give it a target.</p> <pre data-language="js">var target = document.querySelector('#listItem');
observer.observe(target);
</pre> <p>Whenever the target meets the threshold specified for the IntersectionObserver, the callback is invoked.</p> <pre data-language="js">var callback = function(entries, observer) { 
    entries.forEach(entry =&gt; {
        entry.time;               // a DOMHightResTimeStamp indicating when the intersection occurred.
        entry.rootBounds;         // a DOMRectReadOnly for the intersection observer's root.
        entry.boundingClientRect; // a DOMRectReadOnly for the intersection observer's target.
        entry.intersectionRect;   // a DOMRectReadOnly for the visible portion of the intersection observer's target.
        entry.intersectionRatio;  // the number for the ratio of the intersectionRect to the boundingClientRect.
        entry.target;             // the Element whose intersection with the intersection root changed.
    });
};
</pre> <h2 id="Interfaces">Interfaces</h2> <dl> <dt><a title="The IntersectionObserver interface of the the Intersection Observer API provides a way to asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document's viewport. The ancestor or viewport is referred to as the root." href="intersectionobserver"><code>IntersectionObserver</code></a></dt> <dd>Provides a way to <span style="line-height: 1.5;">asynchronously observe changes in the intersection of a target element with an ancestor element or with a top-level document's <a title="viewport: A viewport represents a polygonal (normally rectangular) area in computer graphics that is currently being viewed. In web browser terms, it refers to the part of the browser that is taken up by visible website content." href="https://developer.mozilla.org/en-US/docs/Glossary/viewport" class="glossaryLink">viewport</a>. The ancestor or viewport is referred to as the root.</span>
</dd> <dt><a title="The IntersectionObserverEntry interface of the the Intersection Observer API provides information about the intersection of a particular target with the observers root element at a particular time. Instances of this interface cannot be created, but a list of them is returned by IntersectionObserver.takeRecords()." href="intersectionobserverentry"><code>IntersectionObserverEntry</code></a></dt> <dd>Provides information about the intersection of a particular target with the observers root element at a particular time. Instances of this interface cannot be created, but a list of them is returned by <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/takeRecords"><code>IntersectionObserver.takeRecords()</code></a>.</dd> </dl> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" class="external" href="https://wicg.github.io/IntersectionObserver/" title="The 'Intersection Observer' specification">Intersection Observer</a></td> <td><span class="spec-ED">Editor's Draft</span></td> <td>Initial definition.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>51.0</td> <td>
<span style="color: #f00;">No support</span><sup>[1]</sup>
</td> <td>
<span style="color: #f00;">No support</span><sup>[2]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td>51.0</td> <td>
<span style="color: #f00;">No support</span><sup>[1]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>51.0</td> </tr> </tbody> </table> </div> <p>[1] This feature is <a href="https://developer.microsoft.com/en-us/microsoft-edge/platform/status/intersectionobserver/">available since the Windows Insider Preview Build 14986</a>.</p> <p>[2] This feature is implemented since Gecko 53.0 (Firefox 53.0 / Thunderbird 53.0 / SeaMonkey 2.50) behind the preference <code>dom.IntersectionObserver.enabled</code>, defaulting to false. See <a title="FIXED: Implement Intersection Observer API" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1243846">bug 1243846</a>.</p> <h2 id="See_also">See also</h2> <ul> <li><a href="https://github.com/WICG/IntersectionObserver/tree/gh-pages/polyfill">Intersection Observer polyfill</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API</a>
  </p>
</div>
