<h1>Cache.matchAll</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p>The <strong><code>matchAll()</code></strong> method of the <a href="../cache" title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec."><code>Cache</code></a> interface returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never."><code>Promise</code></a> that resolves to an array of all matching requests in the <a href="../cache" title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec."><code>Cache</code></a> object.</p> <h2 id="Syntax">Syntax</h2> <pre data-language="js">cache.matchAll(request,{options}).then(function(response) {
  //do something with the response array
});
</pre> <h3 id="Returns">Returns</h3> <p>a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never."><code>Promise</code></a> that resolves to an array of all matching requests in the <a href="../cache" title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec."><code>Cache</code></a> object.</p> <div class="note"> <p><strong>Note</strong>: <a href="match" title="The match() method of the Cache interface returns a Promise that resolves to the Response associated with the first matching request in the Cache object. If no match is found, the Promise resolves to undefined."><code>Cache.match()</code></a> is basically identical to <code>Cache.matchAll()</code>, except it resolves with <code>response[0]</code> (i.e. the first matching response) instead of <code>response</code> (all matching response in an array).</p> </div> <h3 id="Parameters">Parameters</h3> <dl> <dt>request</dt> <dd>The <a href="../request" title="The Request interface of the Fetch API represents a resource request."><code>Request</code></a> you are attempting to find in the <a href="../cache" title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec."><code>Cache</code></a>.</dd> <dt>options <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An options object allowing you to set specific control options for the matching done in the <code>match</code> operation. The available options are: <ul> <li>
<code>ignoreSearch</code>: A <a href="https://developer.mozilla.org/en-US/docs/Web/API/Boolean" title="The Boolean object is an object wrapper for a boolean value."><code>Boolean</code></a> that specifies whether the matching process should ignore the query string in the url. If set to <code>true</code>, the <code>?value=bar</code> part of <code>http://foo.com/?value=bar</code> would be ignored when performing a match. It defaults to <code>false</code>.</li> <li>
<code>ignoreMethod</code>: A <a href="https://developer.mozilla.org/en-US/docs/Web/API/Boolean" title="The Boolean object is an object wrapper for a boolean value."><code>Boolean</code></a> that, when set to <code>true</code>, prevents matching operations from validating the <a href="../request" title="The Request interface of the Fetch API represents a resource request."><code>Request</code></a> <code>http</code> method (normally only <code>GET</code> and <code>HEAD</code> are allowed.) It defaults to <code>false</code>.</li> <li>
<code>ignoreVary</code>: A <a href="https://developer.mozilla.org/en-US/docs/Web/API/Boolean" title="The Boolean object is an object wrapper for a boolean value."><code>Boolean</code></a> that when set to <code>true</code> tells the matching operation not to perform <code>VARY</code> header matching â€” i.e. if the URL matches you will get a match regardless of the <a href="../response" title="The Response interface of the Fetch API represents the response to a request."><code>Response</code></a> object having a <code>VARY</code> header or not. It defaults to <code>false</code>.</li> <li>
<code>cacheName</code>: A <a href="../domstring" title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> that represents a specific cache to search within. <strong>Note that this option is ignored by <code>Cache.matchAll()</code>.</strong>
</li> </ul> </dd> </dl> <h2 id="Examples">Examples</h2> <pre data-language="js">caches.open('v1').then(function(cache) {
  cache.matchAll('/images/').then(function(response) {
    response.forEach(function(element, index, array) {
      cache.delete(element);
    });
  });
})</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://www.w3.org/TR/service-workers/#cache" class="external" lang="en" hreflang="en">Service Workers<br><small lang="en-US">The definition of 'Cache' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial definition.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>47.0 <sup>[1]</sup>
</td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/44" title="Released on 2016-01-26.">44</a> (44)<sup>[2]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td>34</td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>All options supported</td> <td>54.0</td> <td> </td> <td> </td> <td>41</td> <td> </td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td>47.0<sup>[1]</sup>
</td> </tr> <tr> <td>All options supported</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td> </td> <td> </td> <td> </td> <td>41</td> <td> </td> <td>54.0</td> </tr> </tbody> </table> </div> <p>[1] The options parameter only supports <code>ignoreSearch</code>, and <code>cacheName</code>. </p> <p>[2] Service workers (and <a href="../push_api">Push</a>) have been disabled in the <a href="https://www.mozilla.org/en-US/firefox/organizations/">Firefox 45 Extended Support Release</a> (ESR.)</p> <h2 id="See_also">See also</h2> <ul> <li><a href="../service_worker_api/using_service_workers">Using Service Workers</a></li> <li><a href="../cache" title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec."><code>Cache</code></a></li> <li><a href="../windoworworkerglobalscope/caches" title="Technical review completed."><code>WorkerGlobalScope.caches</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/matchAll$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/matchAll" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Cache/matchAll</a>
  </p>
</div>
