<h1>Cache.keys</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p>The <strong><code>keys()</code></strong> method of the <a title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec." href="../cache"><code>Cache</code></a> interface returns a <a title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to an array of <a title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec." href="../cache"><code>Cache</code></a> keys.</p> <p>The requests are returned in the same order that they were inserted.</p> <div class="note"> <p><strong>Note</strong>: Requests with duplicate URLs but different headers can be returned if their responses have the <code>VARY</code> header set on them.</p> </div> <h2 id="Syntax">Syntax</h2> <pre data-language="js">cache.keys(request,{options}).then(function(keys) {
  //do something with your array of requests
});
</pre> <h3 id="Returns">Returns</h3> <p>A <a title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to an array of <a title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec." href="../cache"><code>Cache</code></a> keys.</p> <h3 id="Parameters">Parameters</h3> <dl> <dt>request <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>The <a title="The Request interface of the Fetch API represents a resource request." href="../request"><code>Request</code></a> want to return, if a specific key is desired.</dd> <dt>options <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An object whose properties control how matching is done in the <code>keys</code> operation. The available options are: <ul> <li>
<code>ignoreSearch</code>: A <a title="The Boolean object is an object wrapper for a boolean value." href="https://developer.mozilla.org/en-US/docs/Web/API/Boolean"><code>Boolean</code></a> that specifies whether the matching process should ignore the query string in the url. If set to <code>true</code>, the <code>?value=bar</code> part of <code>http://foo.com/?value=bar</code> would be ignored when performing a match. It defaults to <code>false</code>.</li> <li>
<code>ignoreMethod</code>: A <a title="The Boolean object is an object wrapper for a boolean value." href="https://developer.mozilla.org/en-US/docs/Web/API/Boolean"><code>Boolean</code></a> that, when set to <code>true</code>, prevents matching operations from validating the <a title="The Request interface of the Fetch API represents a resource request." href="../request"><code>Request</code></a> <code>HTTP</code> method (normally only <code>GET</code> and <code>HEAD</code> are allowed.) It defaults to <code>false</code>.</li> <li>
<code>ignoreVary</code>: A <a title="The Boolean object is an object wrapper for a boolean value." href="https://developer.mozilla.org/en-US/docs/Web/API/Boolean"><code>Boolean</code></a> that, when set to <code>true,</code> tells the matching operation not to perform <code>VARY</code> header matching. In other words, if the URL matches you will get a match regardless of whether the <a title="The Response interface of the Fetch API represents the response to a request." href="../response"><code>Response</code></a> object has a <code>VARY</code> header. It defaults to <code>false</code>.</li> <li>
<code>cacheName</code>: A <a title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String." href="../domstring"><code>DOMString</code></a> that represents a specific cache to search within. Note that this option is ignored by <code>Cache.keys()</code>.</li> </ul> </dd> </dl> <h2 id="Examples">Examples</h2> <pre data-language="js">caches.open('v1').then(function(cache) {
  cache.keys().then(function(keys) {
    keys.forEach(function(request, index, array) {
      cache.delete(request);
    });
  });
})</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a hreflang="en" class="external" lang="en" href="https://www.w3.org/TR/service-workers/#cache">Service Workers<br><small lang="en-US">The definition of 'Cache' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial definition.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>40.0<sup>[1]</sup>
</td> <td>
<a title="Released on 2015-06-30." href="https://developer.mozilla.org/en-US/Firefox/Releases/39">39</a> (39)<sup>[2]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td>24</td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>All options supported</td> <td>54.0</td> <td> </td> <td> </td> <td>41</td> <td> </td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>39.0 (39)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td>40.0<sup>[1]</sup>
</td> </tr> <tr> <td>All options supported</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td> </td> <td> </td> <td> </td> <td>41</td> <td> </td> <td>54.0</td> </tr> </tbody> </table> </div> <p>[1] The options parameter only supports <code>ignoreSearch</code>, and <code>cacheName</code>. </p> <p>[2] Service workers (and <a href="../push_api">Push</a>) have been disabled in the <a href="https://www.mozilla.org/en-US/firefox/organizations/">Firefox 45 Extended Support Release</a> (ESR.)</p> <h2 id="See_also">See also</h2> <ul> <li><a href="../service_worker_api/using_service_workers">Using Service Workers</a></li> <li><a title="The Cache interface provides a storage mechanism for Request / Response object pairs that are cached, for example as part of the ServiceWorker life cycle. Note that the Cache interface is exposed to windowed scopes as well as workers. You don't have to use it in conjunction with service workers, even though it is defined in the service worker spec." href="../cache"><code>Cache</code></a></li> <li><a title="Technical review completed." href="../windoworworkerglobalscope/caches"><code>WorkerGlobalScope.caches</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/keys$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/keys" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Cache/keys</a>
  </p>
</div>
