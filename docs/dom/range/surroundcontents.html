<h1>Range.surroundContents</h1> <p>The <strong><code>Range.surroundContents()</code></strong> method moves content of the <a title="The Range interface represents a fragment of a document that can contain nodes and parts of text nodes." href="../range"><code>Range</code></a> into a new node, placing the new node at the start of the specified range.</p> <p>This method is nearly equivalent to <code>newNode.appendChild(<a title="en/DOM/range.extractContents" href="extractcontents">range.extractContents()</a>); <a title="/en-US/docs/DOM/range.insertNode" href="insertnode">range.insertNode</a>(newNode)</code>. After surrounding, the boundary points of the <code>range</code> include <code>newNode</code>.</p> <p>An exception will be thrown, however, if the <a title="The Range interface represents a fragment of a document that can contain nodes and parts of text nodes." href="../range"><code>Range</code></a> splits a non-<a title="The Text interface represents the textual content of Element or Attr.  If an element has no markup within its content, it has a single child implementing Text that contains the element's text.  However, if the element contains markup, it is parsed into information items and Text nodes that form its children." href="../text"><code>Text</code></a> node with only one of its boundary points. That is, unlike the alternative above, if there are partially selected nodes, they will not be cloned and instead the operation will fail.</p> <h2 id="Syntax" name="Syntax">Syntax</h2> <pre class="syntaxbox"><em>range</em>.surroundContents(<em>newNode</em>);
</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt><em>newNode</em></dt> <dd>A <a title="A Node is an interface from which a number of DOM types inherit, and allows these various types to be treated (or tested) similarly." href="../node"><code>Node</code></a> to split based on the range.</dd> </dl> <h2 id="Example" name="Example">Example</h2> <pre data-language="js">var range = document.createRange();
var newNode = document.createElement("p");

range.selectNode(document.getElementsByTagName("div").item(0));
range.surroundContents(newNode);
</pre> <h2 id="Specification" name="Specification">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://dom.spec.whatwg.org/#dom-range-surroundcontents" class="external">DOM<br><small lang="en-US">The definition of 'Range.surroundContents()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>No change.</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level2-Range-method-surroundContents" class="external">Document Object Model (DOM) Level 2 Traversal and Range Specification<br><small lang="en-US">The definition of 'Range.surroundContents()' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Initial specification.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>1.0 (1.7 or earlier) [1]</td> <td>9.0</td> <td>9.0</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>1.0 (1.0) [1]</td> <td>9.0</td> <td>9.0</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <p>[1] Before Firefox 1.5, a bug was preventing <code>Range.surroundContents</code> to work <span id="summary_alias_container"><span id="short_desc_nonedit_display">if the start and end of range were in same textnode</span></span> (<a title="FIXED: Range.surroundContent broken if start and end of range in same textnode" href="https://bugzilla.mozilla.org/show_bug.cgi?id=135928">bug 135928</a>).</p> <h2 id="See_also">See also</h2> <ul> <li><a title="/en-US/docs/DOM/DOM_Reference" href="https://developer.mozilla.org/en-US/docs/DOM/DOM_Reference">The DOM interfaces index</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Range/surroundContents$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Range/surroundContents" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Range/surroundContents</a>
  </p>
</div>
