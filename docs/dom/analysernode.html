<h1>AnalyserNode</h1> <p>The <strong><code>AnalyserNode</code></strong>interface represents a node able to provide real-time frequency and time-domain analysis information. It is an <a title="The AudioNode interface is a generic interface for representing an audio processing module like an audio source (e.g. an HTML &lt;audio&gt; or &lt;video&gt; element, an OscillatorNode, etc.), the audio destination, intermediate processing module (e.g. a filter like BiquadFilterNode or ConvolverNode), or volume control (like GainNode)." href="audionode"><code>AudioNode</code></a> that passes the audio stream unchanged from the input to the output, but allows you to take the generated data, process it, and create audio visualizations.</p> <p>An <code>AnalyserNode</code> has exactly one input and one output. The node works even if the output is not connected.</p> <p><img src="https://mdn.mozillademos.org/files/12970/fttaudiodata_en.svg" alt="Without modifying the audio stream, the node allows to get the frequency and time-domain data associated to it, using a FFT." style="height: 206px; width: 693px;"></p> <table class="properties"> <tbody> <tr> <th scope="row">Number of inputs</th> <td><code>1</code></td> </tr> <tr> <th scope="row">Number of outputs</th> <td>
<code>1</code> (but may be left unconnected)</td> </tr> <tr> <th scope="row">Channel count mode</th> <td><code>"explicit"</code></td> </tr> <tr> <th scope="row">Channel count</th> <td><code>1</code></td> </tr> <tr> <th scope="row">Channel interpretation</th> <td><code>"speakers"</code></td> </tr> </tbody> </table> <h2 id="Inheritance">Inheritance</h2> <p>This interface inherits from the following parent interfaces:</p>  <iframe width="600" id="frame_inheritance_diagram" frameborder="0" src="https://mdn.mozillademos.org/en-US/docs/Web/API/AnalyserNode%24samples/inheritance_diagram?revision=1173339" height="70" class="live-sample-frame inheritance-diagram-frame"></iframe> <h2 id="Constructor">Constructor</h2> <dl> <dt><a title="The AnalyserNode constructor creates a new AnalyserNode object." href="analysernode/analysernode"><code>AnalyserNode()</code></a></dt> <dd>Creates a new instance of an <code>AnalyserNode</code> object.</dd> </dl> <h2 id="Properties">Properties</h2> <p><em>Inherits properties from its parent, </em><em><a title="The AudioNode interface is a generic interface for representing an audio processing module like an audio source (e.g. an HTML &lt;audio&gt; or &lt;video&gt; element, an OscillatorNode, etc.), the audio destination, intermediate processing module (e.g. a filter like BiquadFilterNode or ConvolverNode), or volume control (like GainNode)." href="audionode"><code>AudioNode</code></a></em>.</p> <dl> <dt><a title="The fftSize property of the AnalyserNode interface is an unsigned long value representing the size of the FFT (Fast Fourier Transform) to be used to determine the frequency domain." href="analysernode/fftsize"><code>AnalyserNode.fftSize</code></a></dt> <dd>Is an unsigned long value representing the size of the FFT (<a title="/en-US/docs/" href="http://en.wikipedia.org/wiki/Fast_Fourier_transform">Fast Fourier Transform</a>) to be used to determine the frequency domain.</dd> <dt>
<a title="The frequencyBinCount property of the AnalyserNode interface is an unsigned long value half that of the FFT size. This generally equates to the number of data values you will have to play with for the visualization." href="analysernode/frequencybincount"><code>AnalyserNode.frequencyBinCount</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Is an unsigned long value half that of the FFT size. This generally equates to the number of data values you will have to play with for the visualization.</dd> <dt><a title="The minDecibels property of the AnalyserNode interface Is a double value representing the minimum power value in the scaling range for the FFT analysis data, for conversion to unsigned byte/float values — basically, this specifies the minimum value for the range of results when using getFloatFrequencyData() or getByteFrequencyData()." href="analysernode/mindecibels"><code>AnalyserNode.minDecibels</code></a></dt> <dd>Is a double value representing the minimum power value in the scaling range for the FFT analysis data, for conversion to unsigned byte values — basically, this specifies the minimum value for the range of results when using <code>getByteFrequencyData()</code>.</dd> <dt><a title="The maxDecibels property of the AnalyserNode interface Is a double value representing the maximum power value in the scaling range for the FFT analysis data, for conversion to unsigned byte/float values — basically, this specifies the maximum value for the range of results when using getFloatFrequencyData() or getByteFrequencyData()." href="analysernode/maxdecibels"><code>AnalyserNode.maxDecibels</code></a></dt> <dd>Is a double value representing the maximum power value in the scaling range for the FFT analysis data, for conversion to unsigned byte values — basically, this specifies the maximum value for the range of results when using <code>getByteFrequencyData()</code>.</dd> <dt><a title="The smoothingTimeConstant property of the AnalyserNode interface is a double value representing the averaging constant with the last analysis frame. It's basically an average
 between the current buffer and the last buffer the AnalyserNode processed, and results in a much smoother set of value changes over time." href="analysernode/smoothingtimeconstant"><code>AnalyserNode.smoothingTimeConstant</code></a></dt> <dd>Is a double value representing the averaging constant with the last analysis frame — basically, it makes the transition between values over time smoother.</dd> </dl> <h2 id="Methods">Methods</h2> <p><em>Inherits methods from its parent, </em><em><a title="The AudioNode interface is a generic interface for representing an audio processing module like an audio source (e.g. an HTML &lt;audio&gt; or &lt;video&gt; element, an OscillatorNode, etc.), the audio destination, intermediate processing module (e.g. a filter like BiquadFilterNode or ConvolverNode), or volume control (like GainNode)." href="audionode"><code>AudioNode</code></a></em>.</p> <dl> <dt><a title="A Float32Array." href="analysernode/getfloatfrequencydata"><code>AnalyserNode.getFloatFrequencyData()</code></a></dt> <dd>Copies the current frequency data into a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Float32Array"><code>Float32Array</code></a> array passed into it.</dd> </dl> <dl> <dt><a title="A Uint8Array." href="analysernode/getbytefrequencydata"><code>AnalyserNode.getByteFrequencyData()</code></a></dt> <dd>Copies the current frequency data into a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Uint8Array"><code>Uint8Array</code></a> (unsigned byte array) passed into it.</dd> </dl> <dl> <dt><a title="A Float32Array." href="analysernode/getfloattimedomaindata"><code>AnalyserNode.getFloatTimeDomainData()</code></a></dt> <dd>Copies the current waveform, or time-domain, data into a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Float32Array"><code>Float32Array</code></a> array passed into it.</dd> <dt><a title="A Uint8Array." href="analysernode/getbytetimedomaindata"><code>AnalyserNode.getByteTimeDomainData()</code></a></dt> <dd>Copies the current waveform, or time-domain, data into a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Uint8Array"><code>Uint8Array</code></a> (unsigned byte array) passed into it.</dd> </dl> <h2 id="Examples">Examples</h2> <div class="note"> <p><strong>Note</strong>: See the guide <a href="web_audio_api/visualizations_with_web_audio_api">Visualizations with Web Audio API</a> for more information on creating audio visualizations.</p> </div> <h3 id="Basic_usage">Basic usage</h3> <p>The following example shows basic usage of an <a title="An AudioContext can be a target of events, therefore it implements the EventTarget interface." href="audiocontext"><code>AudioContext</code></a> to create an <code>AnalyserNode</code>, then <a title="You should call this method whenever you're ready to update your animation onscreen. This will request that your animation function be called before the browser performs the next repaint. The number of callbacks is usually 60 times per second, but will generally match the display refresh rate in most web browsers as per W3C recommendation. The callback rate may be reduced to a lower rate when running in background tabs or in hidden &lt;iframe&gt;s in order to improve performance and battery life." href="window/requestanimationframe"><code>requestAnimationFrame</code></a> and <a title="Use the HTML &lt;canvas&gt; element with the canvas scripting API to draw graphics and animations." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas"><code>&lt;canvas&gt;</code></a> to collect time domain data repeatedly and draw an "oscilloscope style" output of the current audio input. For more complete applied examples/information, check out our <a href="http://mdn.github.io/voice-change-o-matic/">Voice-change-O-matic</a> demo (see <a href="https://github.com/mdn/voice-change-o-matic/blob/gh-pages/scripts/app.js#L128-L205">app.js lines 128–205</a> for relevant code).</p> <pre data-language="js">var audioCtx = new(window.AudioContext || window.webkitAudioContext)();
var analyser = audioCtx.createAnalyser();

// ...

analyser.fftSize = 2048;
var bufferLength = analyser.frequencyBinCount;
var dataArray = new Uint8Array(bufferLength);
analyser.getByteTimeDomainData(dataArray);

// Get a canvas defined with ID "oscilloscope"
var canvas = document.getElementById("oscilloscope");
var canvasCtx = canvas.getContext("2d");

// draw an oscilloscope of the current audio source

function draw() {

  drawVisual = requestAnimationFrame(draw);

  analyser.getByteTimeDomainData(dataArray);

  canvasCtx.fillStyle = 'rgb(200, 200, 200)';
  canvasCtx.fillRect(0, 0, canvas.width, canvas.height);

  canvasCtx.lineWidth = 2;
  canvasCtx.strokeStyle = 'rgb(0, 0, 0)';

  canvasCtx.beginPath();

  var sliceWidth = canvas.width * 1.0 / bufferLength;
  var x = 0;

  for (var i = 0; i &lt; bufferLength; i++) {

    var v = dataArray[i] / 128.0;
    var y = v * canvas.height / 2;

    if (i === 0) {
      canvasCtx.moveTo(x, y);
    } else {
      canvasCtx.lineTo(x, y);
    }

    x += sliceWidth;
  }

  canvasCtx.lineTo(canvas.width, canvas.height / 2);
  canvasCtx.stroke();
};

draw();
</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a hreflang="en" class="external" lang="en" href="https://webaudio.github.io/web-audio-api/#the-analysernode-interface">Web Audio API<br><small lang="en-US">The definition of 'AnalyserNode' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td> </td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>10.0<span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'webkit' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">webkit</a></span>
</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2013-10-29." href="https://developer.mozilla.org/en-US/Firefox/Releases/25">25.0</a> (25.0)</td> <td><span style="color: #f00;">No support</span></td> <td>15.0 <span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'webkit' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">webkit</a></span><br> 22</td> <td>6.0<span title="prefix" class="inlineIndicator prefixBox prefixBoxInline"><a title="The name of this feature is prefixed with 'webkit' as this browser considers it experimental" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes">webkit</a></span>
</td> </tr> <tr> <td>Constructor</td> <td>55.0</td> <td> </td> <td> </td> <td> </td> <td>42</td> <td> </td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>26.0</td> <td>1.2</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>3.0</td> </tr> <tr> <td>Constructor</td> <td><span style="color: #f00;">No support</span></td> <td>55.0</td> <td> </td> <td> </td> <td> </td> <td> </td> <td>42</td> <td> </td> <td>55.0</td> </tr> </tbody> </table> </div> <h2 id="See_also">See also</h2> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web_Audio_API/Using_Web_Audio_API">Using the Web Audio API</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode</a>
  </p>
</div>
