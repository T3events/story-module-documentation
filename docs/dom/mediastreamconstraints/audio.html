<h1>MediaStreamConstraints.audio</h1> <p>The <a title="The MediaStreamConstraints dictionary is used when calling getUserMedia() to specify what kinds of tracks should be included in the returned MediaStream, and, optionally, to establish constraints for those tracks' settings." href="../mediastreamconstraints"><code>MediaStreamConstraints</code></a> dictionary's <strong><code>audio</code></strong> property is used to indicate what kind of audio track, if any, should be included in the <a title="The MediaStream interface represents a stream of media content. A stream consists of several tracks such as video or audio tracks. Each track is specified as an instance of MediaStreamTrack." href="../mediastream"><code>MediaStream</code></a> returned by a call to <a title="The MediaDevices.getUserMedia() method prompts the user for permission to use one video and/or one audio input device such as a camera or screensharing and/or a microphone. If the user provides permission, then the returned Promise is resolved with the resulting MediaStream object. If the user denies permission, or media is not available, then the promise is rejected with PermissionDeniedError or NotFoundError respectively. Note that it is possible for the returned promise to neither resolve nor reject, as the user is not required to make a choice." href="../mediadevices/getusermedia"><code>getUserMedia()</code></a>.</p>  <p>To learn more about how constraints work, see <a href="../media_streams_api/constraints">Capabilities, constraints, and settings</a>.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>audioConstraints</em> = true | false | <em>MediaTrackConstraints</em>;
</pre> <h3 id="Value">Value</h3> <p>The value of the <code>audio</code> property can be specified as either of two types:</p> <dl> <dt><a title="The Boolean object is an object wrapper for a boolean value." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>Boolean</code></a></dt> <dd>If a Boolean value is specified, it simply indicates whether or not an audio track should be included in the returned stream; if it's <code>true</code>, an audio track is included; if no audio source is available or if permission is not given to use the audio source, the call to <code>getUserMedia()</code> will fail. If <code>false</code>, no audio track is included.</dd> <dt><a title="The MediaTrackConstraints dictionary is used to describe a set of capabilities and the value or values each can take on. A constraints dictionary is passed into applyConstraints() to allow a script to establish a set of exact (required) values or ranges and/or preferred values or ranges of values for the track, and the most recently-requested set of custom constraints can be retrieved by calling getConstraints()." href="../mediatrackconstraints"><code>MediaTrackConstraints</code></a></dt> <dd>A constraints dictionary detailing the preferable and/or required values or ranges of values for the track's constrainable properties. If you specify constraints, an audio track meeting the constraints is required.</dd> </dl> <h2 name="Example" id="Example">Examples</h2> <h3 id="Using_a_Boolean_value">Using a Boolean value</h3> <p>In this example, we provide a simple value of <code>true</code> for the <code>audio</code> property. This tells <code>getUserMedia()</code> that we require an audio track, but we don't care about any specifics beyond that.</p>  <pre data-language="js">document.getElementById("startButton").addEventListener("click", function() {
  navigator.mediaDevices.getUserMedia({
    audio: true
  }).then(stream =&gt; audioElement.srcObject = stream)
    .catch(err =&gt; log(err.name + ": " + err.message));
}, false);</pre> <p>Here we see an event handler for a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Click"><code>click</code></a> event which uses <a title="The MediaDevices.getUserMedia() method prompts the user for permission to use one video and/or one audio input device such as a camera or screensharing and/or a microphone. If the user provides permission, then the returned Promise is resolved with the resulting MediaStream object. If the user denies permission, or media is not available, then the promise is rejected with PermissionDeniedError or NotFoundError respectively. Note that it is possible for the returned promise to neither resolve nor reject, as the user is not required to make a choice." href="../mediadevices/getusermedia"><code>getUserMedia()</code></a> to obtain an audio-only stream with no specific constraints, then attaches the resulting stream to an <a title="The HTML &lt;audio&gt; element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the &lt;source&gt; element; the browser will choose the most suitable one." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio"><code>&lt;audio&gt;</code></a> element once the stream is returned.</p> <h4 id="Result">Result</h4> <p><iframe width="600" id="frame_Using_a_Boolean_value" frameborder="0" src="https://mdn.mozillademos.org/en-US/docs/Web/API/MediaStreamConstraints/audio%24samples/Using_a_Boolean_value?revision=1131639" height="180" class="live-sample-frame sample-code-frame"></iframe></p> <h3 id="Using_a_MediaTrackConstraints_object">Using a MediaTrackConstraints object</h3> <p>Now let's look at a similar example that uses a set of constraints based on the <a title="The MediaTrackConstraints dictionary is used to describe a set of capabilities and the value or values each can take on. A constraints dictionary is passed into applyConstraints() to allow a script to establish a set of exact (required) values or ranges and/or preferred values or ranges of values for the track, and the most recently-requested set of custom constraints can be retrieved by calling getConstraints()." href="../mediatrackconstraints"><code>MediaTrackConstraints</code></a> dictionary:</p>  <pre data-language="js">document.getElementById("startButton").addEventListener("click", function() {
  navigator.mediaDevices.getUserMedia({
    audio: {
      sampleSize: 8,
      echoCancellation: true
    }
  }).then(stream =&gt; audioElement.srcObject = stream)
    .catch(err =&gt; log(err.name + ": " + err.message));
}, false);</pre> <p>Here we see an event handler for a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Click"><code>click</code></a> event which calls <a title="The MediaDevices.getUserMedia() method prompts the user for permission to use one video and/or one audio input device such as a camera or screensharing and/or a microphone. If the user provides permission, then the returned Promise is resolved with the resulting MediaStream object. If the user denies permission, or media is not available, then the promise is rejected with PermissionDeniedError or NotFoundError respectively. Note that it is possible for the returned promise to neither resolve nor reject, as the user is not required to make a choice." href="../mediadevices/getusermedia"><code>getUserMedia()</code></a>, specifying a set of audio constraints requesting that echo cancellation be enabled and that, if possible, the sample rate be 8 bits per sample instead of the more common 16 bits (possibly as a bandwidth saving measure). As long as an audio input device is available and the user allows it to be used, an audio track will be included in the resulting stream, and it will match the specified constraints as well as possible.</p> <h4 id="Result_2">Result</h4> <p><iframe width="600" id="frame_Using_a_MediaTrackConstraints_object" frameborder="0" src="https://mdn.mozillademos.org/en-US/docs/Web/API/MediaStreamConstraints/audio%24samples/Using_a_MediaTrackConstraints_object?revision=1131639" height="180" class="live-sample-frame sample-code-frame"></iframe></p> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a hreflang="en" class="external" lang="en" href="http://w3c.github.io/mediacapture-main/#widl-MediaStreamConstraints-audio">Media Capture and Streams<br><small lang="en-US">The definition of 'MediaStreamConstraints.audio' in that specification.</small></a></td> <td><span class="spec-ED">Editor's Draft</span></td> <td>Initial specification.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Microsoft Edge</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2015-05-19." href="https://developer.mozilla.org/en-US/Firefox/Releases/38">38</a> (38)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>38.0 (38)</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <h2 id="See_also">See also</h2> <ul> <li><a href="../media_streams_api">Media Capture and Streams API</a></li> <li><a href="../media_streams_api/constraints">Capabilities, constraints, and settings</a></li> <li><a title="The MediaDevices.getUserMedia() method prompts the user for permission to use one video and/or one audio input device such as a camera or screensharing and/or a microphone. If the user provides permission, then the returned Promise is resolved with the resulting MediaStream object. If the user denies permission, or media is not available, then the promise is rejected with PermissionDeniedError or NotFoundError respectively. Note that it is possible for the returned promise to neither resolve nor reject, as the user is not required to make a choice." href="../mediadevices/getusermedia"><code>MediaDevices.getUserMedia()</code></a></li> <li><a title="The getSupportedConstraints() method of the MediaDevices interface returns an object based on the MediaTrackSupportedConstraints dictionary, whose member fields each specify one of the constrainable properties the user agent understands." href="../mediadevices/getsupportedconstraints"><code>MediaDevices.getSupportedConstraints()</code></a></li> <li><a title="The MediaTrackSupportedConstraints dictionary establishes the list of constrainable properties recognized by the user agent or browser in its implementation of the MediaStreamTrack object. An object conforming to MediaTrackSupportedConstraints is returned by MediaDevices.getSupportedConstraints()." href="../mediatracksupportedconstraints"><code>MediaTrackSupportedConstraints</code></a></li> <li><a title="The MediaTrackConstraints dictionary is used to describe a set of capabilities and the value or values each can take on. A constraints dictionary is passed into applyConstraints() to allow a script to establish a set of exact (required) values or ranges and/or preferred values or ranges of values for the track, and the most recently-requested set of custom constraints can be retrieved by calling getConstraints()." href="../mediatrackconstraints"><code>MediaTrackConstraints</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints/audio$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints/audio" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints/audio</a>
  </p>
</div>
