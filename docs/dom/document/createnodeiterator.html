<h1>document.createNodeIterator</h1> <p>Returns a new <a href="../nodeiterator" class="internal" title="En/DOM/NodeIterator"><code>NodeIterator</code></a> object.</p> <h2 name="Syntax" id="Syntax">Syntax</h2> <pre class="eval script">var nodeIterator = document.createNodeIterator(root, whatToShow, filter);
</pre> <h3 id="Values">Values</h3> <dl> <dt><code>root</code></dt> <dd>The root node at which to begin the <a href="../nodeiterator" title="The NodeIterator interface represents an iterator over the members of a list of the nodes in a subtree of the DOM. The nodes will be returned in document order."><code>NodeIterator</code></a>'s traversal.</dd> <dt>
<code>whatToShow</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>Is an optional <code>unsigned long</code> representing a bitmask created by combining the constant properties of <code><a href="http://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-NodeFilter" title="http://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-NodeFilter">NodeFilter</a></code>. It is a convenient way of filtering for certain types of node. It defaults to <code>0xFFFFFFFF</code> representing the <code>SHOW_ALL</code> constant. <table class="standard-table"> <tbody> <tr> <th class="header">Constant</th> <th class="header">Numerical value</th> <th class="header">Description</th> </tr> <tr> <td><code>NodeFilter.SHOW_ALL</code></td> <td>
<code>-1</code> (that is the max value of <code>unsigned long</code>)</td> <td>Shows all nodes.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ATTRIBUTE</code> 
</td> <td><code>2</code></td> <td>Shows attribute <a href="../attr" title="This type represents a DOM element's attribute as an object. In most DOM methods, you will probably directly retrieve the attribute as a string (e.g., Element.getAttribute(), but certain functions (e.g., Element.getAttributeNode()) or means of iterating give Attr types."><code>Attr</code></a> nodes. This is meaningful only when creating a <a href="../treewalker" title="The TreeWalker object represents the nodes of a document subtree and a position within them."><code>TreeWalker</code></a> with an <a href="../attr" title="This type represents a DOM element's attribute as an object. In most DOM methods, you will probably directly retrieve the attribute as a string (e.g., Element.getAttribute(), but certain functions (e.g., Element.getAttributeNode()) or means of iterating give Attr types."><code>Attr</code></a> node as its root; in this case, it means that the attribute node will appear in the first position of the iteration or traversal. Since attributes are never children of other nodes, they do not appear when traversing over the document tree.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_CDATA_SECTION</code> 
</td> <td><code>8</code></td> <td>Shows <a href="https://developer.mozilla.org/en-US/docs/Web/API/CDATASection" title="The CDATASection interface represents a CDATA section that can be used within XML to include extended portions of unescaped text, such that the symbols &lt; and &amp; do not need escaping as they normally do within XML when used as text."><code>CDATASection</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_COMMENT</code></td> <td><code>128</code></td> <td>Shows <a href="../comment" title="The Comment interface represents textual notations within markup; although it is generally not visually shown, such comments are available to be read in the source view. Comments are represented in HTML and XML as content between '<!--' and '-->'. In XML, the character sequence '--' cannot be used within a comment."><code>Comment</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT</code></td> <td><code>256</code></td> <td>Shows <a href="../document" title="The Document interface represents any web page loaded in the browser and serves as an entry point into the web page's content, which is the DOM tree. The DOM tree includes elements such as &lt;body&gt; and &lt;table&gt;, among many others. It provides functionality global to the document, like how to obtain the page's URL and create new elements in the document."><code>Document</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT_FRAGMENT</code></td> <td><code>1024</code></td> <td>Shows <a href="../documentfragment" title="The DocumentFragment interface represents a minimal document object that has no parent. It is used as a light-weight version of Document to store well-formed or potentially non-well-formed fragments of XML."><code>DocumentFragment</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_DOCUMENT_TYPE</code></td> <td><code>512</code></td> <td>Shows <a href="../documenttype" title="The DocumentType interface represents a Node containing a doctype."><code>DocumentType</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_ELEMENT</code></td> <td><code>1</code></td> <td>Shows <a href="../element" title="The Element interface represents an object of a Document. This interface describes methods and properties common to all kinds of elements. Specific behaviors are described in interfaces which inherit from Element but add additional functionality."><code>Element</code></a> nodes.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ENTITY</code> 
</td> <td><code>32</code></td> <td>Shows <a href="https://developer.mozilla.org/en-US/docs/Web/API/Entity" title="Read-only reference to a DTD entity. Also inherits the methods and properties of Node."><code>Entity</code></a> nodes. This is meaningful only when creating a <a href="../treewalker" title="The TreeWalker object represents the nodes of a document subtree and a position within them."><code>TreeWalker</code></a> with an <a href="https://developer.mozilla.org/en-US/docs/Web/API/Entity" title="Read-only reference to a DTD entity. Also inherits the methods and properties of Node."><code>Entity</code></a> node as its root; in this case, it means that the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Entity" title="Read-only reference to a DTD entity. Also inherits the methods and properties of Node."><code>Entity</code></a> node will appear in the first position of the traversal. Since entities are not part of the document tree, they do not appear when traversing over the document tree.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_ENTITY_REFERENCE</code> 
</td> <td><code>16</code></td> <td>Shows <a href="https://developer.mozilla.org/en-US/docs/Web/API/EntityReference" title="Read-only reference to an entity reference in the DOM tree. Has no properties or methods of its own but inherits from Node."><code>EntityReference</code></a> nodes.</td> </tr> <tr> <td>
<code>NodeFilter.SHOW_NOTATION</code> 
</td> <td><code>2048</code></td> <td>Shows <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notation" title="Represents a DTD notation (read-only). May declare format of an unparsed entity or formally declare the document's processing instruction targets. Inherits methods and properties from Node. Its nodeName is the notation name. Has no parent."><code>Notation</code></a> nodes. This is meaningful only when creating a <a href="../treewalker" title="The TreeWalker object represents the nodes of a document subtree and a position within them."><code>TreeWalker</code></a> with a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notation" title="Represents a DTD notation (read-only). May declare format of an unparsed entity or formally declare the document's processing instruction targets. Inherits methods and properties from Node. Its nodeName is the notation name. Has no parent."><code>Notation</code></a> node as its root; in this case, it means that the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notation" title="Represents a DTD notation (read-only). May declare format of an unparsed entity or formally declare the document's processing instruction targets. Inherits methods and properties from Node. Its nodeName is the notation name. Has no parent."><code>Notation</code></a> node will appear in the first position of the traversal. Since entities are not part of the document tree, they do not appear when traversing over the document tree.</td> </tr> <tr> <td><code>NodeFilter.SHOW_PROCESSING_INSTRUCTION</code></td> <td><code>64</code></td> <td>Shows <a href="https://developer.mozilla.org/en-US/docs/Web/API/ProcessingInstruction" title="A processing instruction provides an opportunity for application-specific instructions to be embedded within XML and which can be ignored by XML processors which do not support processing their instructions (outside of their having a place in the DOM)."><code>ProcessingInstruction</code></a> nodes.</td> </tr> <tr> <td><code>NodeFilter.SHOW_TEXT</code></td> <td><code>4</code></td> <td>Shows <a href="../text" title="The Text interface represents the textual content of Element or Attr.  If an element has no markup within its content, it has a single child implementing Text that contains the element's text.  However, if the element contains markup, it is parsed into information items and Text nodes that form its children."><code>Text</code></a> nodes.</td> </tr> </tbody> </table> </dd> <dt>
<code>filter</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An object implementing the <a href="../nodefilter" title="A NodeFilter interface represents an object used to filter the nodes in a NodeIterator or TreeWalker. They don't know anything about the DOM or how to traverse nodes; they just know how to evaluate a single node against the provided filter."><code>NodeFilter</code></a> interface; its <code>acceptNode()</code> method will be called for each node in the subtree based at root which is accepted as included by the whatToShow flag to determine whether or not to include it in the list of iterable nodes (a simple callback function may also be used instead). The method should return one of <code>NodeFilter.FILTER_ACCEPT</code>, <code>NodeFilter.FILTER_REJECT</code>, or <code>NodeFilter.FILTER_SKIP</code>. See the <a href="#Example">Example</a>.</dd> </dl> <div class="note">
<strong>Note:</strong> Prior to Gecko 12.0 (Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9), this method accepted an optional fourth parameter (<code>entityReferenceExpansion</code>) that is not part of the DOM4 specification, and has therefore been removed. This parameter indicated whether or not the children of entity reference nodes were visible to the iterator. Since such nodes were never created in browsers, this paramater had no effect.</div> <h2 name="Example" id="Example">Example</h2> <pre data-language="js">var nodeIterator = document.createNodeIterator(
    document.body,
    NodeFilter.SHOW_ELEMENT,
    function(node) {
        return node.nodeName.toLowerCase() === 'p' ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;
    }
);
var pars = [];
var currentNode;

while (currentNode = nodeIterator.nextNode()) {
  pars.push(currentNode);
}

</pre> <h3 name="Specification" id="Specification">Browser Compatibility</h3> <p>Supported in FF 3.5+, Chrome 1+, Opera 9+, Safari 3+, IE9+, Edge</p> <h2 name="Specification" id="Specification">See Also</h2> <ul> <li><a href="http://msdn.microsoft.com/en-us/library/ie/ff975301(v=vs.85).aspx" class="external" title="http://msdn.microsoft.com/en-us/library/ie/ff975301(v=vs.85).aspx">createNodeIterator on MSDN</a></li> </ul> <h2 name="Specification" id="Specification">Specifications</h2> <p><a href="http://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-NodeIterator" class="external" title="http://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-NodeIterator">DOM Level 2 Traversal: NodeIterator</a></p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/document/createNodeIterator$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/document/createNodeIterator" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/document/createNodeIterator</a>
  </p>
</div>
