<h1>WebGLRenderingContext.stencilOp</h1> <p>The <strong><code>WebGLRenderingContext.stencilOp()</code></strong> method of the <a href="../webgl_api">WebGL API</a> sets both the front and back-facing stencil test actions.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">void <var>gl</var>.stencilOp(<var>fail</var>, <var>zfail</var>, <var>zpass</var>);
</pre> <h3 id="Parameters">Parameters</h3> <p>All three parameters accept all constants listed below.</p> <dl> <dt><code>fail</code></dt> <dd>A <a href="../webgl_api/types" title="The following types are used in WebGL interfaces."><code>GLenum</code></a> specifying the function to use when the stencil test fails. The default value is <code>gl.KEEP</code>.</dd> <dt><code>zfail</code></dt> <dd>A <a href="../webgl_api/types" title="The following types are used in WebGL interfaces."><code>GLenum</code></a> specifying the function to use when the stencil test passes, but the depth test fails. The default value is <code>gl.KEEP</code>.</dd> <dt><code>zpass</code></dt> <dd>A <a href="../webgl_api/types" title="The following types are used in WebGL interfaces."><code>GLenum</code></a> specifying the function to use when both the stencil test and the depth test pass, or when the stencil test passes and there is no depth buffer or depth testing is disabled. The default value is <code>gl.KEEP</code>.</dd> </dl> <h3 id="Return_value">Return value</h3> <p>None.</p> <h2 id="Constants">Constants</h2> <dl> <dt><code>gl.KEEP</code></dt> <dd>Keeps the current value.</dd> <dt><code>gl.ZERO</code></dt> <dd>Sets the stencil buffer value to 0.</dd> <dt><code>gl.REPLACE</code></dt> <dd>Sets the stencil buffer value to the reference value as specified by <a href="stencilfunc" title="The WebGLRenderingContext.stencilFunc() method of the WebGL API sets the front and back function and reference value for stencil testing."><code>WebGLRenderingContext.stencilFunc()</code></a>.</dd> <dt><code>gl.INCR</code></dt> <dd>Increments the current stencil buffer value. Clamps to the maximum representable unsigned value.</dd> <dt><code>gl.INCR_WRAP</code></dt> <dd>Increments the current stencil buffer value. Wraps stencil buffer value to zero when incrementing the maximum representable unsigned value.</dd> <dt><code>gl.DECR</code></dt> <dd>Decrements the current stencil buffer value. Clamps to 0.</dd> <dt><code>gl.DECR_WRAP</code></dt> <dd>Decrements the current stencil buffer value. Wraps stencil buffer value to the maximum representable unsigned value when decrementing a stencil buffer value of 0.</dd> <dt><code>gl.INVERT</code></dt> <dd>Inverts the current stencil buffer value bitwise.</dd> </dl> <h2 id="Examples">Examples</h2> <p>The stencil testing is disabled by default. To enable or disable stencil testing, use the <a href="enable" title="The WebGLRenderingContext.enable() method of the WebGL API enables specific WebGL capabilities for this context."><code>enable()</code></a> and <a href="disable" title="The WebGLRenderingContext.disable() method of the WebGL API disables specific WebGL capabilities for this context."><code>disable()</code></a> methods with the argument <code>gl.STENCIL_TEST</code>.</p> <pre data-language="js">gl.enable(gl.STENCIL_TEST);
gl.stencilOp(gl.INCR, gl.DECR, gl.INVERT);
</pre> <p>To get the current information about stencil and depth pass or fail, query the following constants with <a href="getparameter" title="The WebGLRenderingContext.getParameter() method of the WebGL API returns a value for the passed parameter name."><code>getParameter()</code></a>.</p> <pre data-language="js">gl.getParameter(gl.STENCIL_FAIL);
gl.getParameter(gl.STENCIL_PASS_DEPTH_PASS);
gl.getParameter(gl.STENCIL_PASS_DEPTH_FAIL);
gl.getParameter(gl.STENCIL_BACK_FAIL);
gl.getParameter(gl.STENCIL_BACK_PASS_DEPTH_PASS);
gl.getParameter(gl.STENCIL_BACK_PASS_DEPTH_FAIL);
gl.getParameter(gl.STENCIL_BITS);
</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.3" class="external" lang="en" hreflang="en">WebGL 1.0<br><small lang="en-US">The definition of 'stencilOp' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Initial definition.</td> </tr> <tr> <td><a href="https://www.khronos.org/opengles/sdk/docs/man/xhtml/glStencilOp.xml" class="external" lang="en" hreflang="en">OpenGL ES 2.0<br><small lang="en-US">The definition of 'glStencilOp' in that specification.</small></a></td> <td><span class="spec-Standard">Standard</span></td> <td>Man page of the OpenGL API.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"><table class="compat-table"> <thead> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> <th>Servo</th> </tr> </thead>
<tbody><tr>
<td>Basic Support</td>
<td>9</td>
<td>12</td>
<td>4.0</td>
<td>11</td>
<td>12</td>
<td>5.1</td>
<td><span style="color: #f00;">No support</span></td>
</tr></tbody>
</table></div><div id="compat-mobile"><table class="compat-table"> <thead> <tr> <th>Feature</th> <th>Android</th> <th>Chrome for Android</th> <th>Edge Mobile</th> <th>Firefox for Android</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> </thead>
<tbody><tr>
<td>Basic Support</td>
<td><span style="color: #888;">(Yes)</span></td>
<td>25</td>
<td><span style="color: #888;">(Yes)</span></td>
<td>4.0</td>
<td>11</td>
<td>12</td>
<td>8.1</td>
</tr></tbody>
</table></div> <h2 id="See_also">See also</h2> <ul> <li><a href="stencilopseparate" title="The WebGLRenderingContext.stencilOpSeparate() method of the WebGL API sets the front and/or back-facing stencil test actions."><code>WebGLRenderingContext.stencilOpSeparate()</code></a></li> <li><a href="stencilfunc" title="The WebGLRenderingContext.stencilFunc() method of the WebGL API sets the front and back function and reference value for stencil testing."><code>WebGLRenderingContext.stencilFunc()</code></a></li> <li><a href="stencilfuncseparate" title="The WebGLRenderingContext.stencilFuncSeparate() method of the WebGL API sets the front and/or back function and reference value for stencil testing."><code>WebGLRenderingContext.stencilFuncSeparate()</code></a></li> <li><a href="stencilmask" title="The WebGLRenderingContext.stencilMask() method of the WebGL API controls enabling and disabling of both the front and back writing of individual bits in the stencil planes."><code>WebGLRenderingContext.stencilMask()</code></a></li> <li><a href="stencilmaskseparate" title="The WebGLRenderingContext.stencilMaskSeparate() method of the WebGL API controls enabling and disabling of front and/or back writing of individual bits in the stencil planes."><code>WebGLRenderingContext.stencilMaskSeparate()</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOp$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOp" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOp</a>
  </p>
</div>
