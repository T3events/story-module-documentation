<h1>IDBLocaleAwareKeyRange</h1><div><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div></div> <p>The <strong><code>IDBLocaleAwareKeyRange</code></strong> interface of the <a href="indexeddb_api">IndexedDB API</a> is a Firefox-specific version of <a title="A key range can be a single value or a range with upper and lower bounds or endpoints. If the key range has both upper and lower bounds, then it is bounded; if it has no bounds, it is unbounded. A bounded key range can either be open (the endpoints are excluded) or closed (the endpoints are included). To retrieve all keys within a certain range, you can use the following code constructs:" href="idbkeyrange"><code>IDBKeyRange</code></a> — it functions in exactly the same fashion, and has the same properties and methods, but it is intended for use with <a title="IDBIndex interface of the IndexedDB API provides asynchronous access to an index in a database. An index is a kind of object store for looking up records in another object store, called the referenced object store. You use this interface to retrieve data." href="idbindex"><code>IDBIndex</code></a> objects when the original index had a <code>locale</code> value specified upon its creation (see <a href="idbobjectstore/createindex#Parameters"><code>createIndex()</code>'s optionalParameters</a>) — that is, it has <a href="indexeddb_api/using_indexeddb#Locale-aware_sorting">locale aware sorting</a> enabled.</p> <h2 id="Methods">Methods</h2> <p><em>This interface inherits all the methods of its parent interface, <a title="A key range can be a single value or a range with upper and lower bounds or endpoints. If the key range has both upper and lower bounds, then it is bounded; if it has no bounds, it is unbounded. A bounded key range can either be open (the endpoints are excluded) or closed (the endpoints are included). To retrieve all keys within a certain range, you can use the following code constructs:" href="idbkeyrange"><code>IDBKeyRange</code></a>.</em></p> <h2 id="Properties">Properties</h2> <p><em>This interface inherits all the properties of its parent interface, <a title="A key range can be a single value or a range with upper and lower bounds or endpoints. If the key range has both upper and lower bounds, then it is bounded; if it has no bounds, it is unbounded. A bounded key range can either be open (the endpoints are excluded) or closed (the endpoints are included). To retrieve all keys within a certain range, you can use the following code constructs:" href="idbkeyrange"><code>IDBKeyRange</code></a>.</em></p> <p>Bear in mind however that <code>IDBLocaleAwareKeyRange</code> has its own implementation of <a title="The bounds can be open (that is, the bounds exclude the endpoint values) or closed (that is, the bounds include the endpoint values). By default, the bounds are closed." href="idbkeyrange/bound"><code>IDBKeyRange.bound</code></a>. This is because when you use <code>bound()</code>, it checks if lower bound &lt; upper bound, and throws an exception if that’s not the case. With locale-aware indexes, the meaning of &lt; depends on the locale, so for example in Lithuanian Y is sorted between I and K. The only difference between <code>IDBKeyRange</code> and <code>IDBLocaleAwareKeyRange</code> is that the latter doesn’t do the aforementioned check.</p> <p>Developers should always use <code>IDBLocaleAwareKeyRange</code> when dealing with locale-aware indexes.</p> <h2 id="Examples">Examples</h2> <pre data-language="js">function displayData() {
  var keyRangeValue = IDBLocaleAwareKeyRange.bound("A", "F");

  var transaction = db.transaction(['fThings'], 'readonly');
  var objectStore = transaction.objectStore('fThings');

  var myIndex = objectStore.index('lName');
  myIndex.openCursor(keyRangeValue).onsuccess = function(event) {
    var cursor = event.target.result;
    if(cursor) {
      var tableRow = document.createElement('tr');
      tableRow.innerHTML =   '&amp;lt;td&amp;gt;' + cursor.value.id + '&amp;lt;/td&amp;gt;'
                           + '&amp;lt;td&amp;gt;' + cursor.value.lName + '&amp;lt;/td&amp;gt;'
                           + '&amp;lt;td&amp;gt;' + cursor.value.fName + '&amp;lt;/td&amp;gt;'
                           + '&amp;lt;td&amp;gt;' + cursor.value.jTitle + '&amp;lt;/td&amp;gt;'
                           + '&amp;lt;td&amp;gt;' + cursor.value.company + '&amp;lt;/td&amp;gt;'
                           + '&amp;lt;td&amp;gt;' + cursor.value.eMail + '&amp;lt;/td&amp;gt;'
                           + '&amp;lt;td&amp;gt;' + cursor.value.phone + '&amp;lt;/td&amp;gt;'
                           + '&amp;lt;td&amp;gt;' + cursor.value.age + '&amp;lt;/td&amp;gt;';
      tableEntry.appendChild(tableRow);  

      cursor.continue();
    } else {
      console.log('Entries all displayed.');    
    }
  };
};</pre> <h2 id="Specifications">Specifications</h2> <p>Not currently part of any specification.</p> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td>
<a title="Released on 2015-12-15." href="https://developer.mozilla.org/en-US/Firefox/Releases/43">43.0</a> (43.0)<sup>[1]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td>43.0 (43.0)<sup>[1]</sup>
</td> <td>2.5<sup>[1]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table> </div> <p>[1] This feature is currently hidden behind a flag — to enable it and experiment, go to <code>about:config</code> and enable <code>dom.indexedDB.experimental</code>.</p> <h2 id="See_also">See also</h2> <ul> <li><a href="indexeddb_api/using_indexeddb">Using IndexedDB</a></li> <li>Starting transactions: <a title="Inherits from: EventTarget" href="idbdatabase"><code>IDBDatabase</code></a>
</li> <li>Using transactions: <a title="Note that as of Firefox 40, IndexedDB transactions have relaxed durability guarantees to increase performance (see bug 1112702.) Previously in a readwrite transaction IDBTransaction.oncomplete was fired only when all data was guaranteed to have been flushed to disk. In Firefox 40+ the complete event is fired after the OS has been told to write the data but potentially before that data has actually been flushed to disk. The complete event may thus be delivered quicker than before, however, there exists a small chance that the entire transaction will be lost if the OS crashes or there is a loss of system power before the data is flushed to disk. Since such catastrophic events are rare most consumers should not need to concern themselves further." href="idbtransaction"><code>IDBTransaction</code></a>
</li> <li>Setting a range of keys: <a title="A key range can be a single value or a range with upper and lower bounds or endpoints. If the key range has both upper and lower bounds, then it is bounded; if it has no bounds, it is unbounded. A bounded key range can either be open (the endpoints are excluded) or closed (the endpoints are included). To retrieve all keys within a certain range, you can use the following code constructs:" href="idbkeyrange"><code>IDBKeyRange</code></a>
</li> <li>Retrieving and making changes to your data: <a title="This example shows a variety of different uses of object stores, from updating the data structure with IDBObjectStore.createIndex inside an onupgradeneeded function, to adding a new item to our object store with IDBObjectStore.add. For a full working example, see our To-do Notifications app (view example live.)" href="idbobjectstore"><code>IDBObjectStore</code></a>
</li> <li>Using cursors: <a title="The IDBCursor interface of the IndexedDB API represents a cursor for traversing or iterating over multiple records in a database." href="idbcursor"><code>IDBCursor</code></a>
</li> <li>Reference example: <a class="external" href="https://github.com/mdn/to-do-notifications/tree/gh-pages">To-do Notifications</a> (<a class="external" href="http://mdn.github.io/to-do-notifications/">view example live</a>.)</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBLocaleAwareKeyRange$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBLocaleAwareKeyRange" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/IDBLocaleAwareKeyRange</a>
  </p>
</div>
