<h1>Text.wholeText</h1> <p>The <strong><code>Text.wholeText</code></strong> read-only property returns all text of all <a title="The Text interface represents the textual content of Element or Attr.  If an element has no markup within its content, it has a single child implementing Text that contains the element's text.  However, if the element contains markup, it is parsed into information items and Text nodes that form its children." href="../text"><code>Text</code></a> nodes logically adjacent to the node. The text is concatenated in document order. This allows to specify any text node and obtain all adjacent text as a single string.</p> <h2 id="Syntax" name="Syntax">Syntax</h2> <pre class="syntaxbox"><em>str</em> = <em>textnode</em>.wholeText;</pre> <h2 id="Example" name="Example">Notes and example</h2> <p>Suppose you have the following simple paragraph within your webpage (with some whitespace added to aid formatting throughout the code samples here), whose DOM node is stored in the variable <code>para</code>:</p> <pre data-language="html">&lt;p&gt;Thru-hiking is great!  &lt;strong&gt;No insipid election coverage!&lt;/strong&gt;
  However, &lt;a href="http://en.wikipedia.org/wiki/Absentee_ballot"&gt;casting a
  ballot&lt;/a&gt; is tricky.&lt;/p&gt;
</pre> <p>You decide you don’t like the middle sentence, so you remove it:</p> <pre data-language="js">para.removeChild(para.childNodes[1]);
</pre> <p>Later, you decide to rephrase things to, “Thru-hiking is great, but casting a ballot is tricky.” <em>while preserving the hyperlink</em>. So you try this:</p> <pre data-language="js">para.firstChild.data = "Thru-hiking is great, but ";
</pre> <p>All set, right? <em>Wrong!</em> What happened was you removed the <code>strong</code> element, but the removed sentence’s element separated two text nodes, one for the first sentence and one for the first word of the last. Instead, you now effectively have this:</p> <pre data-language="html">&lt;p&gt;Thru-hiking is great, but However, &lt;a
  href="http://en.wikipedia.org/wiki/Absentee_ballot"&gt;casting a
  ballot&lt;/a&gt; is tricky.&lt;/p&gt;
</pre> <p>You’d really prefer to treat all those adjacent text nodes as a single one. That’s where <code>wholeText</code> comes in: if you have multiple adjacent text nodes, you can access the contents of all of them using <code>wholeText</code>. Let’s pretend you never made that last mistake. In that case, we have:</p> <pre data-language="js">assert(para.firstChild.wholeText == "Thru-hiking is great!    However, ");
</pre> <p><code>wholeText</code> is just a property of text nodes that returns the string of data making up all the adjacent (i.e. not separated by an element boundary) text nodes together.</p> <p>Now let’s return to our original problem. What we want is to be able to <em>replace</em> the whole text with new text. That’s where <a title="The Text.replaceWholeText() method replaces the text of the node and all of its logically adjacent text nodes with the specified text. The replaced nodes are removed, including the current node, unless it was the recipient of the replacement text." href="replacewholetext"><code>replaceWholeText()</code></a> comes in:</p> <pre data-language="js">para.firstChild.replaceWholeText("Thru-hiking is great, but ");
</pre> <p>We’re removing every adjacent text node (all the ones that constituted the whole text) but the one on which <code>replaceWholeText()</code> is called, and we’re changing the remaining one to the new text. What we have now is this:</p> <pre data-language="html">&lt;p&gt;Thru-hiking is great, but &lt;a
  href="http://en.wikipedia.org/wiki/Absentee_ballot"&gt;casting a
  ballot&lt;/a&gt; is tricky.&lt;/p&gt;
</pre> <p>Some uses of the whole-text functionality may be better served by using <code>Node.textContent</code> or the longstanding <a title="The Element.innerHTML property sets or gets the HTML syntax describing the element's descendants." href="../element/innerhtml"><code>Element.innerHTML</code></a>; that’s fine and probably clearer in most circumstances. If you have to work with mixed content within an element as here, however, <code>wholeText</code> and <span class="internal"><code>replaceWholeText()</code></span> may be useful.</p> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a hreflang="en" class="external" lang="en" href="https://dom.spec.whatwg.org/#dom-text-wholetext">DOM<br><small lang="en-US">The definition of 'Text.wholeText' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>No significant change.</td> </tr> <tr> <td><a hreflang="en" class="external" lang="en" href="https://www.w3.org/TR/DOM-Level-3-Core/core.html#Text3-wholeText">Document Object Model (DOM) Level 3 Core Specification<br><small lang="en-US">The definition of 'Text.wholeText' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Initial definition.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td>1.0</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2009-06-30." href="https://developer.mozilla.org/en-US/Firefox/Releases/3.5">3.5</a> (1.9.1)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>1.0 (1.9.1)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <h2 id="See_also">See also</h2> <ul> <li>The <a title="The Text interface represents the textual content of Element or Attr.  If an element has no markup within its content, it has a single child implementing Text that contains the element's text.  However, if the element contains markup, it is parsed into information items and Text nodes that form its children." href="../text"><code>Text</code></a> interface it belongs to.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Text/wholeText$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Text/wholeText" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Text/wholeText</a>
  </p>
</div>
