<h1>Text.splitText</h1> <p>The <strong><code>Text.splitText()</code></strong> method breaks the <a title="The Text interface represents the textual content of Element or Attr.  If an element has no markup within its content, it has a single child implementing Text that contains the element's text.  However, if the element contains markup, it is parsed into information items and Text nodes that form its children." href="../text"><code>Text</code></a>node into two nodes at the specified offset, keeping both nodes in the tree as siblings.</p> <p>After the split, the current node contains all the content up to the specified offset point, and a newly created node of the same type contains the remaining text. The newly created node is returned to the caller. If the original node had a parent, the new node is inserted as the next sibling of the original node. If the offset is equal to the length of the original node, the newly created node has no data.</p> <p>Separated text nodes can be concatenated using the <a title='The Node.normalize() method puts the specified node and all of its sub-tree into a "normalized" form. In a normalized sub-tree, no text nodes in the sub-tree are empty and there are no adjacent text nodes.' href="../node/normalize"><code>Node.normalize()</code></a> method.</p> <p>A <a title="The DOMException interface represents an abnormal event (called an exception) which occurs as a result of calling a method or accessing a property of a web API. This is basically how error conditions are described in web APIs." href="../domexception"><code>DOMException</code></a> with a value of <code>INDEX_SIZE_ERR</code> is thrown if the specified offset is negative or is greater than the number of 16-bit units in the node's text; a <a title="The DOMException interface represents an abnormal event (called an exception) which occurs as a result of calling a method or accessing a property of a web API. This is basically how error conditions are described in web APIs." href="../domexception"><code>DOMException</code></a> with a value of <code>NO_MODIFICATION_ALLOWED_ERR</code> is thrown if the node is read only.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><em>replacementNode</em> = <em>textnode</em>.splitText(offset) 
</pre> <h2 id="Example">Example</h2> <p>In this example, a <a title="The HTML &lt;p&gt; element represents a paragraph of text." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p"><code>&lt;p&gt;</code></a> text node will be split into two text nodes and a <a title="The HTML &lt;span&gt; element is a generic inline container for phrasing content, which does not inherently represent anything. It can be used to group elements for styling purposes (using the class or id attributes), or because they share attribute values, such as lang." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/span"><code>&lt;span&gt;</code></a> inserted between them.</p> <pre data-language="html">&lt;body&gt;
  &lt;p id="p"&gt;foobar&lt;/p&gt;

  &lt;script type="text/javascript"&gt;
    var p = document.getElementById('p');
    var textnode = p.firstChild;

    // split between foo and bar
    var replacementNode = textnode.splitText(3);

    // creating a span with ' span contents '
    var span = document.createElement('span');
    span.appendChild(document.createTextNode(' span contents '));

    // adding the span before 'bar'
    p.insertBefore(span, replacementNode);

    // the result is &lt;p id="p"&gt;foo&lt;span&gt; span contents &lt;/span&gt;bar&lt;/p&gt;
  &lt;/script&gt;
&lt;/body&gt;
</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://dom.spec.whatwg.org/#dom-text-splittext" class="external">DOM<br><small lang="en-US">The definition of 'Text.splitText' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>No change from <a lang="en" hreflang="en" class="external" href="https://www.w3.org/TR/DOM-Level-3-Core/" title="The 'Document Object Model (DOM) Level 3 Core Specification' specification">Document Object Model (DOM) Level 3 Core Specification</a>.</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-38853C1D" class="external">Document Object Model (DOM) Level 3 Core Specification<br><small lang="en-US">The definition of 'Text.splitText' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>No change from <a lang="en" hreflang="en" class="external" href="https://www.w3.org/TR/DOM-Level-2-Core/" title="The 'Document Object Model (DOM) Level 2 Core Specification' specification">Document Object Model (DOM) Level 2 Core Specification</a>.</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-38853C1D" class="external">Document Object Model (DOM) Level 2 Core Specification<br><small lang="en-US">The definition of 'Text.splitText' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>No change from <a lang="en" hreflang="en" class="external" href="https://www.w3.org/TR/REC-DOM-Level-1/" title="The 'Document Object Model (DOM) Level 1 Specification' specification">Document Object Model (DOM) Level 1 Specification</a>.</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-38853C1D" class="external">Document Object Model (DOM) Level 1 Specification<br><small lang="en-US">The definition of 'Text.splitText' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Initial definition.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td>1.0 [1]</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>1.0 (1.7 or earlier)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span> [1]</td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span> [2]</td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span> [1]</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>1.0 (1.0)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span> [1]</td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span> [2]</td> </tr> </tbody> </table> </div> <p>[1] Before Chrome 30 and Opera 17, <code>splitText()</code> argument was not mandatory, as required by the specification and implemented by IE and Gecko-based browsers.</p> <p>[2] The argument is not mandatory, though required by the spec.</p> <h2 id="See_also">See also</h2> <ul> <li>The <a title="The Text interface represents the textual content of Element or Attr.  If an element has no markup within its content, it has a single child implementing Text that contains the element's text.  However, if the element contains markup, it is parsed into information items and Text nodes that form its children." href="../text"><code>Text</code></a> interface it belongs to.</li> <li>The opposite method: <a title='The Node.normalize() method puts the specified node and all of its sub-tree into a "normalized" form. In a normalized sub-tree, no text nodes in the sub-tree are empty and there are no adjacent text nodes.' href="../node/normalize"><code>Node.normalize</code></a>.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Text/splitText$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Text/splitText" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Text/splitText</a>
  </p>
</div>
