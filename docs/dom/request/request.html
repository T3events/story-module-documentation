<h1>Request.constructor</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p>The <code><strong>Request()</strong></code> constructor creates a new <a title="The Request interface of the Fetch API represents a resource request." href="../request"><code>Request</code></a> object.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var myRequest = new Request(input, init);</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt><em>input</em></dt> <dd>Defines the resource that you wish to fetch. This can either be: <ul> <li>A <a title="USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on." href="../usvstring"><code>USVString</code></a> containing the direct URL of the resource you want to fetch.</li> <li>A <a title="The Request interface of the Fetch API represents a resource request." href="../request"><code>Request</code></a> object.</li> </ul> </dd> <dt>
<em>init</em> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An options object containing any custom settings that you want to apply to the request. The possible options are: <ul> <li>
<code>method</code>: The request method, e.g., <code>GET</code>, <code>POST</code>.</li> <li>
<code>headers</code>: Any headers you want to add to your request, contained within a <a title="The Headers interface of the Fetch API allows you to perform various actions on HTTP request and response headers. These actions include retrieving, setting, adding to, and removing. A Headers object has an associated header list, which is initially empty and consists of zero or more name and value pairs.  You can add to this using methods like append() (see Examples.) In all methods of this interface, header names are matched by case-insensitive byte sequence." href="../headers"><code>Headers</code></a> object or an object literal with <a title="ByteString is a UTF-8 String that corresponds to the set of all possible sequences of bytes. ByteString maps to a String when returned in JavaScript; generally, it's only used when interfacing with protocols that use bytes and strings interchangably, such as HTTP." href="../bytestring"><code>ByteString</code></a> values.</li> <li>
<code>body</code>: Any body that you want to add to your request: this can be a <a title="Technical review completed." href="../blob"><code>Blob</code></a>, <a title="BufferSource is a helper type representing objects that are either themselves an ArrayBuffer, or conform to ArrayBufferView." href="../buffersource"><code>BufferSource</code></a>, <a title='The FormData interface provides a way to easily construct a set of key/value pairs representing form fields and their values, which can then be easily sent using the XMLHttpRequest.send() method. It uses the same format a form would use if the encoding type were set to "multipart/form-data".' href="../formdata"><code>FormData</code></a>, <a title="The URLSearchParams interface defines utility methods to work with the query string of a URL." href="../urlsearchparams"><code>URLSearchParams</code></a>, or <a title="USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on." href="../usvstring"><code>USVString</code></a> object. Note that a request using the <code>GET</code> or <code>HEAD</code> method cannot have a body.</li> <li>
<code>mode</code>: The mode you want to use for the request, e.g., <code>cors</code>, <code>no-cors</code>, <code>same-origin</code>, or <code>navigate</code>. The default is <code>cors</code>. In Chrome the default is <code>no-cors</code> before Chrome 47 and <code>same-origin</code> starting with Chrome 47.</li> <li>
<code>credentials</code>: The request credentials you want to use for the request: <code>omit</code>, <code>same-origin</code>, or <code>include</code>. The default is <code>omit</code>. In Chrome the default is <code>same-origin</code> before Chrome 47 and <code>include</code> starting with Chrome 47.</li> <li>
<code>cache</code>: The <a href="cache">cache mode</a> you want to use for the request.</li> <li>
<code>redirect</code>: The redirect mode to use: <code>follow</code>, <code>error</code>, or <code>manual</code>. In Chrome the default is <code>manual</code> before Chrome 47 and <code>follow</code> starting with Chrome 47.</li> <li>
<code>referrer</code>: A <a title="USVString corresponds to the set of all possible sequences of unicode scalar values. USVString maps to a String when returned in JavaScript; it's generally only used for APIs that perform text processing and need a string of unicode scalar values to operate on." href="../usvstring"><code>USVString</code></a> specifying <code>no-referrer</code>, <code>client</code>, or a URL. The default is <code>client</code>.</li> <li>
<code>integrity</code>: Contains the <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">subresource integrity</a> value of the request (e.g., <code>sha256-BpfBw7ivV8q2jLiT13fxDYAe2tJllusRSZ273h2nFSE=</code>).</li> </ul> </dd> </dl> <h2 id="Errors">Errors</h2> <table class="standard-table"> <thead> <tr> <th scope="col"><strong>Type</strong></th> <th scope="col"><strong>Description</strong></th> </tr> </thead> <tbody> <tr> <td>TypeError</td> <td>Since <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/43">Firefox 43</a>, <code>Request()</code> will throw a TypeError if the URL has credentials, such as http://user:password@example.com.</td> </tr> </tbody> </table> <h2 id="Example">Example</h2> <p>In our <a href="https://github.com/mdn/fetch-examples/tree/gh-pages/fetch-request">Fetch Request example</a> (see <a href="http://mdn.github.io/fetch-examples/fetch-request/">Fetch Request live</a>) we create a new <code>Request</code> object using the constructor, then fetch it using a <a title="The fetch() method of the GlobalFetch mixin starts the process of fetching a resource. This returns a promise that resolves to the Response object representing the response to your request." href="../windoworworkerglobalscope/fetch"><code>GlobalFetch.fetch</code></a> call. Since we are fetching an image, we run <a title="The blob() method of the Body mixin takes a Response stream and reads it to completion. It returns a promise that resolves with a Blob." href="../body/blob"><code>Body.blob</code></a> on the response to give it the proper MIME type so it will be handled properly, then create an Object URL of it and display it in an <a title="The HTML &lt;img&gt; element represents an image in the document." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img"><code>&lt;img&gt;</code></a> element.</p> <pre data-language="js">var myImage = document.querySelector('img');

var myRequest = new Request('flowers.jpg');

fetch(myRequest).then(function(response) {
  return response.blob();
}).then(function(response) {
  var objectURL = URL.createObjectURL(response);
  myImage.src = objectURL;
});</pre> <p>In our <a href="https://github.com/mdn/fetch-examples/tree/gh-pages/fetch-request-with-init">Fetch Request with init example</a> (see <a href="http://mdn.github.io/fetch-examples/fetch-request-with-init/">Fetch Request init live</a>) we do the same thing except that we pass in an init object when we invoke <code>fetch()</code>:</p> <pre data-language="js">var myImage = document.querySelector('img');

var myHeaders = new Headers();
myHeaders.append('Content-Type', 'image/jpeg');

var myInit = { method: 'GET',
               headers: myHeaders,
               mode: 'cors',
               cache: 'default' };

var myRequest = new Request('flowers.jpg',myInit);

fetch(myRequest).then(function(response) {
  ... 
});</pre> <p>Note that you could also pass the init object into the <code>fetch</code> call to get the same effect, e.g.:</p> <pre data-language="js">fetch(myRequest,myInit).then(function(response) {
  ...
});</pre> <p>You can also use an object literal as <code>headers</code> in <code>init</code>.</p> <pre data-language="js">var myInit = { method: 'GET',
               headers: {
                   'Content-Type': 'image/jpeg'
               },
               mode: 'cors',
               cache: 'default' };

var myRequest = new Request('flowers.jpg', myInit);
</pre> <p>You may also pass a <a title="The Request interface of the Fetch API represents a resource request." href="../request"><code>Request</code></a> object to the <code>Request()</code> constructor to create a copy of the Request (This is similar to calling the <a title="The clone() method of the Request interface creates a copy of the current Request object." href="clone"><code>clone()</code></a> method.)</p> <div style="background: #f0f3f3;" class="codehilite"> <pre>var copy = new Request(myRequest);
</pre> </div> <div class="note"> <p><strong>Note</strong>: This last usage is probably only useful in <a href="../service_worker_api">ServiceWorkers</a>.</p> </div> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://fetch.spec.whatwg.org/#dom-request" class="external">Fetch<br><small lang="en-US">The definition of 'Request()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td> </td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>42.0 [1]<br> </td> <td>
<a title="Released on 2015-06-30." href="https://developer.mozilla.org/en-US/Firefox/Releases/39">39</a> (39) [2]</td> <td><span style="color: #f00;">No support</span></td> <td> <p>29 [3]</p> </td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>Streaming response body</td> <td>43.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>
<code>navigate</code> mode</td> <td>49.0</td> <td>
<a title="Released on 2016-04-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/46">46</a> (46)</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>
<code>referrer</code> init option</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a title="Released on 2016-06-07." href="https://developer.mozilla.org/en-US/Firefox/Releases/47">47</a> (47)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td>42 [1]</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>42.0 [1]</td> </tr> <tr> <td>Streaming response body</td> <td><span style="color: #f00;">No support</span></td> <td>43.0 </td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>43.0 </td> </tr> <tr> <td>
<code>navigate</code> mode</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>49.0 </td> </tr> <tr> <td>
<code>referrer</code> init option</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <ul> <li>[1] Some default values for the init parameter changed in Chrome 47. See the Properties section for details. </li> <li>[2] Behind a preference in 34.</li> <li>[3] Behind a preference in 28.</li> </ul> <h2 id="See_also">See also</h2> <ul> <li><a href="../service_worker_api">ServiceWorker API</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">HTTP access control (CORS)</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP">HTTP</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/Request$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/Request" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Request/Request</a>
  </p>
</div>
