<h1>Selection</h1><div><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div></div> <div>A <code><strong>Selection</strong></code> object represents the range of text selected by the user or the current position of the caret. To obtain a Selection object for examination or modification, call <a title="Returns a Selection object representing the range of text selected by the user or the current position of the caret." href="window/getselection"><code>window.getSelection()</code></a>.</div>  <div>A user may make a selection from left to right (in document order) or right to left (reverse of document order). The <strong>anchor</strong> is where the user began the selection and the <strong>focus</strong> is where the user ends the selection. If you make a selection with a desktop mouse, the anchor is placed where you pressed the mouse button and the focus is placed where you released the mouse button. Anchor and focus should not be confused with the start and end positions of a selection, since anchor can be placed before the focus or vice versa, depending on the direction you made your selection.</div>  <h2 name="Properties" id="Properties">Properties</h2> <dl> <dt>
<a title="The Selection.anchorNode read-only property returns the Node in which the selection begins." href="selection/anchornode"><code>Selection.anchorNode</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns the <a title="A Node is an interface from which a number of DOM types inherit, and allows these various types to be treated (or tested) similarly." href="node"><code>Node</code></a> in which the selection begins.</dd> <dt>
<a title="The Selection.anchorOffset read-only property returns the number of characters that the selection's anchor is offset within the Selection.anchorNode." href="selection/anchoroffset"><code>Selection.anchorOffset</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns a number representing the offset of the selection's anchor within the anchorNode. If anchorNode is a text node, this is the number of characters within anchorNode preceding the anchor. If anchorNode is an element, this is the number of child nodes of the anchorNode preceding the anchor.</dd> <dt>
<a title="Selection.focusNode read-only property returns the Node, in which selection ends." href="selection/focusnode"><code>Selection.focusNode</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns the <a title="A Node is an interface from which a number of DOM types inherit, and allows these various types to be treated (or tested) similarly." href="node"><code>Node</code></a> in which the selection ends.</dd> <dt>
<a title="The Selection.focusOffset read-only property returns the number of characters that the selection's focus is offset within the Selection.focusNode." href="selection/focusoffset"><code>Selection.focusOffset</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns a number representing the offset of the selection's anchor within the focusNode. If focusNode is a text node, this is the number of characters within focusNode preceding the focus. If focusNode is an element, this is the number of child nodes of the focusNode preceding the focus.</dd> <dt>
<a title="The Selection.isCollapsed read-only property returns a Boolean which indicates whether or not there is currently any text selected; That is to say that the selection's start and end points are at the same position in the content." href="selection/iscollapsed"><code>Selection.isCollapsed</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns a Boolean indicating whether the selection's start and end points are at the same position.</dd> <dt>
<a title="The Selection.rangeCount read-only property returns the number of ranges in the selection." href="selection/rangecount"><code>Selection.rangeCount</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns the number of ranges in the selection.</dd> </dl> <h2 name="Methods" id="Methods">Methods</h2> <dl> <dt><a title="The Selection.getRangeAt() method returns a range object representing one of the ranges currently selected." href="selection/getrangeat"><code>Selection.getRangeAt()</code></a></dt> <dd>Returns a <a title="The Range interface represents a fragment of a document that can contain nodes and parts of text nodes." href="range"><code>Range</code></a> object representing one of the ranges currently selected.</dd> <dt><a title="The Selection.collapse() method collapses the current selection to a single point. The document is not modified. If the content is focused and editable, the caret will blink there." href="selection/collapse"><code>Selection.collapse()</code></a></dt> <dd>Collapses the current selection to a single point.</dd> <dt><a title="The Selection.extend() method moves the focus of the selection to a specified point. The anchor of the selection does not move. The selection will be from the anchor to the new focus regardless of direction." href="selection/extend"><code>Selection.extend()</code></a></dt> <dd>Moves the focus of the selection to a specified point.</dd> <dt>
<a title="The Selection.modify() method applies a change to the current selection or cursor position, using simple textual commands." href="https://developer.mozilla.org/en-US/docs/Web/API/Selection/modify"><code>Selection.modify()</code></a>
</dt> <dd>Changes the current selection.</dd> <dt><a title="The Selection.collapseToStart() method collapses the selection to the start of the first range in the selection.  If the content of the selection is focused and editable, the caret will blink there." href="selection/collapsetostart"><code>Selection.collapseToStart()</code></a></dt> <dd>Collapses the selection to the start of the first range in the selection.</dd> <dt><a title="The Selection.collapseToEnd() method collapses the selection to the end of the last range in the selection.  If the content of the selection is focused and editable, the caret will blink there." href="selection/collapsetoend"><code>Selection.collapseToEnd()</code></a></dt> <dd>Collapses the selection to the end of the last range in the selection.</dd> <dt><a title="The Selection.selectAllChildren() method adds all the children of the specified node to the selection. Previous selection is lost." href="selection/selectallchildren"><code>Selection.selectAllChildren()</code></a></dt> <dd>Adds all the children of the specified node to the selection.</dd> <dt><a title="The Selection.addRange() method adds a Range to a Selection." href="selection/addrange"><code>Selection.addRange()</code></a></dt> <dd>A <a title="The Range interface represents a fragment of a document that can contain nodes and parts of text nodes." href="range"><code>Range</code></a> object that will be added to the selection.</dd> <dt><a title="The Selection.removeRange() method removes a range from the selection." href="selection/removerange"><code>Selection.removeRange()</code></a></dt> <dd>Removes a range from the selection.</dd> <dt><a title="The Selection.removeAllRanges() method removes all ranges from the selection, leaving the anchorNode and focusNode properties equal to null and leaving nothing selected." href="selection/removeallranges"><code>Selection.removeAllRanges()</code></a></dt> <dd>Removes all ranges from the selection.</dd> <dt><a title="The Selection.deleteFromDocument() method deletes the actual text being represented by a selection object from the document's DOM." href="selection/deletefromdocument"><code>Selection.deleteFromDocument()</code></a></dt> <dd>Deletes the selection's content from the document.</dd> <dt><a title="The Selection.toString() method returns a string currently being represented by the selection object, i.e. the currently selected text." href="selection/tostring"><code>Selection.toString()</code></a></dt> <dd>Returns a string currently being represented by the selection object, i.e. the currently selected text.</dd> <dt><a title="The Selection.containsNode() method indicates if the node is part of the selection." href="selection/containsnode"><code>Selection.containsNode()</code></a></dt> <dd>Indicates if a certain node is part of the selection.</dd> </dl> <h2 id="Notes">Notes</h2> <h3 id="String_representation_of_a_selection">String representation of a selection</h3> <p>Calling the <a title="The Selection.toString() method returns a string currently being represented by the selection object, i.e. the currently selected text." href="selection/tostring"><code>Selection.toString()</code></a> method returns the text contained in the selection, e.g.:</p> <pre data-language="js">var selObj = window.getSelection();
window.alert(selObj); 
</pre> <p>Note that using a selection object as the argument to <code>window.alert</code> will call the object's <code>toString</code> method.</p> <h3 id="Multiple_ranges_in_a_selection">Multiple ranges in a selection</h3> <p>A selection object represents the <a title="The Range interface represents a fragment of a document that can contain nodes and parts of text nodes." href="range"><code>ranges</code></a> that the user has selected. Typically, it holds only one range, accessed as follows:</p> <div style="overflow: hidden;"> <pre data-language="js">var selObj = window.getSelection();
var range  = selObj.getRangeAt(0);</pre> </div> <ul> <li>
<code>selObj</code> is a Selection object</li> <li>
<code>range</code> is a <a title="The Range interface represents a fragment of a document that can contain nodes and parts of text nodes." href="range"><code>Range</code></a> object</li> </ul> <p>As the <a href="http://www.w3.org/TR/selection-api/#h_note_15">Selection API specification notes</a>, the Selection API was initially created by Netscape and used multiple ranges, for instance, to allow the user to select a column from a <a title="The HTML &lt;table&gt; element represents tabular data —that is, information expressed via a two-dimensional data table." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table"><code>&lt;table&gt;</code></a>. However browsers other than Gecko did not implement multiple ranges, and the specification also requires the selection to always have a single range.</p> <h3 id="Selection_and_input_focus">Selection and input focus</h3> <p>Selection and input focus (indicated by <a title="Returns the currently focused element, that is, the element that will get keystroke events if the user types any. This attribute is read only." href="document/activeelement"><code>Document.activeElement</code></a>) have a complex relation, that depends on the browser. In cross-browser compatible code it's better to handle them separately.</p> <p>Safari and Chrome (unlike Firefox) historically focus the element containing selection when modifying the selection programmatically, but this might change in the future (see <a href="https://www.w3.org/Bugs/Public/show_bug.cgi?id=14383">W3C bug 14383</a> and <a title="" href="https://bugs.webkit.org/show_bug.cgi?id=38696" rel="external" class="external">WebKit bug 38696</a>).</p> <h3 name="Glossary" id="Glossary">Glossary</h3> <p>Other key terms used in this section.</p> <dl> <dt>anchor</dt> <dd>The anchor of a selection is the beginning point of the selection. When making a selection with a mouse, the anchor is where in the document the mouse button is initially pressed. As the user changes the selection using the mouse or the keyboard, the anchor does not move.</dd> <dt>focus of a selection</dt> <dd>The focus of a selection is the end point of the selection. When making a selection with a mouse, the focus is where in the document the mouse button is released. As the user changes the selection using the mouse or the keyboard, the focus is the end of the selection that moves.<strong> Note:</strong> This is not the same as the focused <em>element</em> of the document, as returned by <a title="Returns the currently focused element, that is, the element that will get keystroke events if the user types any. This attribute is read only." href="document/activeelement"><code>document.activeElement</code></a>.</dd> <dt>range</dt> <dd>A range is a contiguous part of a document. A range can contain entire nodes as well as portions of nodes, such as a portion of a text node. A user will normally only select a single range at a time, but it's possible for a user to select multiple ranges (e.g. by using the Control key). A range can be retrieved from a selection as a <a title="The Range interface represents a fragment of a document that can contain nodes and parts of text nodes." href="range"><code>range</code></a> object. Range objects can also be created via the DOM and programmatically added or removed from a selection.</dd> </dl> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="http://w3c.github.io/selection-api/#definition" class="external">Selection API<br><small lang="en-US">The definition of 'Selection' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>The Selection API specification is based on the HTML Editing APIs specification and focuses on the Selection-related functionality.</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://w3c.github.io/editing/#selection" class="external">HTML Editing APIs<br><small lang="en-US">The definition of 'Selection' in that specification.</small></a></td> <td><span class="spec-ED">Editor's Draft</span></td> <td>Initial (older) definition.</td> </tr> </tbody> </table> <h2 name="Browser_compatibility" id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>9</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td><code>modify()</code></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a title="Released on 2011-03-22." href="https://developer.mozilla.org/en-US/Firefox/Releases/4">4.0</a> (2)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td><code>modify()</code></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>4.0 (2)</td> <td>1.0</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <h2 name="See_also" id="See_also">See also</h2> <ul> <li>
<a title="Returns a Selection object representing the range of text selected by the user or the current position of the caret." href="window/getselection"><code>Window.getSelection</code></a>, <a title="This method functions identically to the Window.getSelection() method; it returns a Selection object representing the text currently selected in the document." href="document/getselection"><code>Document.getSelection</code></a>, <a title="The Range interface represents a fragment of a document that can contain nodes and parts of text nodes." href="range"><code>Range</code></a>
</li> <li>Selection-related events: <code><a title="/en-US/docs/Web/Events/selectionchange" href="https://developer.mozilla.org/en-US/docs/Web/Events/selectionchange">selectionchange</a></code> and <code><a title="/en-US/docs/Web/Events/selectstart" href="https://developer.mozilla.org/en-US/docs/Web/Events/selectstart">selectstart</a></code>
</li> <li>HTML inputs provide simpler helper APIs for working with selection (see <a title="The HTMLInputElement.setSelectionRange() method sets the start and end positions of the current text selection in an &lt;input&gt; element." href="htmlinputelement/setselectionrange"><code>HTMLInputElement.setSelectionRange()</code></a>)</li> <li>
<a title="Returns the currently focused element, that is, the element that will get keystroke events if the user types any. This attribute is read only." href="document/activeelement"><code>Document.activeElement</code></a>, <a title="The HTMLElement.focus() method sets focus on the specified element, if it can be focused." href="htmlelement/focus"><code>HTMLElement.focus()</code></a>, and <a title="The HTMLElement.blur() method removes keyboard focus from the current element." href="htmlelement/blur"><code>HTMLElement.blur()</code></a>
</li> </ul> <h2 id="Gecko_notes">Gecko notes</h2> <ul> <li>Gecko/Firefox provide additional features, available to chrome (internal and add-on) code only. These are defined in <code><a title="" href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISelectionPrivate">nsISelectionPrivate</a></code>.</li> <li>Mozilla source code: <code><a href="https://dxr.mozilla.org/mozilla-central/source/dom/webidl/Selection.webidl" rel="custom">dom/webidl/Selection.webidl</a></code>
</li> <li>
<span title="(Firefox 29 / Thunderbird 29 / SeaMonkey 2.26)" class="inlineIndicator obsolete obsoleteInline">Obsolete since Gecko 29</span> <a title="Selection.selectionLanguageChange() method is a Gecko/Firefox internal method that was exposed to web pages until Firefox 29. It was removed in bug 949445 and should not be used." href="selection/selectionlanguagechange"><code>Selection.selectionLanguageChange()</code></a> used to be exposed to the web content until Firefox 29</li> </ul> <div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Selection$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Selection" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Selection</a>
  </p>
</div>
