<h1>DataTransfer</h1> <p>The <code><strong>DataTransfer</strong></code> object is used to hold the data that is being dragged during a drag and drop operation. It may hold one or more data items, each of one or more data types. For more information about drag and drop, see <a href="html_drag_and_drop_api">HTML Drag and Drop API</a>.</p> <p>This object is available from the <a title="The DataEvent.dataTransfer property holds the drag operation's data (as a DataTransfer object)." href="dragevent/datatransfer"><code>dataTransfer</code></a> property of all <a title="The DragEvent interface is a DOM event that represents a drag and drop interaction. The user initiates a drag by placing a pointer device (such as a mouse) on the touch surface and then dragging the pointer to a new location (such as another DOM element). Applications are free to interpret a drag and drop interaction in an application-specific way." href="dragevent"><code>drag events</code></a>. It cannot be created separately (i.e. there is no constructor for this object).</p> <h2 id="Properties">Properties</h2> <h3 id="Standard_properties">Standard properties</h3> <dl> <dt><a title="The DataTransfer.dropEffect property controls the feedback (typically visual) the user is given during a drag and drop operation. It will affect which cursor is displayed while dragging. For example, when the user hovers over a target drop element, the browser's cursor may indicate which type of operation will occur." href="datatransfer/dropeffect"><code>DataTransfer.dropEffect</code></a></dt> <dd>Gets the type of drag-and-drop operation currently selected or sets the operation to a new type. The value must be <code>none</code>, <code>copy</code>, <code>link</code> or <code>move</code>.</dd> <dt><a title="The DataTransfer.effectAllowed property specifies the effect that is allowed for a drag operation. The copy operation is used to indicate that the data being dragged will be copied from its present location to the drop location. The move operation is used to indicate that the data being dragged will be moved, and the link operation is used to indicate that some form of relationship or connection will be created between the source and drop locations." href="datatransfer/effectallowed"><code>DataTransfer.effectAllowed</code></a></dt> <dd>Provides all of the types of operations that are possible. Must be one of <code>none</code>, <code>copy</code>, <code>copyLink</code>, <code>copyMove</code>, <code>link</code>, <code>linkMove</code>, <code>move</code>, <code>all</code> or <code>uninitialized</code>.</dd> <dt><a title="The DataTransfer.files property is a list of the files in the drag operation. If the operation includes no files, the list is empty." href="datatransfer/files"><code>DataTransfer.files</code></a></dt> <dd>Contains a list of all the local files available on the data transfer. If the drag operation doesn't involve dragging files, this property is an empty list.</dd> <dt>
<a title="The DataTransfer.items property is a list of the data transfer items in a drag operation. The list includes one item for each item in the operation and if the operation had no items, the list is empty." href="datatransfer/items"><code>DataTransfer.items</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Gives a <a title="The DataTransferItemList object is a list of DataTransferItem objects representing items being dragged. During a drag operation, each DragEvent has a dataTransfer property and that property is a DataTransferItemList." href="datatransferitemlist"><code>DataTransferItemList</code></a> object which is a list of all of the drag data.</dd> <dt>
<a title="The DataTransfer.types read-only property returns an array of the drag data formats (as strings) that were set in the dragstart event. The order of the formats is the same order as the data included in the drag operation." href="datatransfer/types"><code>DataTransfer.types</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>An array of <a title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String." href="domstring"><code>strings</code></a> giving the formats that were set in the <code><a title="/en-US/docs/Web/Events/dragstart" href="https://developer.mozilla.org/en-US/docs/Web/Events/dragstart">dragstart</a></code> event.</dd> </dl> <h3 id="Gecko_properties">Gecko properties</h3> <div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <div class="note">
<strong>Note:</strong> All of the properties in this section are Gecko-specific.</div> <dl> <dt><a title="The DataTransfer.mozCursor property returns or sets the drag cursor's state. This is primarily used to control the cursor during tab drags." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/mozCursor"><code>DataTransfer.mozCursor</code></a></dt> <dd>Gives the drag cursor's state. This is primarily used to control the cursor during tab drags.</dd> <dt>
<a title="The DataTransfer.mozItemCount property returns the number of items being dragged. This can be used, for example, to get the number of files being dragged." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/mozItemCount"><code>DataTransfer.mozItemCount</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Gives the number of items in the drag operation.</dd> <dt>
<a title="The DataTransfer.mozSourceNode property is used to determine the Node over which the mouse cursor was located when the the drag operation was initiated (for example, when a &lt;button&gt; was clicked). For external drags or if the calling function cannot reach the node, null is returned." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/mozSourceNode"><code>DataTransfer.mozSourceNode</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>The <a title="A Node is an interface from which a number of DOM types inherit, and allows these various types to be treated (or tested) similarly." href="node"><code>Node</code></a> over which the mouse cursor was located when the button was pressed to initiate the drag operation. This value is <code>null</code> for external drags or if the caller can't access the node.</dd> <dt>
<a title="The DataTransfer.mozUserCancelled property is used in the dragend event handler to determine if the user canceled the drag or not. If the user canceled the event, the property returns true and returns false otherwise. This property only applies to the dragend event." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/mozUserCancelled"><code>DataTransfer.mozUserCancelled</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>This property applies only to the <code>dragend</code> event, and is <code>true</code> if the user canceled the drag operation by pressing escape. It will be <code>false</code> in all other cases, including if the drag failed for any other reason, for instance due to a drop over an invalid location.</dd> </dl> <h2 id="Methods">Methods</h2> <h3 id="Standard_methods">Standard methods</h3> <dl> <dt><a title="The DataTransfer.clearData() method removes the drag operation's drag data for the given type. If data for the given type does not exist, this method does nothing." href="datatransfer/cleardata"><code>DataTransfer.clearData()</code></a></dt> <dd>Remove the data associated with a given type. The type argument is optional. If the type is empty or not specified, the data associated with all types is removed. If data for the specified type does not exist, or the data transfer contains no data, this method will have no effect.</dd> <dt><a title="The DataTransfer.getData() method retrieves drag data (as a DOMString) for the specified type. If the drag operation does not include data, this method returns an empty string." href="datatransfer/getdata"><code>DataTransfer.getData()</code></a></dt> <dd>Retrieves the data for a given type, or an empty string if data for that type does not exist or the data transfer contains no data.</dd> <dt><a title="The DataTransfer.setData() method sets the drag operation's drag data to the specified data and type. If data for the given type does not exist, it is added at the end of the drag data store, such that the last item in the types list will be the new type. If data for the given type already exists, the existing data is replaced in the same position. That is, the order of the types list is not changed when replacing data of the same type." href="datatransfer/setdata"><code>DataTransfer.setData()</code></a></dt> <dd>Set the data for a given type. If data for the type does not exist, it is added at the end, such that the last item in the types list will be the new format. If data for the type already exists, the existing data is replaced in the same position.</dd> <dt><a title="When a drag occurs, a translucent image is generated from the drag target (the element the dragstart event is fired at), and follows the mouse pointer during the drag. This image is created automatically, so you do not need to create it yourself. However, if a custom image is desired, the DataTransfer.setDragImage() method can be used to set the custom image to be used." href="datatransfer/setdragimage"><code>DataTransfer.setDragImage()</code></a></dt> <dd>Set the image to be used for dragging if a custom one is desired.</dd> </dl> <h3 id="Gecko_methods">Gecko methods</h3> <div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <div class="note">
<strong>Note:</strong> All of the methods in this section are Gecko-specific.</div> <dl> <dt><a title="The DataTransfer.addElement() method sets the drag source to the given element. This element will be the element to which drag and dragend events are fired, and not the defaut target (the node that was dragged)." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/addElement"><code>DataTransfer.addElement()</code></a></dt> <dd>Sets the drag source to the given element.</dd> <dt><a title="The DataTransfer.mozClearDataAt() method removes the data associated with the given format for an item at the specified index. The index must be in the range from zero to the number of items minus one." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/mozClearDataAt"><code>DataTransfer.mozClearDataAt()</code></a></dt> <dd>Removes the data associated with the given format for an item at the specified index. The index is in the range from zero to the number of items minus one.</dd> <dt><a title="The DataTransfer.mozGetDataAt() method is used to retrieve an item in the drag event's data transfer object, based on a given format and index. This method returns null if the specified item does not exist or if the index is not in the range from zero to the number of items minus one." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/mozGetDataAt"><code>DataTransfer.mozGetDataAt()</code></a></dt> <dd>Retrieves the data associated with the given format for an item at the specified index, or null if it does not exist. The index should be in the range from zero to the number of items minus one.</dd> <dt><a title="The DataTransfer.mozSetDataAt() method is used to add data to a specific index in the drag event's data transfer object." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/mozSetDataAt"><code>DataTransfer.mozSetDataAt()</code></a></dt> <dd>A data transfer may store multiple items, each at a given zero-based index. <code>mozSetDataAt()</code> may only be called with an index argument less than <code>mozItemCount</code> in which case an existing item is modified, or equal to <code>mozItemCount</code> in which case a new item is added, and the <code>mozItemCount</code> is incremented by one.</dd> <dt><a title="The DataTransfer.mozTypesAt() method returns a list of the format types that are stored for an item at the specified index. If the index is not in the range from 0 to the number of items minus one, an empty string list is returned." href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/mozTypesAt"><code>DataTransfer.mozTypesAt()</code></a></dt> <dd>Holds a list of the format types of the data that is stored for an item at the specified index. If the index is not in the range from 0 to the number of items minus one, an empty string list is returned.</dd> </dl> <h2 id="Example">Example</h2> <p>Every method and property listed in this document has its own reference page and each reference page either directly includes an example of the interface or has a link to an example.</p> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://html.spec.whatwg.org/multipage/interaction.html#datatransfer" class="external">WHATWG HTML Living Standard<br><small lang="en-US">The definition of 'DataTransfer' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>
<code>mozCursor</code>, <code>mozItemCount</code>, <code>mozSourceNode</code>, <code>mozUserCancelled</code>, <code>addElement()</code>, <code>mozClearDataAt()</code>, <code>mozGetDataAt()</code>, <code>mozSetDataAt()</code> and <code>mozTypesAt</code> are Gecko specific.</td> </tr> <tr> <td><a lang="en" hreflang="en" href="http://www.w3.org/html/wg/drafts/html/master/editing.html#the-datatransfer-interface" class="external">HTML5.1<br><small lang="en-US">The definition of 'DataTransfer' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Not included in W3C HTML5 <span class="spec-REC">Recommendation</span>
</td> </tr>  </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>4</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>3.5 <sup>[2]</sup><br> <a title="Released on 2017-03-07." href="https://developer.mozilla.org/en-US/Firefox/Releases/52">52</a> (52)<sup>[3]</sup>
</td> <td>10 <sup>[1]</sup> <sup>[2]</sup>
</td> <td>12</td> <td>3.1 <sup>[2]</sup>
</td> </tr> <tr> <td>
<a title="The DataTransfer.items property is a list of the data transfer items in a drag operation. The list includes one item for each item in the operation and if the operation had no items, the list is empty." href="datatransfer/items"><code>items</code></a> property</td> <td>4</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>50</td> <td><span style="color: #f00;">No support</span></td> <td>12</td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Chrome for Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span><br> 52.0 (52)<sup>[3]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td>10[1][2]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>
<a title="The DataTransfer.items property is a list of the data transfer items in a drag operation. The list includes one item for each item in the operation and if the operation had no items, the list is empty." href="datatransfer/items"><code>items</code></a> property</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>50.0 (50)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table> </div> <p>[1] <a href="http://caniuse.com/#search=drag">Partial support refers to not supporting </a><a title="When a drag occurs, a translucent image is generated from the drag target (the element the dragstart event is fired at), and follows the mouse pointer during the drag. This image is created automatically, so you do not need to create it yourself. However, if a custom image is desired, the DataTransfer.setDragImage() method can be used to set the custom image to be used." href="datatransfer/setdragimage"><code>DataTransfer.setDragImage()</code></a> [CanIUse.com].</p> <p>[2] Does not support <a title="The DataTransfer.items property is a list of the data transfer items in a drag operation. The list includes one item for each item in the operation and if the operation had no items, the list is empty." href="datatransfer/items"><code>DataTransfer.items</code></a> property.</p> <p>[3] As of Firefox 52, the <a title="The DataTransfer.types read-only property returns an array of the drag data formats (as strings) that were set in the dragstart event. The order of the formats is the same order as the data included in the drag operation." href="datatransfer/types"><code>DataTransfer.types</code></a> property returns a frozen array of <a title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String." href="domstring"><code>DOMString</code></a>s as per spec, rather than a <a title="A type returned by some APIs which contains a list of DOMString (strings)." href="https://developer.mozilla.org/en-US/docs/Web/API/DOMStringList"><code>DOMStringList</code></a>.</p> <h2 id="See_also">See also</h2> <ul> <li><a href="html_drag_and_drop_api">Drag and drop</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Drag_operations">Drag Operations</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types">Recommended Drag Types</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Dragging_and_Dropping_Multiple_Items">Dragging and Dropping Multiple Items</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer</a>
  </p>
</div>
