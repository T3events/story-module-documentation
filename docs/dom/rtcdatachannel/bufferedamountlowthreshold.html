<h1>RTCDataChannel.bufferedAmountLowThreshold</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p><span class="seoSummary">The <code>RTCDataChannel</code> property <code><strong>bufferedAmountLowThreshold</strong></code> is used to specify the number of bytes of buffered outgoing data that is considered "low." The default value is 0 (meaning no <code>bufferedamountlow</code> events are sent).</span> When the number of buffered outgoing bytes, as indicated by the <a title="The read-only RTCDataChannel property bufferedAmount returns the number of bytes of data currently queued to be sent over the data channel." href="bufferedamount"><code>bufferedAmount</code></a> property, falls to or below this value, a <code><a title="/en-US/docs/Web/Events/bufferedamountlow" href="https://developer.mozilla.org/en-US/docs/Web/Events/bufferedamountlow">bufferedamountlow</a></code> event is fired. This event may be used, for example, to implement code which queues more messages to be sent whenever there's room to buffer them. Listeners may be added with <a title="The RTCDataChannel.onbufferedamountlow property is an EventHandler which specifies a function the browser calls when the bufferedamountlow event is sent to the RTCDataChannel. This event, which is represented by a simple Event object, is sent when the amount of data buffered to be sent falls to or below the threshold specified by the channel's bufferedAmountLowThreshold." href="onbufferedamountlow"><code>onbufferedamountlow</code></a> or <a title="The EventTarget.addEventListener() method registers the specified listener on the EventTarget it's called on. The event target may be an Element in a document, the Document itself, a Window, or any other object that supports events (such as XMLHttpRequest)." href="../eventtarget/addeventlistener"><code>addEventListener()</code></a>.</p> <p>The user agent may implement the process of actually sending data in any way it chooses; this may be done periodically during the event loop or truly asynchronously. As messages are actually sent, this value is reduced accordingly.</p> <div class="note"> <p><code>bufferedamountlow </code>events are not fired after the data channel is closed.</p> </div> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>threshold</em> = <em>aDataChannel</em>.bufferedAmountLowThreshold;

<em>aDataChannel</em>.bufferedAmountLowThreshold = <em>threshold</em>;
</pre> <h3 id="Value">Value</h3> <p>The number of queued outgoing data bytes below which the buffer is considered to be "low."</p> <h2 id="Example">Example</h2> <p>In this snippet of code, <code>bufferedAmountLowThreshold</code> is set to 64kB, and a handler for the <code><a title="/en-US/docs/Web/Events/bufferedamountlow" href="https://developer.mozilla.org/en-US/docs/Web/Events/bufferedamountlow">bufferedamountlow</a></code> event is established by setting the <a title="The RTCDataChannel.onbufferedamountlow property is an EventHandler which specifies a function the browser calls when the bufferedamountlow event is sent to the RTCDataChannel. This event, which is represented by a simple Event object, is sent when the amount of data buffered to be sent falls to or below the threshold specified by the channel's bufferedAmountLowThreshold." href="onbufferedamountlow"><code>RTCDataChannel.onbufferedamountlow</code></a> property to a function which should send more data into the buffer by calling <a title="The send() method of the RTCDataChannel interface sends data across the data channel to the remote peer." href="send"><code>send()</code></a>.</p> <pre>var dc = peerConnection.createDataChannel("File Transfer");
dc.bufferedAmountLowThreshold = 65535;

dc.onbufferedamountlow = function() {
  /* use send() to queue more data to be sent */
};
</pre> <h2 name="Specifications" id="Specifications">Specifications</h2> <table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a lang="en" hreflang="en" href="https://w3c.github.io/webrtc-pc/#dom-datachannel-bufferedamountlowthreshold" class="external">WebRTC 1.0: Real-time Communication Between Browsers<br><small lang="en-US">The definition of 'RTCDataChannel.bufferedAmountLowThreshold' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial specification.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td>46</td> <td>
<a title="Released on 2016-01-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/44">44</a> (44) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android Webview</th> <th>Chrome for Android</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td>46</td> <td>46</td> <td>44.0 (44) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <p>[1] The interface is called <code>DataChannel</code> and not <code>RTCDataChannel</code> in Firefox; however, a binding was added in Firefox 24 so that either name may be used.</p> <h2 id="See_also">See also</h2> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/WebRTC">WebRTC</a></li> <li><a href="../webrtc_api/using_data_channels">Using WebRTC data channels</a></li> <li><a title="The RTCDataChannel interface represents a network channel which can be used for bidirectional peer-to-peer transfers of arbitrary data. Every data channel is associated with an RTCPeerConnection, and each peer connection can have up to a theoretical maximum of 65,534 data channels (the actual limit may vary from browser to browser)." href="../rtcdatachannel"><code>RTCDataChannel</code></a></li> <li><a title="The read-only RTCDataChannel property bufferedAmount returns the number of bytes of data currently queued to be sent over the data channel." href="bufferedamount"><code>RTCDataChannel.bufferedAmount</code></a></li> <li>
<code><a title="/en-US/docs/Web/Events/bufferedamountlow" href="https://developer.mozilla.org/en-US/docs/Web/Events/bufferedamountlow">bufferedamountlow</a></code> event</li> <li><a title="The RTCDataChannel.onbufferedamountlow property is an EventHandler which specifies a function the browser calls when the bufferedamountlow event is sent to the RTCDataChannel. This event, which is represented by a simple Event object, is sent when the amount of data buffered to be sent falls to or below the threshold specified by the channel's bufferedAmountLowThreshold." href="onbufferedamountlow"><code>RTCDataChannel.onbufferedamountlow</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/bufferedAmountLowThreshold$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/bufferedAmountLowThreshold" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/bufferedAmountLowThreshold</a>
  </p>
</div>
