<h1>RTCDataChannel.bufferedAmount</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p><span class="seoSummary">The read-only <code>RTCDataChannel</code> property <code><strong>bufferedAmount</strong></code> returns the number of bytes of data currently queued to be sent over the data channel.</span> The queue may build up as a result of calls to the <a title="The send() method of the RTCDataChannel interface sends data across the data channel to the remote peer." href="send"><code>send()</code></a> method. This only includes data buffered by the user agent itself; it doesn't include any framing overhead or buffering done by the operating system or network hardware.</p> <p>The user agent may implement the process of actually sending data in any way it chooses; this may be done periodically during the event loop or truly asynchronously. As messages are actually sent, this value is reduced accordingly.</p> <div class="note"> <p>Closing the data channel doesn't reset this count, even though the user agent purges the queued messages. However, even after closing the channel, attempts to send messages continue to add to the <code>bufferedAmount</code> value, even though the messages are neither sent nor buffered.</p> </div> <p>Whenever this value decreases to fall to or below the value specified in the <a title='The RTCDataChannel property bufferedAmountLowThreshold is used to specify the number of bytes of buffered outgoing data that is considered "low." The default value is 0 (meaning no bufferedamountlow events are sent).' href="bufferedamountlowthreshold"><code>bufferedAmountLowThreshold</code></a> property, the user agent fires the <code><a title="/en-US/docs/Web/Events/bufferedamountlow" href="https://developer.mozilla.org/en-US/docs/Web/Events/bufferedamountlow">bufferedamountlow</a></code> event. This event may be used, for example, to implement code which queues more messages to be sent whenever there's room to buffer them.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>amount</em> = <em>aDataChannel</em>.bufferedAmount;
</pre> <h3 id="Value">Value</h3> <p>The number of bytes of data currently queued to be sent over the data channel but have not yet been sent.</p> <h2 id="Example">Example</h2> <p>The snippet below includes a function which changes the contents of a block with the ID "bufferSize" to a string indicating the number of bytes currently buffered on an <a title="The RTCDataChannel interface represents a network channel which can be used for bidirectional peer-to-peer transfers of arbitrary data. Every data channel is associated with an RTCPeerConnection, and each peer connection can have up to a theoretical maximum of 65,534 data channels (the actual limit may vary from browser to browser)." href="../rtcdatachannel"><code>RTCDataChannel</code></a>.</p> <pre>var dc = peerConnection.createDataChannel("File Transfer");

/* ... */

function showBufferedAmount(channel) {
  let el = document.getElementbyId("bufferSize");

  el.innerHTML = channel.bufferedAmount + " bytes";
}
</pre> <h2 name="Specifications" id="Specifications">Specifications</h2> <table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a lang="en" hreflang="en" href="https://w3c.github.io/webrtc-pc/#dom-datachannel-bufferedamount" class="external">WebRTC 1.0: Real-time Communication Between Browsers<br><small lang="en-US">The definition of 'RTCDataChannel.bufferedAmount' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial specification.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2013-06-25." href="https://developer.mozilla.org/en-US/Firefox/Releases/22">22</a> (22) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android Webview</th> <th>Chrome for Android</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>22.0 (22) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <p>[1] The interface is called <code>DataChannel</code> and not <code>RTCDataChannel</code> in Firefox; however, a binding was added in Firefox 24 so that either name may be used.</p> <h2 id="See_also">See also</h2> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/WebRTC">WebRTC</a></li> <li><a href="../webrtc_api/using_data_channels">Using WebRTC data channels</a></li> <li><a title="The RTCDataChannel interface represents a network channel which can be used for bidirectional peer-to-peer transfers of arbitrary data. Every data channel is associated with an RTCPeerConnection, and each peer connection can have up to a theoretical maximum of 65,534 data channels (the actual limit may vary from browser to browser)." href="../rtcdatachannel"><code>RTCDataChannel</code></a></li> <li><a title='The RTCDataChannel property bufferedAmountLowThreshold is used to specify the number of bytes of buffered outgoing data that is considered "low." The default value is 0 (meaning no bufferedamountlow events are sent).' href="bufferedamountlowthreshold"><code>RTCDataChannel.bufferedAmountLowThreshold</code></a></li> <li>
<code><a title="/en-US/docs/Web/Events/bufferedamountlow" href="https://developer.mozilla.org/en-US/docs/Web/Events/bufferedamountlow">bufferedamountlow</a></code> event</li> <li><a title="The RTCDataChannel.onbufferedamountlow property is an EventHandler which specifies a function the browser calls when the bufferedamountlow event is sent to the RTCDataChannel. This event, which is represented by a simple Event object, is sent when the amount of data buffered to be sent falls to or below the threshold specified by the channel's bufferedAmountLowThreshold." href="onbufferedamountlow"><code>RTCDataChannel.onbufferedamountlow</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/bufferedAmount$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/bufferedAmount" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCDataChannel/bufferedAmount</a>
  </p>
</div>
