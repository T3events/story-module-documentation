<h1>IIRFilterNode.getFrequencyResponse</h1> <div> <p>The <code>getFrequencyResponse()</code> method of the <a title="The IIRFilterNode interface of the Web Audio API is a AudioNode processor which implements a general infinite impulse response (IIR)  filter; this type of filter can be used to implement tone control devices and graphic equalizers as well. It lets the parameters of the filter response be specified, so that it can be tuned as needed." href="../iirfilternode"><code>IIRFilterNode</code></a> interface takes the current filtering algorithm's settings and calculates the frequency response for frequencies specified in a specified array of frequencies.</p> <p>The two output arrays, <code>magResponseOutput</code> and <code>phaseResponseOutput</code>, must be created before calling this method; they must be the same size as the array of input frequency values (<code>frequencyArray</code>).</p> </div> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><em>IIRFilterNode</em>.getFrequencyResponse(<em>frequencyArray</em>, <em>magResponseOutput</em>, <em>phaseResponseOutput</em>);
</pre> <h3 name="Parameters" id="Parameters">Parameters</h3> <dl> <dt><code>frequencyArray</code></dt> <dd>A <a title="The Float32Array typed array represents an array of 32-bit floating point numbers (corresponding to the C float data type) in the platform byte order. If control over byte order is needed, use DataView instead. The contents are initialized to 0. Once established, you can reference elements in the array using the object's methods, or using standard array index syntax (that is, using bracket notation)." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array"><code>Float32Array</code></a> containing an array of frequencies, specified in Hertz, which you want to filter.</dd> <dt><code>magResponseOutput</code></dt> <dd>A <a title="The Float32Array typed array represents an array of 32-bit floating point numbers (corresponding to the C float data type) in the platform byte order. If control over byte order is needed, use DataView instead. The contents are initialized to 0. Once established, you can reference elements in the array using the object's methods, or using standard array index syntax (that is, using bracket notation)." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array"><code>Float32Array</code></a> to receive the computed magnitudes of the freqency response for each frequency value in the <code>frequencyArray</code>.</dd> <dt><code>phaseResponseOutput</code></dt> <dd>A <a title="The Float32Array typed array represents an array of 32-bit floating point numbers (corresponding to the C float data type) in the platform byte order. If control over byte order is needed, use DataView instead. The contents are initialized to 0. Once established, you can reference elements in the array using the object's methods, or using standard array index syntax (that is, using bracket notation)." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array"><code>Float32Array</code></a> to receive the computed phase response values in radians for each frequency value in the input <code>frequencyArray</code>.</dd> </dl> <h3 id="Return_value">Return value</h3> <p><a title="The global undefined property represents the primitive value undefined. It is one of JavaScript's primitive types." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a></p> <h3 id="Exceptions">Exceptions</h3> <dl> <dt><code>NotSupportedError</code></dt> <dd>The three arrays provided are not all of the same length.</dd> </dl> <h2 name="Example" id="Example">Example</h2> <p>In the following example we are using an IIR filter on a media stream (for a complete full demo, see our <a href="http://mdn.github.io/stream-source-buffer/">stream-source-buffer demo</a> live, or <a href="https://github.com/mdn/stream-source-buffer/blob/gh-pages/index.html">read its source</a>.) As part of this demo, we get the frequency responses for this IIR filter, for five sample frequencies. We first create the <a title="The Float32Array typed array represents an array of 32-bit floating point numbers (corresponding to the C float data type) in the platform byte order. If control over byte order is needed, use DataView instead. The contents are initialized to 0. Once established, you can reference elements in the array using the object's methods, or using standard array index syntax (that is, using bracket notation)." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array"><code>Float32Array</code></a> objects we need, one containing the input frequencies, and two to receive the output magnitude and phase values:</p> <pre data-language="js">var myFrequencyArray = new Float32Array(5);
myFrequencyArray[0] = 1000;
myFrequencyArray[1] = 2000;
myFrequencyArray[2] = 3000;
myFrequencyArray[3] = 4000;
myFrequencyArray[4] = 5000;

var magResponseOutput = new Float32Array(5);
var phaseResponseOutput = new Float32Array(5);</pre> <p>Next we create a <a title="The HTML &lt;ul&gt; element (or HTML Unordered List Element) represents an unordered list of items, namely a collection of items that do not have a numerical ordering, and their order in the list is meaningless. Typically, unordered-list items are displayed with a bullet, which can be of several forms, like a dot, a circle or a squared. The bullet style is not defined in the HTML description of the page, but in its associated CSS, using the list-style-type property." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul"><code>&lt;ul&gt;</code></a> element in our HTML to contain our results, and grab a reference to it in our JavaScript:</p> <pre data-language="html">&lt;p&gt;IIR filter frequency response for: &lt;/p&gt;
&lt;ul class="freq-response-output"&gt;
&lt;/ul&gt;</pre> <pre data-language="js">var freqResponseOutput = document.querySelector('.freq-response-output');</pre> <p>Finally, after creating our filter, we use <code>getFrequencyResponse()</code> to generate the response data and put it in our arrays, then loop through each data set and output them in a human-readable list at the bottom of the page:</p> <pre data-language="js">var feedforwardCoefficients = [0.1, 0.2, 0.3, 0.4, 0.5];
var feedbackCoefficients = [0.5, 0.4, 0.3, 0.2, 0.1];

var iirFilter = audioCtx.createIIRFilter(feedforwardCoefficients, feedbackCoefficients);

  ...

function calcFrequencyResponse() {
  iirFilter.getFrequencyResponse(myFrequencyArray, magResponseOutput, phaseResponseOutput);

  for(i = 0; i &lt;= myFrequencyArray.length-1;i++){
    var listItem = document.createElement('li');
    listItem.innerHTML = '&lt;strong&gt;' + myFrequencyArray[i] + 'Hz&lt;/strong&gt;: Magnitude ' + magResponseOutput[i] + ', Phase ' + phaseResponseOutput[i] + ' radians.';
    freqResponseOutput.appendChild(listItem);
  }
}

calcFrequencyResponse();</pre> <h2 name="Parameters" id="Parameters">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a hreflang="en" class="external" lang="en" href="https://webaudio.github.io/web-audio-api/#widl-IIRFilterNode-getFrequencyResponse-void-Float32Array-frequencyHz-Float32Array-magResponse-Float32Array-phaseResponse">Web Audio API<br><small lang="en-US">The definition of 'getFrequencyResponse()' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td> </td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>49</td> <td>
<a title="Released on 2016-11-08." href="https://developer.mozilla.org/en-US/Firefox/Releases/50">50</a> (50) </td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>50.0 (50) </td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>49.0</td> </tr> </tbody> </table> </div> <h2 id="See_also">See also</h2> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web_Audio_API/Using_Web_Audio_API">Using the Web Audio API</a></li> <li><a title="The IIRFilterNode interface of the Web Audio API is a AudioNode processor which implements a general infinite impulse response (IIR)  filter; this type of filter can be used to implement tone control devices and graphic equalizers as well. It lets the parameters of the filter response be specified, so that it can be tuned as needed." href="../iirfilternode"><code>IIRFilterNode</code></a></li> <li><a title="The AudioNode interface is a generic interface for representing an audio processing module like an audio source (e.g. an HTML &lt;audio&gt; or &lt;video&gt; element, an OscillatorNode, etc.), the audio destination, intermediate processing module (e.g. a filter like BiquadFilterNode or ConvolverNode), or volume control (like GainNode)." href="../audionode"><code>AudioNode</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IIRFilterNode/getFrequencyResponse$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IIRFilterNode/getFrequencyResponse" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/IIRFilterNode/getFrequencyResponse</a>
  </p>
</div>
