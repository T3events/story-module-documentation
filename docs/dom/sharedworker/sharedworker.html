<h1>SharedWorker.constructor</h1> <p>The <code><strong>SharedWorker()</strong></code> constructor creates a <a href="../sharedworker" title="The SharedWorker interface represents a specific kind of worker that can be accessed from several browsing contexts, such as several windows, iframes or even workers. They implement an interface different than dedicated workers and have a different global scope, SharedWorkerGlobalScope."><code>SharedWorker</code></a> object that executes the script at the specified URL. This script must obey the <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy">same-origin policy</a>.</p> <p>If the URL has an invalid syntax or if the same-origin policy is violated, a <a href="../domexception" title="The DOMException interface represents an abnormal event (called an exception) which occurs as a result of calling a method or accessing a property of a web API. This is basically how error conditions are described in web APIs."><code>DOMException</code></a> of type <code>SECURITY_ERR</code> is thrown.</p> <div class="note"> <p><strong>Note</strong>: there is disagreement among browser manufacturers about whether a data URI is of the same origin or not. Although Gecko 10.0 (Firefox 10.0 / Thunderbird 10.0 / SeaMonkey 2.7) and later accept data URIs, that's not the case in all other browsers.</p> </div> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var myWorker = new SharedWorker(<em>aURL</em>, <em>name</em>);</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt><em>aURL</em></dt> <dd>A <a href="../domstring" title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> representing the URL of the script the worker will execute. It must obey the same-origin policy.</dd> <dt><em>name</em></dt> <dd>An optional argument that specifies an existing <a href="../sharedworkerglobalscope/name" title="The name read-only property of the SharedWorkerGlobalScope interface returns the name that the SharedWorker was (optionally) given when it was created. This is the name that the SharedWorker() constructor can pass to get a reference to the SharedWorkerGlobalScope."><code>SharedWorkerGlobalScope.name</code></a> — if this is specified then that <a href="../sharedworkerglobalscope" title="The SharedWorkerGlobalScope object (the SharedWorker global scope) is accessible through the self keyword. Some additional global functions, namespaces objects, and constructors, not typically associated with the worker global scope, but available on it, are listed in the JavaScript Reference. See the complete list of functions available to workers."><code>SharedWorkerGlobalScope</code></a> will be used as the scope for this shared worker.</dd> </dl> <h3 id="Return_value">Return value</h3> <p>The created worker</p> <h3 id="Exceptions">Exceptions</h3> <ul> <li>
<code>SecurityError</code> is raised if the document is not allowed to start workers</li> <li>
<code>NetworkError</code> is raised if the MIME type of one of the script is <code>text/csv</code>, <code>image/*</code>, <code>video/*</code>, or <code>audio/*</code>. It should always be <code>text/javacript</code>.</li> <li>
<code>SyntaxError</code> is raised if <em>aURL</em> cannot be parsed.</li> </ul> <h2 id="Example">Example</h2> <p>The following code snippet shows creation of a <a href="../sharedworker" title="The SharedWorker interface represents a specific kind of worker that can be accessed from several browsing contexts, such as several windows, iframes or even workers. They implement an interface different than dedicated workers and have a different global scope, SharedWorkerGlobalScope."><code>SharedWorker</code></a> object using the <code>SharedWorker()</code> constructor and subsequent usage of the object:</p> <pre data-language="js">var myWorker = new SharedWorker('worker.js');

myWorker.port.start();

first.onchange = function() {
  myWorker.port.postMessage([first.value,second.value]);
  console.log('Message posted to worker');
}

second.onchange = function() {
  myWorker.port.postMessage([first.value,second.value]);
  console.log('Message posted to worker');
}

myWorker.port.onmessage = function(e) {
  result1.textContent = e.data;
  console.log('Message received from worker');
}</pre> <p>For a full example, see our <a href="https://github.com/mdn/simple-shared-worker" class="external-icon external">Basic shared worker example</a> (<a href="http://mdn.github.io/simple-shared-worker/" class="external-icon external">run shared worker</a>.)</p> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://html.spec.whatwg.org/multipage/#dom-sharedworker" class="external" lang="en" hreflang="en">WHATWG HTML Living Standard<br><small lang="en-US">The definition of 'SharedWorker()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>No change from <a href="https://w3c.github.io/workers/" class="external" lang="en" hreflang="en" title="The 'Web Workers' specification">Web Workers</a>.</td> </tr> <tr> <td><a href="https://w3c.github.io/workers/#dom-sharedworker" class="external" lang="en" hreflang="en">Web Workers<br><small lang="en-US">The definition of 'SharedWorker()' in that specification.</small></a></td> <td><span class="spec-ED">Editor's Draft</span></td> <td>Initial definition</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Support</td> <td>4</td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/29" title="Released on 2014-04-29.">29.0</a> (29.0)</td> <td><span style="color: #f00;">No support</span></td> <td>10.60</td> <td>5<br> <span style="color: #f00;">No support</span> 6.1</td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Chrome for Android</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Support</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>33.0 (33.0)</td> <td>2.1</td> <td><span style="color: #f00;">No support</span></td> <td>11.5</td> <td>5.1<br> <span style="color: #f00;">No support</span> 7.1</td> </tr> </tbody> </table> </div> <h2 id="See_also">See also</h2> <ul> <li>The <a href="../sharedworker" title="The SharedWorker interface represents a specific kind of worker that can be accessed from several browsing contexts, such as several windows, iframes or even workers. They implement an interface different than dedicated workers and have a different global scope, SharedWorkerGlobalScope."><code>SharedWorker</code></a> interface it belongs to.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker/SharedWorker$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker/SharedWorker" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/SharedWorker/SharedWorker</a>
  </p>
</div>
