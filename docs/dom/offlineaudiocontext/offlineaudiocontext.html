<h1>OfflineAudioContext.constructor</h1> <p>The <code><strong>OfflineAudioContext()</strong></code> constructor creates a new <a href="../offlineaudiocontext" title="The OfflineAudioContext interface is an AudioContext interface representing an audio-processing graph built from linked together AudioNodes. In contrast with a standard AudioContext, an OfflineAudioContext doesn't render the audio to the device hardware; instead, it generates it, as fast as it can, and outputs the result to an AudioBuffer."><code>OfflineAudioContext</code></a> object instance.</p> <h2 id="Syntax">Syntax</h2> <pre data-language="js">var myOfflineAudio = new OfflineAudioContext(numOfChannels,length,sampleRate);</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt>numOfChannels</dt> <dd>An integer representing the number of channels this buffer should have. Implementations must support a minimum 32 channels.</dd> <dt>length</dt> <dd>An integer representing the size of the buffer in sample-frames.</dd> <dt>sampleRate</dt> <dd>The sample-rate of the linear audio data in sample-frames per second. An implementation must support sample-rates in at least the range 22050 to 96000, with 44100 being the most commonly used.</dd> </dl> <p>It is important to note that, whereas you can create a new <a href="../audiocontext" title="An AudioContext can be a target of events, therefore it implements the EventTarget interface."><code>AudioContext</code></a> using the <code>new AudioContext()</code> constructor with no arguments, the <code>OfflineAudioContext()</code> constructor requires three arguments. This works in exactly the same way as when you create a new <a href="../audiobuffer" title="Objects of these types are designed to hold small audio snippets, typically less than 45 s. For longer sounds, objects implementing the MediaElementAudioSourceNode are more suitable. The buffer contains data in the following format:  non-interleaved IEEE754 32-bit linear PCM with a nominal range between -1 and +1, that is, 32bits floating point buffer, with each samples between -1.0 and 1.0. If the AudioBuffer has multiple channels, they are stored in separate buffer."><code>AudioBuffer</code></a> with the <a href="../audiocontext/createbuffer" title="An AudioBuffer."><code>AudioContext.createBuffer</code></a> method. For more detail, read <a href="../web_audio_api/basic_concepts_behind_web_audio_api#Audio_buffers.3A_frames.2C_samples_and_channels">Audio buffers: frames, samples and channels</a> from our Basic concepts guide.</p> <div class="note"> <p><strong>Note</strong>: Like a regular <code>AudioContext</code>, an <code>OfflineAudioContext</code> can be the target of events, therefore it implements the <a href="../eventtarget" title="EventTarget is an interface implemented by objects that can receive events and may have listeners for them."><code>EventTarget</code></a> interface.</p> </div> <h2 id="Example">Example</h2> <pre data-language="js"><span class="comment token">// define online and offline audio context</span>

<span class="keyword token">var</span> audioCtx <span class="operator token">=</span> <span class="keyword token">new</span> <span class="class-name token">AudioContext</span><span class="punctuation token">(</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
<span class="keyword token">var</span> offlineCtx <span class="operator token">=</span> <span class="keyword token">new</span> <span class="class-name token">OfflineAudioContext</span><span class="punctuation token">(</span><span class="number token">2</span><span class="punctuation token">,</span><span class="number token">44100</span><span class="operator token">*</span><span class="number token">40</span><span class="punctuation token">,</span><span class="number token">44100</span><span class="punctuation token">)</span><span class="punctuation token">;</span>

source <span class="operator token">=</span> offlineCtx<span class="punctuation token">.</span><span class="function token">createBufferSource</span><span class="punctuation token">(</span><span class="punctuation token">)</span><span class="punctuation token">;

// etc...</span>
</pre> <div class="note"> <p><strong>Note</strong>: For a full working example, see our <a href="http://mdn.github.io/offline-audio-context-promise/" class="external external-icon">offline-audio-context-promise</a> Github repo (see the <a href="https://github.com/mdn/offline-audio-context-promise" class="external external-icon">source code</a> too.)</p> </div> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://webaudio.github.io/web-audio-api/#OfflineAudioContext" class="external" lang="en" hreflang="en">Web Audio API<br><small lang="en-US">The definition of 'OfflineAudioContext' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td> </td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span><br> </td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td> <p><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></p> </td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span><br> </td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext/OfflineAudioContext$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext/OfflineAudioContext" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/OfflineAudioContext/OfflineAudioContext</a>
  </p>
</div>
