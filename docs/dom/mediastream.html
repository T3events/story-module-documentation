<h1>MediaStream</h1> <p><span class="seoSummary">The <strong><code>MediaStream</code></strong>interface represents a stream of media content. A stream consists of several <strong>tracks</strong>such as video or audio tracks. Each track is specified as an instance of <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a>.</span></p> <p>Some user agents subclass this interface to provide more precise information or functionality, like in <a href="canvascapturemediastream" title="The CanvasCaptureMediaStream interface represents a MediaStream capturing in real-time the surface of an HTMLCanvasElement."><code>CanvasCaptureMediaStream</code></a>.</p> <h2 id="Constructor">Constructor</h2> <dl> <dt><a href="mediastream/mediastream" title="MediaStream"><code>MediaStream()</code></a></dt> <dd>Creates and returns a new MediaStream object. You can create an empty stream, a stream which is based upon an existing stream, or a stream that contains a specified list of tracks (specified as an array of <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a> objects).</dd> </dl> <h2 id="Properties">Properties</h2> <p><em>This interface inherits properties from its parent, </em><em><a href="eventtarget" title="EventTarget is an interface implemented by objects that can receive events and may have listeners for them."><code>EventTarget</code></a>.</em></p>  <dl> <dt>
<a href="mediastream/active" title="The active read-only property of the MediaStream interface returns a Boolean value which is true if the stream is currently active; otherwise, it returns false. A stream is considered active if at least one of its MediaStreamTracks is not in the MediaStreamTrack.ended state. Once every track has ended, the stream's active property becomes false."><code>MediaStream.active</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd>A Boolean value that returns <code>true</code> if the <code>MediaStream</code> is active, or <code>false</code> otherwise.</dd> <dt>
<a href="mediastream/ended" title="The ended read-only property of the MediaStream interface returns a Boolean value which is true if the stream has been completely read, or false if the end of the stream has not been reached. This value  once the ended event has been fired."><code>MediaStream.ended</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span> 
</dt> <dd>A Boolean value set to <code style="font-size: 14px;">true</code> if the end of the stream has been reached. This has been removed from the specification; you should instead check the value of <a href="mediastreamtrack/readystate" title="The read-only property MediaStreamTrack.readyState returns an enumerated value giving the status of the track."><code>MediaStreamTrack.readyState</code></a> to see if its value is <code>"ended"</code> for the track or tracks you want to ensure have finished playing.</dd> </dl> <dl> <dt>
<a href="mediastream/id" title="The MediaStream.id() read-only property is a DOMString containing 36 characters denoting a unique identifier (GUID) for the object."><code>MediaStream.id</code></a> <span class="inlineIndicator readOnly readOnlyInline" title="This value may not be changed.">Read only </span>
</dt> <dd>A <a href="domstring" title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> containing 36 characters denoting a universally unique identifier (UUID) for the object.</dd> </dl> <h3 id="Event_handlers">Event handlers</h3> <dl> <dt><a href="mediastream/onaddtrack" title="The MediaStream.onaddtrack property is an EventHandler which specifies a function to be called when the addtrack event occurs on a MediaStream instance. This happens when a new track of any kind is added to the media stream."><code>MediaStream.onaddtrack</code></a></dt> <dd>An <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventHandler" title="A possible way to get notified of Events of a particular type (such as click) for a given object is to specify an event handler using:"><code>EventHandler</code></a> containing the action to perform when an <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/addtrack" title="/en-US/docs/Web/Events/addtrack">addtrack</a></code> event is fired when a new <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a> object is added.</dd> <dt><a href="mediastream/onremovetrack" title="The MediaStream.onremovetrack property is an EventHandler which specifies a function to be called when the removetrack event occurs on a MediaStream instance. This happens when a track of any kind is removed from the media stream."><code>MediaStream.onremovetrack</code></a></dt> <dd>An <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventHandler" title="A possible way to get notified of Events of a particular type (such as click) for a given object is to specify an event handler using:"><code>EventHandler</code></a> containing the action to perform when a <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/removetrack" title="/en-US/docs/Web/Events/removetrack">removetrack</a></code> event is fired when a <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a> object is removed from it.</dd> </dl> <h2 id="Methods">Methods</h2> <p><em>This interface inherits methods from its parent, </em><em><a href="eventtarget" title="EventTarget is an interface implemented by objects that can receive events and may have listeners for them."><code>EventTarget</code></a>.</em></p> <dl> <dt><a href="mediastream/addtrack" title="The MediaStream.addTrack() method adds a new track to the stream. The track is specified as a parameter of type MediaStreamTrack."><code>MediaStream.addTrack()</code></a></dt> <dd>Stores a copy of the <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a> given as argument. If the track has already been added to the <code>MediaStream</code> object, nothing happens.</dd> </dl> <dl> <dt><a href="mediastream/clone" title="The clone() method of the MediaStream interface creates a duplicate of the MediaStream. This new MediaStream object has a new unique id and contains clones of every MediaStreamTrack contained by the MediaStream on which clone() was called."><code>MediaStream.clone()</code></a></dt> <dd>Returns a clone of the <code>MediaStream</code> object. The clone will, however, have a unique value for <a href="mediastream/id" title="The MediaStream.id() read-only property is a DOMString containing 36 characters denoting a unique identifier (GUID) for the object."><code>id</code></a>.</dd> </dl> <dl> <dt><span style="line-height: 1.572;"><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream/getAudioTracks" title="The documentation about this has not yet been written; please consider contributing!"><code>MediaStream.getAudioTracks()</code></a></span></dt> <dd>
<span style="line-height: 1.572;">Returns a list of the <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a> objects stored in the </span><code style="font-size: 14px;">MediaStream</code><span style="line-height: 1.572;"> object that have their </span><code style="font-size: 14px;">kind</code><span style="line-height: 1.572;"> attribute set to </span><code style="font-size: 14px;">"audio"</code><span style="line-height: 1.572;">. The order is not defined, and may not only vary from one browser to another, but also from one call to another.</span>
</dd> </dl> <dl> <dt><a href="mediastream/gettrackbyid" title="The MediaStream.getTrackById() method returns a MediaStreamTrack object representing the track with the specified ID string. If there is no track with the specified ID, this method returns null."><code>MediaStream.getTrackById()</code></a></dt> <dd>Returns the track whose ID corresponds to the one given in parameters, <code style="font-size: 14px;">trackid</code>. If no parameter is given, or if no track with that ID does exist, it returns <code style="font-size: 14px;">null</code>. If several tracks have the same ID, it returns the first one.</dd> <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream/getTracks" title="The documentation about this has not yet been written; please consider contributing!"><code>MediaStream.getTracks()</code></a></dt> <dd>Returns a list of all <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a> objects stored in the <code>MediaStream</code> object, regardless of the value of the <code>kind</code> attribute. The order is not defined, and may not only vary from one browser to another, but also from one call to another.</dd> </dl> <dl> <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream/getVideoTracks" title="The documentation about this has not yet been written; please consider contributing!"><code>MediaStream.getVideoTracks()</code></a></dt> <dd>Returns a list of the <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a> objects stored in the <code>MediaStream</code> object that have their <code>kind</code> attribute set to <code>"video"</code>. The order is not defined, and may not only vary from one browser to another, but also from one call to another.</dd> </dl> <dl> <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream/removeTrack" title="The documentation about this has not yet been written; please consider contributing!"><code>MediaStream.removeTrack()</code></a></dt> <dd>Removes the <a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a> given as argument. If the track is not part of the <code style="font-size: 14px;">MediaStream</code> object, nothing happens.</dd> </dl> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="http://w3c.github.io/mediacapture-main/#mediastream" class="external" lang="en" hreflang="en">Media Capture and Streams<br><small lang="en-US">The definition of 'MediaStream' in that specification.</small></a></td> <td><span class="spec-ED">Editor's Draft</span></td> <td> </td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>
<code>getAudioTracks()</code> and <code>getVideoTracks()</code>
</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/23" title="Released on 2013-08-06.">23.0</a> (23.0)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td><code>id</code></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/41" title="Released on 2015-09-22.">41.0</a> (41.0)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>
<code>label</code> and <code>stop() </code>
</td> <td>
<span style="color: #f00;">No support</span> [1]</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>
<code>ended</code> 
</td> <td>
<span style="color: #f00;">No support</span> [2]</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td><code>onaddtrack</code></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/50" title="Released on 2016-11-08.">50</a> (50)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td><code>active</code></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/52" title="Released on 2017-03-07.">52</a> (52)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td>
<code>getAudioTracks()</code> and <code>getVideoTracks()</code>
</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>23.0 (23.0)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td><code>id</code></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>41.0 (41.0)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td>
<code>label</code> and <code>stop()</code> 
</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<span style="color: #f00;">No support</span> [1]</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<span style="color: #f00;">No support</span> [1]</td> </tr> <tr> <td>
<code>ended</code> 
</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<span style="color: #f00;">No support</span> [2]</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> </td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<span style="color: #f00;">No support</span> [2]</td> </tr> <tr> <td><code>onaddtrack</code></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>50.0 (50)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td><code>active</code></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>52.0 (52)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <p>[1] Deprecated in Chrome 45, removed in Chrome 54.</p> <p>[2] Deprecated in Chrome 52.</p> <h2 id="See_also">See also</h2> <ul> <li>Using the MediaStream API</li> <li><a href="webrtc_api">WebRTC API</a></li> <li><a href="web_audio_api">Web Audio API</a></li> <li><a href="mediastreamtrack" title="The MediaStreamTrack interface represents a single media track within a stream; typically, these are audio or video tracks, but other track types may exist as well."><code>MediaStreamTrack</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MediaStream</a>
  </p>
</div>
