<h1>OffscreenCanvas.getContext</h1><div> <div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div>
</div> <p>The <strong><code>OffscreenCanvas.getContext()</code></strong> method returns a drawing context for an offscreen canvas, or <a title="The value null represents the intentional absence of any object value. It is one of JavaScript's primitive values." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><code>null</code></a> if the context identifier is not supported.</p> <div class="note"> <p><strong>Note</strong>: This API is currently implemented for <a href="../webglrenderingcontext">WebGL1</a> and <a href="../webgl2renderingcontext">WebGL2</a> contexts only. See <a title="Support canvas 2D API from workers (with transferables for bg image rendering/processing, etc.)" href="https://bugzilla.mozilla.org/show_bug.cgi?id=801176">bug 801176</a> for <a href="../canvas_api">Canvas 2D API</a> support from workers.</p> </div> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><var><em>offscreen</em>.getContext(<em>contextType, contextAttributes</em>);</var>
</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt>contextType</dt> <dd>Is a <a title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String." href="../domstring"><code>DOMString</code></a> containing the context identifier defining the drawing context associated to the canvas. Possible values are: <ul> <li>
<code>"2d</code>", leading to the creation of a <a title='To get an object of this interface, call getContext() on a &lt;canvas&gt; element, supplying "2d" as the argument:' href="../canvasrenderingcontext2d"><code>CanvasRenderingContext2D</code></a> object representing a two-dimensional rendering context.</li> <li>
<code>"webgl"</code> which will create a <a title="The WebGLRenderingContext interface provides the OpenGL ES 2.0 rendering context for the drawing surface of an HTML &lt;canvas&gt; element." href="../webglrenderingcontext"><code>WebGLRenderingContext</code></a> object representing a three-dimensional rendering context. This context is only available on browsers that implement <a href="https://developer.mozilla.org/en-US/docs/Web/WebGL">WebGL</a> version 1 (OpenGL ES 2.0).</li> <li>"<code>webgl2</code>" which will create a <a title="The WebGL2RenderingContext interface provides the OpenGL ES 3.0 rendering context for the drawing surface of an HTML &lt;canvas&gt; element." href="../webgl2renderingcontext"><code>WebGL2RenderingContext</code></a> object representing a three-dimensional rendering context. This context is only available on browsers that implement <a href="https://developer.mozilla.org/en-US/docs/Web/WebGL">WebGL</a> version 2 (OpenGL ES 3.0). 
</li> <li> <p><code>"bitmaprenderer"</code> which will create a <a title="The ImageBitmapRenderingContext interface is a canvas rendering context which only provides the functionality to replace the canvas's contents with the given ImageBitmap. Its context id (the first argument to HTMLCanvasElement.getContext() or OffscreenCanvas.getContext()  is &quot;bitmaprenderer&quot;." href="../imagebitmaprenderingcontext"><code>ImageBitmapRenderingContext</code></a> which only provides functionality to replace the content of the canvas with a given <a title="The ImageBitmap interface represents a bitmap image which can be drawn to a &lt;canvas&gt; without undue latency. It can be created from a variety of source objects using the createImageBitmap() factory method. ImageBitmap provides an asynchronous and resource efficient pathway to prepare textures for rendering in WebGL." href="../imagebitmap"><code>ImageBitmap</code></a>.</p> </li> </ul> <p>Note: The identifiers "<code>experimental-webgl</code>" or "<code>experimental-webgl2</code>" are also used in implementations of WebGL. These implementation have not reached test suite conformance or the graphic drivers situation on the platform is not yet stable. The <a href="https://www.khronos.org/">Khronos Group</a> certifies WebGL implementations under certain <a href="https://www.khronos.org/registry/webgl/sdk/tests/CONFORMANCE_RULES.txt">conformance rules</a>.</p> </dd> <dt><code>contextAttributes</code></dt> <dd> <p>You can use several context attributes when creating your rendering context, for example:</p> <pre data-language="js">offscreen.getContext("webgl", 
                 { antialias: false,
                   depth: false });</pre> 2d context attributes: <ul> <li>
<strong><code>alpha</code></strong>: Boolean that indicates if the canvas contains an alpha channel. If set to <code>false</code>, the browser now knows that the backdrop is always opaque, which can speed up drawing of transparent content and images then.</li> <li>
 (Gecko only) <strong><code>willReadFrequently</code></strong>: Boolean that indicates whether or not a lot of read-back operations are planned. This will force the use of a software (instead of hardware accelerated) 2D canvas and can save memory when calling <a title="The CanvasRenderingContext2D.getImageData() method of the Canvas 2D API returns an ImageData object representing the underlying pixel data for the area of the canvas denoted by the rectangle which starts at (sx, sy) and has an sw width and sh height." href="../canvasrenderingcontext2d/getimagedata"><code>getImageData()</code></a> frequently. This option is only available, if the flag <code>gfx.canvas.willReadFrequently.enable</code> is set to <code>true</code> (which, by default, is only the case for B2G/Firefox OS).</li> <li>
 (Blink only) <strong><code>storage</code></strong>: String that indicates which storage is used ("persistent" by default).</li> </ul> WebGL context attributes: <ul> <li>
<strong><code>alpha</code></strong>: Boolean that indicates if the canvas contains an alpha buffer.</li> <li>
<strong><code>depth</code></strong>: Boolean that indicates that the drawing buffer has a depth buffer of at least 16 bits.</li> <li>
<strong><code>stencil</code></strong>: Boolean that indicates that the drawing buffer has a stencil buffer of at least 8 bits.</li> <li>
<strong><code>antialias</code></strong>: Boolean that indicates whether or not to perform anti-aliasing.</li> <li>
<strong><code>premultipliedAlpha</code></strong>: Boolean that indicates that the page compositor will assume the drawing buffer contains colors with pre-multiplied alpha.</li> <li>
<strong><code>preserveDrawingBuffer</code></strong>: If the value is true the buffers will not be cleared and will preserve their values until cleared or overwritten by the author.</li> <li> <p><code><strong>failIfMajorPerformanceCaveat</strong></code>: Boolean that indicates if a context will be created if the system performance is low.</p> </li> </ul> </dd> </dl> <h3 id="Return_value">Return value</h3> <p>A <a title="RenderingContext is a helper type representing any of the following rendering contexts CanvasRenderingContext2D, WebGLRenderingContext or WebGL2RenderingContext (which inherits from WebGLRenderingContext)." href="../renderingcontext"><code>RenderingContext</code></a> which is either a</p> <ul> <li>
<a title='To get an object of this interface, call getContext() on a &lt;canvas&gt; element, supplying "2d" as the argument:' href="../canvasrenderingcontext2d"><code>CanvasRenderingContext2D</code></a> for <code>"2d"</code>,</li> <li>
<a title="The WebGLRenderingContext interface provides the OpenGL ES 2.0 rendering context for the drawing surface of an HTML &lt;canvas&gt; element." href="../webglrenderingcontext"><code>WebGLRenderingContext</code></a> for <code>"webgl"</code> and <code>"experimental-webgl"</code>,</li> <li>
<a title="The WebGL2RenderingContext interface provides the OpenGL ES 3.0 rendering context for the drawing surface of an HTML &lt;canvas&gt; element." href="../webgl2renderingcontext"><code>WebGL2RenderingContext</code></a> for <code>"webgl2"</code> and <code>"experimental-webgl2"</code> , or</li> <li>
<a title="The ImageBitmapRenderingContext interface is a canvas rendering context which only provides the functionality to replace the canvas's contents with the given ImageBitmap. Its context id (the first argument to HTMLCanvasElement.getContext() or OffscreenCanvas.getContext()  is &quot;bitmaprenderer&quot;." href="../imagebitmaprenderingcontext"><code>ImageBitmapRenderingContext</code></a> for <code>"bitmaprenderer"</code>.</li> </ul> <p>If the <em>contextType</em> doesn't match a possible drawing context, <code>null</code> is returned.</p> <h2 id="Examples">Examples</h2> <pre data-language="js">var offscreen = new OffscreenCanvas(256, 256);
var gl = offscreen.getContext("webgl");

gl; // WebGLRenderingContext
gl.canvas; // OffscreenCanvas</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://html.spec.whatwg.org/multipage/scripting.html#the-offscreencanvas-interface" class="external">WHATWG HTML Living Standard<br><small lang="en-US">The definition of 'OffscreenCanvas.getContext()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td> </td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td>
<a title="Released on 2016-01-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/44">44</a> (44) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>webgl context</td> <td><span style="color: #f00;">No support</span></td> <td>
<a title="Released on 2016-01-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/44">44</a> (44) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>webgl2 context</td> <td><span style="color: #f00;">No support</span></td> <td>
<a title="Released on 2016-01-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/44">44</a> (44) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>2d context</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>bitmaprenderer context</td> <td><span style="color: #f00;">No support</span></td> <td>
<a title="Released on 2016-04-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/46">46</a> (46) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td>44.0 (44) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>webgl context</td> <td><span style="color: #f00;">No support</span></td> <td>
<a title="Released on 2016-01-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/44">44</a> (44) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>webgl2 context</td> <td><span style="color: #f00;">No support</span></td> <td>
<a title="Released on 2016-01-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/44">44</a> (44) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>2d context</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>bitmaprenderer context</td> <td><span style="color: #f00;">No support</span></td> <td>
<a title="Released on 2016-04-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/46">46</a> (46) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table> </div> <p>[1] This feature is behind a feature preference setting. In about:config, set <code>gfx.offscreencanvas.enabled</code> to <code>true</code>.</p> <h2 id="See_also">See also</h2> <ul> <li>The interface defining this method, <a title="The OffscreenCanvas interface provides a canvas that can be rendered off screen. It is available in both the window and worker contexts." href="../offscreencanvas"><code>OffscreenCanvas</code></a>
</li> <li><a title="The HTMLCanvasElement.getContext() method returns a drawing context on the canvas, or null if the context identifier is not supported." href="../htmlcanvaselement/getcontext"><code>HTMLCanvasElement.getContext()</code></a></li> <li>Available rendering contexts: <a title='To get an object of this interface, call getContext() on a &lt;canvas&gt; element, supplying "2d" as the argument:' href="../canvasrenderingcontext2d"><code>CanvasRenderingContext2D</code></a>, <a title="The WebGLRenderingContext interface provides the OpenGL ES 2.0 rendering context for the drawing surface of an HTML &lt;canvas&gt; element." href="../webglrenderingcontext"><code>WebGLRenderingContext</code></a>, <a title="The WebGL2RenderingContext interface provides the OpenGL ES 3.0 rendering context for the drawing surface of an HTML &lt;canvas&gt; element." href="../webgl2renderingcontext"><code>WebGL2RenderingContext</code></a>, and <a title="The ImageBitmapRenderingContext interface is a canvas rendering context which only provides the functionality to replace the canvas's contents with the given ImageBitmap. Its context id (the first argument to HTMLCanvasElement.getContext() or OffscreenCanvas.getContext()  is &quot;bitmaprenderer&quot;." href="../imagebitmaprenderingcontext"><code>ImageBitmapRenderingContext</code></a>.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas/getContext$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas/getContext" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas/getContext</a>
  </p>
</div>
