<h1>Node.cloneNode</h1> <p>The <strong><code>Node.cloneNode()</code></strong> method returns a duplicate of the node on which this method was called.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">var <em><var>dupNode</var></em> = <em><var>node</var></em>.cloneNode(<em><var>deep</var></em>);
</pre> <dl> <dt><em>node</em></dt> <dd>The node to be cloned.</dd> <dt><em>dupNode</em></dt> <dd>The new node that will be a clone of <code>node</code>
</dd> <dt><em>deep <span class="inlineIndicator optional optionalInline">Optional</span></em></dt> <dd>
<code>true</code> if the children of the node should also be cloned, or <code>false</code> to clone only the specified node.</dd> </dl> <div class="note"> <p><strong>Note:</strong> In the DOM4 specification (as implemented in Gecko 13.0 (Firefox 13 / Thunderbird 13 / SeaMonkey 2.10)), <code>deep</code> is an optional argument. If omitted, the method acts as if the value of <code>deep</code> was <strong><code>true</code></strong>, defaulting to using deep cloning as the default behavior. To create a shallow clone, <code>deep</code> must be set to <code>false</code>.</p> <p>This behavior has been changed in the latest spec, and if omitted, the method will act as if the value of <code>deep</code> was <strong><code>false</code></strong>. Though It's still optional, you should always provide the <code>deep</code> argument both for backward and forward compatibility. With Gecko 28.0 (Firefox 28 / Thunderbird 28 / SeaMonkey 2.25 / Firefox OS 1.3)), the console warned developers not to omit the argument. Starting with Gecko 29.0 (Firefox 29 / Thunderbird 29 / SeaMonkey 2.26)), a shallow clone is defaulted instead of a deep clone.</p> </div> <h2 id="Example">Example</h2> <pre data-language="js">var p = document.getElementById("para1");
var p_prime = p.cloneNode(true);
</pre> <h2 id="Notes">Notes</h2> <p id="not-event-listeners">Cloning a node copies all of its attributes and their values, including intrinsic (in–line) listeners. It does not copy event listeners added using <a href="https://developer.mozilla.org/en-US/docs/Web/API/element.addEventListener"><code>addEventListener()</code></a> or those assigned to element properties. (e.g. <code>node.onclick = fn</code>) Moreover, for a &lt;canvas&gt; element, the painted image is not copied.</p> <p>The duplicate node returned by <code>cloneNode()</code> is not part of the document until it is added to another node that is part of the document using <a title="The Node.appendChild() method adds a node to the end of the list of children of a specified parent node. If the given child is a reference to an existing node in the document, appendChild() moves it from its current position to the new position (there is no requirement to remove the node from its parent node before appending it to some other node)." href="appendchild"><code>Node.appendChild()</code></a> or a similar method. It also has no parent until it is appended to another node.</p> <p>If <code>deep</code> is set to <code>false</code>, child nodes are not cloned. Any text that the node contains is not cloned either, as it is contained in one or more child <a title="The Text interface represents the textual content of Element or Attr.  If an element has no markup within its content, it has a single child implementing Text that contains the element's text.  However, if the element contains markup, it is parsed into information items and Text nodes that form its children." href="../text"><code>Text</code></a> nodes.</p> <p>If <code>deep</code> evaluates to <code>true</code>, the whole subtree (including text that may be in child <a title="The Text interface represents the textual content of Element or Attr.  If an element has no markup within its content, it has a single child implementing Text that contains the element's text.  However, if the element contains markup, it is parsed into information items and Text nodes that form its children." href="../text"><code>Text</code></a> nodes) is copied too. For empty nodes (e.g. <a title="The HTML &lt;img&gt; element represents an image in the document." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img"><code>&lt;img&gt;</code></a> and <a title="The HTML element &lt;input&gt; is used to create interactive controls for web-based forms in order to accept data from the user. How an &lt;input&gt; works varies considerably depending on the value of its type attribute." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input"><code>&lt;input&gt;</code></a> elements) it doesn't matter whether <code>deep</code> is set to <code>true</code> or <code>false</code>.</p> <div class="warning">
<strong>Warning:</strong> <code>cloneNode()</code> may lead to duplicate element IDs in a document.</div> <p>If the original node has an ID and the clone is to be placed in the same document, the ID of the clone should be modified to be unique. Name attributes may need to be modified also, depending on whether duplicate names are expected.</p> <p>To clone a node for appending to a different document, use <a title="Creates a copy of a node from an external document that can be inserted into the current document." href="../document/importnode"><code>Document.importNode()</code></a> instead.</p> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a lang="en" hreflang="en" href="https://dom.spec.whatwg.org/#dom-node-clonenode" class="external">DOM<br><small lang="en-US">The definition of 'Node.cloneNode()' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td> </td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-3A0ED0A4" class="external">Document Object Model (DOM) Level 3 Core Specification<br><small lang="en-US">The definition of 'Node.cloneNode()' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td> </td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-3A0ED0A4" class="external">Document Object Model (DOM) Level 2 Core Specification<br><small lang="en-US">The definition of 'Node.cloneNode()' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Initial definition</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td>
<code>deep</code> as an optional parameter</td> <td> <p><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span><sup>[1]</sup></p> </td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>
<a title="Released on 2012-06-05." href="https://developer.mozilla.org/en-US/Firefox/Releases/13">13.0</a> (13.0)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td> <p><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span><sup>[1]</sup></p> </td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Chrome for Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td>
<code>deep</code> as an optional parameter</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td>13.0 (13.0)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <p>[1] Default value for the <code>deep</code> parameter is <code>false</code>.</p><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode</a>
  </p>
</div>
