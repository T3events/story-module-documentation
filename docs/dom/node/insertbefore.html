<h1>Node.insertBefore</h1> <p>The <code><strong>Node.insertBefore()</strong></code> method inserts the specified node before the reference node as a child of the current node.</p> <h2 id="Syntax" name="Syntax">Syntax</h2> <pre class="syntaxbox">var <em>insertedNode</em> = <em>parentNode</em>.insertBefore(<em>newNode</em>, <em>referenceNode</em>);
</pre> <p>If <code><var>referenceNode</var></code> is <code>null</code>, the <code><var>newNode</var></code> is inserted at the end of the list of child nodes.</p> <p>Note that <em><code>referenceNode</code></em> is <strong>not</strong> an optional parameter -- you must explicitly pass a <code>Node</code> or <code>null</code>. Failing to provide it or passing invalid values may <a href="https://code.google.com/p/chromium/issues/detail?id=419780">behave</a> <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=119489">differently</a> in different browser versions.</p> <p>The returned value is the inserted node.</p> <h2 id="Example_2">Example</h2> <pre data-language="html">&lt;div id="parentElement"&gt;
   &lt;span id="childElement"&gt;foo bar&lt;/span&gt;
&lt;/div&gt;

&lt;script&gt;
// Create the new node to insert
var newNode = document.createElement("span");

// Get a reference to the parent node
var parentDiv = document.getElementById("childElement").parentNode;

// Begin test case [ 1 ] : Exist a childElement --&gt; All working correctly
var sp2 = document.getElementById("childElement");
parentDiv.insertBefore(newNode, sp2);
//End test case [ 1 ]

// Begin test case [ 2 ] : childElement is of Type undefined 
var sp2 = undefined; //Not exist a node of id "childElement"
parentDiv.insertBefore(newNode, sp2); // implicit dynamic cast to type Node
// End test case [ 2 ]

// Begin test case [ 3 ] : childElement is of Type "undefined" ( string )
var sp2 = "undefined"; // Not exist a node of id "childElement"
parentDiv.insertBefore(newNode, sp2); // Generate "Type Error: Invalid Argument" 
// End test case [ 3 ]
&lt;/script&gt;</pre> <ul> <li>
<code>insertedNode</code> The node being inserted, that is <code>newNode</code>
</li> <li>
<code>parentNode</code> The parent of the newly inserted node.</li> <li>
<code>newNode</code> The node to be inserted.</li> <li>
<code>referenceNode</code> The node before which <code>newNode</code> is inserted.</li> </ul> <h2 id="Example" name="Example">Example</h2> <pre data-language="html">&lt;div id="parentElement"&gt;
  &lt;span id="childElement"&gt;foo bar&lt;/span&gt;
&lt;/div&gt;

&lt;script&gt;
// Create a new, plain &lt;span&gt; element
var sp1 = document.createElement("span");

// Get a reference to the element, before we want to insert the element
var sp2 = document.getElementById("childElement");
// Get a reference to the parent element
var parentDiv = sp2.parentNode;

// Insert the new element into the DOM before sp2
parentDiv.insertBefore(sp1, sp2);
&lt;/script&gt;
</pre> <p>There is no <code>insertAfter</code> method. It can be emulated by combining the <code>insertBefore</code> method with <code><a title="DOM/Node.nextSibling" href="nextsibling">nextSibling</a></code>.</p> <p>In the previous example, <code>sp1</code> could be inserted after <code>sp2</code> using:</p> <pre>parentDiv.insertBefore(sp1, sp2.nextSibling);</pre> <p>If <code>sp2</code> does not have a next sibling, then it must be the last child — <code>sp2.nextSibling</code> returns <code>null</code>, and <code>sp1</code> is inserted at the end of the child node list (immediately after <code>sp2</code>).</p> <h2 id="Example2" name="Example2">Example 2</h2> <p>Insert an element before the first child element, using the <a title="Node.firstChild" href="firstchild">firstChild</a> property.</p> <pre data-language="js">// Get a reference to the element in which we want to insert a new node
var parentElement = document.getElementById('parentElement');
// Get a reference to the first child
var theFirstChild = parentElement.firstChild;

// Create a new element
var newElement = document.createElement("div");

// Insert the new element before the first child
parentElement.insertBefore(newElement, theFirstChild);
</pre> <p>When the element does not have a first child, then <code>firstChild</code> is <code>null</code>. The element is still appended to the parent, after the last child. Since the parent element did not have a first child, it did not have a last child either. Consequently, the new element is the only element, after insertion.</p> <h2 id="Browser_Compatibility" name="Browser_Compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>1.0</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <h2 id="Specifications" name="Specifications">Specifications</h2> <table class="spectable standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://dom.spec.whatwg.org/#dom-node-insertbefore" class="external">DOM<br><small lang="en-US">The definition of 'Node.insertBefore' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td>Fixes errors in the insertion algorithm</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/dom/#dom-node-insertbefore" class="external">DOM4<br><small lang="en-US">The definition of 'Node.insertBefore' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Describes the algorithm in more detail</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-952280727" class="external">Document Object Model (DOM) Level 3 Core Specification<br><small lang="en-US">The definition of 'Node.insertBefore' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>No notable changes</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-952280727" class="external">Document Object Model (DOM) Level 2 Core Specification<br><small lang="en-US">The definition of 'Node.insertBefore' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>No notable changes</td> </tr> <tr> <td><a lang="en" hreflang="en" href="https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#method-insertBefore" class="external">Document Object Model (DOM) Level 1 Specification<br><small lang="en-US">The definition of 'Node.insertBefore' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Introduced</td> </tr> </tbody> </table> <h2 id="See_also" name="See_also">See also</h2> <ul> <li><a title="The Node.removeChild() method removes a child node from the DOM. Returns removed node." href="removechild"><code>Node.removeChild()</code></a></li> <li><a title="The Node.replaceChild() method replaces one child node of the specified node with another." href="replacechild"><code>Node.replaceChild()</code></a></li> <li><a title="The Node.appendChild() method adds a node to the end of the list of children of a specified parent node. If the given child is a reference to an existing node in the document, appendChild() moves it from its current position to the new position (there is no requirement to remove the node from its parent node before appending it to some other node)." href="appendchild"><code>Node.appendChild()</code></a></li> <li><a title="The Node.hasChildNodes() method returns a Boolean value indicating whether the current Node has child nodes or not." href="haschildnodes"><code>Node.hasChildNodes()</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore</a>
  </p>
</div>
