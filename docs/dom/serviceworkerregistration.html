<h1>ServiceWorkerRegistration</h1><div> <div><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div></div> </div> <p>The <code>ServiceWorkerRegistration</code> interface of the <a href="service_worker_api">ServiceWorker API</a> represents the service worker registration. You register a service worker to control one or more pages that share the same origin.</p> <p>The lifetime of a service worker registration is beyond that of the <code>ServiceWorkerRegistration</code> objects that represent them within the lifetime of their corresponding service worker clients. The browser maintains a persistent list of active <code>ServiceWorkerRegistration</code> objects.</p> <div class="note"> <p><strong>Note</strong>: This feature is available in <a href="web_workers_api">Web Workers</a>.</p> </div> <h2 id="Properties">Properties</h2> <p><em>Also implements properties from its parent interface, </em><a title="EventTarget is an interface implemented by objects that can receive events and may have listeners for them." href="eventtarget"><code>EventTarget</code></a>.</p> <dl> <dt>
<a title="The scope read-only property of the ServiceWorkerRegistration interface returns a unique identifier for a service worker registration. The service worker must be on the same origin as the document that registers the ServiceWorker." href="serviceworkerregistration/scope"><code>ServiceWorkerRegistration.scope</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns a unique identifier for a service worker registration. This must be on the same origin as the document that registers the <a title="The ServiceWorker interface of the ServiceWorker API provides a reference to a service worker. Multiple browsing contexts (e.g. pages, workers, etc.) can be associated with the same service worker, each through a unique ServiceWorker object." href="serviceworker"><code>ServiceWorker</code></a>.</dd> <dt>
<a title="The installing property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installing. This property is initially set to null." href="serviceworkerregistration/installing"><code>ServiceWorkerRegistration.installing</code></a> <strong style="font-weight: bold;"><span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span></strong>
</dt> <dd>Returns a service worker whose state is <code>installing</code>. This is initially set to <code>null</code>.</dd> <dt>
<a title="The waiting property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installed. This property is initially set to null." href="serviceworkerregistration/waiting"><code>ServiceWorkerRegistration.waiting</code></a> <strong style="font-weight: bold;"><span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span></strong>
</dt> <dd>Returns a service worker whose state is <code>installed</code>. This is initially set to <code>null</code>.</dd> <dt>
<a title="The active property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is activating or activated. This property is initially set to null." href="serviceworkerregistration/active"><code>ServiceWorkerRegistration.active</code></a> <strong style="font-weight: bold;"><span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span></strong>
</dt> <dd>Returns a service worker whose state is either <code>activating</code> or <code>activated</code>. This is initially set to <code>null</code>. An active worker will control a <a title="The documentation about this has not yet been written; please consider contributing!" href="https://developer.mozilla.org/en-US/docs/Web/API/Client"><code>ServiceWorkerClient</code></a> if the client's URL falls within the scope of the registration (the <code>scope</code> option set when <a title="The register() method of the ServiceWorkerContainer interface creates or updates a ServiceWorkerRegistration for the given scriptURL." href="serviceworkercontainer/register"><code>ServiceWorkerContainer.register</code></a> is first called.)</dd> <dt>
<a title="The periodicSync read-only property of the ServiceWorkerRegistration interface returns a reference to the PeriodicSyncManager interface, which manages periodic background synchronization processes." href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/periodicSync"><code>serviceWorkerRegistration.periodicSync</code></a>  <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns a reference to the <a title="Technical review completed. Editorial review completed." href="https://developer.mozilla.org/en-US/docs/Web/API/PeriodicSyncManager"><code>PeriodicSyncManager</code></a> interface, which manages periodic background synchronization processes.</dd> <dt>
<a title="The pushManager property of the ServiceWorkerRegistration interface returns a reference to the PushManager interface for managing push subscriptions; this includes support for subscribing, getting an active subscription, and accessing push permission status." href="serviceworkerregistration/pushmanager"><code>ServiceWorkerRegistration.pushManager</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns a reference to the <a title="The PushManager interface of the Push API provides a way to receive notifications from third-party servers as well as request URLs for push notifications." href="pushmanager"><code>PushManager</code></a> interface for managing push subscriptions including subscribing, getting an active subscription, and accessing push permission status.</dd> <dt>
<a title="The sync property of the ServiceWorkerRegistration interface returns a reference to the SyncManager interface, which manages background synchronization processes." href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/sync"><code>ServiceWorkerRegistration.sync</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span> </dt> <dd>Returns a reference to the <a title="Editorial review completed." href="https://developer.mozilla.org/en-US/docs/Web/API/SyncManager"><code>SyncManager</code></a> interface, which manages background synchronization processes.</dd> </dl> <h3 id="Event_handlers">Event handlers</h3> <dl> <dt>
<a title="The onupdatefound property of the ServiceWorkerRegistration interface is an EventListener property called whenever an event of type statechange is fired; it is fired any time the ServiceWorkerRegistration.installing property acquires a new service worker." href="serviceworkerregistration/onupdatefound"><code>ServiceWorkerRegistration.onupdatefound</code></a> <span title="This value may not be changed." class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>An <a title="This method is called whenever an event occurs of the type for which the EventListener interface was registered." href="eventlistener"><code>EventListener</code></a> property called whenever an event of type <code>updatefound</code> is fired; it is fired any time the <a title="The installing property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installing. This property is initially set to null." href="serviceworkerregistration/installing"><code>ServiceWorkerRegistration.installing</code></a> property acquires a new service worker.</dd> </dl> <h2 id="Methods">Methods</h2> <p><em>Also implements methods from its parent interface, </em><a title="EventTarget is an interface implemented by objects that can receive events and may have listeners for them." href="eventtarget"><code>EventTarget</code></a>.</p> <dl> <dt><a title="The getNotifications() method of the ServiceWorkerRegistration interface returns a list of the notifications that have been fired from the current service worker." href="serviceworkerregistration/getnotifications"><code>ServiceWorkerRegistration.getNotifications()</code></a></dt> <dd>Returns a <a title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to an array of <a title="The Notification interface of the Notifications API is used to configure and display desktop notifications to the user." href="notification"><code>Notification</code></a> objects.</dd> <dt><a title="The showNotification() method of the ServiceWorkerRegistration interface creates a notification on an active service worker." href="serviceworkerregistration/shownotification"><code>ServiceWorkerRegistration.showNotification()</code></a></dt> <dd>Displays the notification with the requested title.</dd> <dt><a title="The update method of the ServiceWorkerRegistration interface attempts to update the service worker. It fetches the worker's script URL, and if the new worker is not byte-by-byte identical to the current worker, it installs the new worker. The fetch of the worker bypasses any browser caches if the previous fetch occurred over 24 hours ago." href="serviceworkerregistration/update"><code>ServiceWorkerRegistration.update()</code></a></dt> <dd>Checks the server for an updated version of the service worker without consulting caches.</dd> <dt><a title="The unregister method of the ServiceWorkerRegistration interface unregisters the service worker registration and returns a Promise. The promise will resolve to false if no registration was found, otherwise it resolves to true irrespective of whether unregistration happened or not (it may not unregister if someone else just called ServiceWorkerContainer.register with the same scope.) The service worker will finish any ongoing operations before it is unregistered." href="serviceworkerregistration/unregister"><code>ServiceWorkerRegistration.unregister()</code></a></dt> <dd>Unregisters the service worker registration and returns a promise (see <a title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a>). The service worker will finish any ongoing operations before it is unregistered.</dd> </dl> <h2 id="Examples">Examples</h2> <p>This code snippet is from the <a href="https://github.com/GoogleChrome/samples/blob/gh-pages/service-worker/registration-events/index.html">service worker registration-events sample</a> (<a class="external external-icon" href="https://googlechrome.github.io/samples/service-worker/registration-events/">live demo</a>). The code checks to see if the browser supports service workers and if there's currently a service worker handling requests on this page for the current navigation.</p> <p>Any new service workers are registered; if there's an existing service worker, the code overrides its default scope so that the registration applies to the current directory and everything underneath it. The example also reports any registration failures.</p> <pre data-language="js">if ('serviceWorker' in navigator) {
  document.querySelector('#availability').innerText = 'are';
  document.querySelector('#controlled').innerText = navigator.serviceWorker.controller ? 'is' : 'is not';
  navigator.serviceWorker.register('service-worker.js', {scope: './'}).then(function(registration) {
    document.querySelector('#register').textContent = 'succeeded';
  }).catch(function(error) {
    document.querySelector('#register').textContent = 'failed: ' + error;
  });
} else {
  document.querySelector('#availability').innerText = 'are not';
}</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a hreflang="en" class="external" lang="en" href="https://www.w3.org/TR/service-workers/#service-worker-registration-obj">Service Workers<br><small lang="en-US">The definition of 'ServiceWorkerRegistration' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial definition.</td> </tr> <tr> <td><a hreflang="en" class="external" lang="en" href="https://w3c.github.io/push-api/#widl-ServiceWorkerRegistration-pushManager">Push API<br><small lang="en-US">The definition of 'PushManager' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Adds the <a title="The PushManager interface of the Push API provides a way to receive notifications from third-party servers as well as request URLs for push notifications." href="pushmanager"><code>pushManager</code></a> property.</td> </tr> <tr> <td><a title="The 'Notifications API' specification" hreflang="en" class="external" lang="en" href="https://notifications.spec.whatwg.org/">Notifications API</a></td> <td><span class="spec-Living">Living Standard</span></td> <td>Adds the <a title="The showNotification() method of the ServiceWorkerRegistration interface creates a notification on an active service worker." href="serviceworkerregistration/shownotification"><code>showNotification()</code></a> method and the <a title="The getNotifications() method of the ServiceWorkerRegistration interface returns a list of the notifications that have been fired from the current service worker." href="serviceworkerregistration/getnotifications"><code>getNotifications()</code></a> method.</td> </tr> <tr> <td><a title="The 'Web Background Synchronization' specification" hreflang="en" class="external" lang="en" href="https://wicg.github.io/BackgroundSync/spec/">Web Background Synchronization</a></td> <td><span class="spec-Living">Living Standard</span></td> <td>Adds the <a title="The sync property of the ServiceWorkerRegistration interface returns a reference to the SyncManager interface, which manages background synchronization processes." href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/sync"><code>sync</code></a> property.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>40.0</td> <td>
<a title="Released on 2016-01-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/44">44.0</a> (44.0)<sup>[1]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>Available in web workers</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2016-01-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/44">44.0</a> (44.0)<sup>[1]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>
<code>getNotifications()</code>, <code>showNotification()</code>
</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2016-04-26." href="https://developer.mozilla.org/en-US/Firefox/Releases/46">46.0</a> (46.0)<sup>[1]</sup>
</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> </tr> <tr> <td>
<code>sync</code> property</td> <td>49.0</td> <td> </td> <td> </td> <td> </td> <td> </td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>44.0 (44.0)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td>40.0</td> </tr> <tr> <td>Available in web workers</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>44.0 (44.0)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td>
<code>getNotifications()</code>, <code>showNotification()</code>
</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>46.0 (46.0)</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td>
<code>sync</code> property</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td> </td> <td> </td> <td> </td> <td> </td> <td> </td> <td>49.0</td> </tr> </tbody> </table> </div> <p>[1] Service workers (and <a href="push_api">Push</a>) have been disabled in the <a href="https://www.mozilla.org/en-US/firefox/organizations/">Firefox 45 Extended Support Release</a> (ESR.)</p> <h2 id="See_also">See also</h2> <ul> <li><a href="service_worker_api/using_service_workers">Using Service Workers</a></li> <li><a href="https://github.com/mdn/sw-test">Service workers basic code example</a></li> <li><a href="https://jakearchibald.github.io/isserviceworkerready/">Is ServiceWorker ready?</a></li> <li><a title="The Promise object is used for asynchronous computations. A Promise represents a value which may be available now, or in the future, or never." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Performance/Using_web_workers">Using web workers</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration</a>
  </p>
</div>
