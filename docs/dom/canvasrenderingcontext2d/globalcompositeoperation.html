<h1>CanvasRenderingContext2D.globalCompositeOperation</h1> <p>The <code><strong>CanvasRenderingContext2D</strong></code><strong><code>.globalCompositeOperation</code></strong> property of the Canvas 2D API sets the type of compositing operation to apply when drawing new shapes, where type is a string identifying which of the compositing or blending mode operations to use.</p> <p>See also the chapter <a href="../canvas_api/tutorial/compositing">Compositing</a> in the <a href="../canvas_api/tutorial">Canvas Tutorial</a>.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><var><em>ctx</em>.globalCompositeOperation = type;</var></pre> <h3 id="Types">Types</h3> <p><iframe class="live-sample-frame sample-code-frame" height="7300" src="https://mdn.mozillademos.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing/Example%24samples/Compositing_example?revision=1175583" frameborder="0" width="750" id="frame_Compositing_example"></iframe></p> <h2 id="Examples">Examples</h2> <h3 name="Using_the_globalAlpha_property" id="Using_the_globalAlpha_property">Using the <code>globalCompositeOperation</code> property</h3> <p>This is just a simple code snippet using the <code>globalCompositeOperation</code> property to draw two rectangles that exclude themselves where they overlap.</p> <h4 id="HTML">HTML</h4> <pre data-language="html">&lt;canvas id="canvas"&gt;&lt;/canvas&gt;
</pre> <h4 id="JavaScript">JavaScript</h4> <pre data-language="js">var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

ctx.globalCompositeOperation = 'xor';

ctx.fillStyle = 'blue';
ctx.fillRect(10, 10, 100, 100);

ctx.fillStyle = 'red';
ctx.fillRect(50, 50, 100, 100);
</pre> <p>Edit the code below and see your changes update live in the canvas:</p>  <p><iframe class="live-sample-frame sample-code-frame" height="380" src="https://mdn.mozillademos.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation%24samples/Playable_code?revision=1175583" frameborder="0" width="700" id="frame_Playable_code"></iframe></p> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-globalcompositeoperation" class="external" lang="en" hreflang="en">WHATWG HTML Living Standard<br><small lang="en-US">The definition of 'CanvasRenderingContext2D.globalCompositeOperation' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td> </td> </tr> <tr> <td><a href="https://drafts.fxtf.org/compositing-1/" class="external" lang="en" hreflang="en" title="The 'Compositing and Blending Level 1' specification">Compositing and Blending Level 1</a></td> <td><span class="spec-CR">Candidate Recommendation</span></td> <td> </td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td>Blend modes</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/20" title="Released on 2013-04-02.">20</a> (20)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> <tr> <td>Blend modes</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>20.0 (20)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <h2 id="WebKitBlink-specific_notes">WebKit/Blink-specific notes</h2> <ul> <li>In WebKit- and Blink-based Browsers, a non-standard and deprecated method <code>ctx.setCompositeOperation()</code> is implemented besides this property.</li> <li>Support for "plus-darker" and "darker" were removed in Chrome 48. Developers looking a replacement should use "darken".</li> </ul> <h2 id="Gecko-specific_notes">Gecko-specific notes</h2> <ul> <li>An early Canvas specification draft specified the value "darker". However, Firefox removed support for "darker" in version 4 (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=571532" title="FIXED: Remove support for ctx.globalCompositeOperation = 'darker'">bug 571532</a>). See also <a href="http://dropshado.ws/post/77229081704/firefox-doesnt-support-canvas-composite-darker">this blog post</a> that suggests to use the <code>difference</code> value to achieve a similar affect to "darker".</li> </ul> <h2 id="See_also">See also</h2> <ul> <li>The interface defining it, <a href="../canvasrenderingcontext2d" title='To get an object of this interface, call getContext() on a &lt;canvas&gt;Â element, supplying "2d" as the argument:'><code>CanvasRenderingContext2D</code></a>
</li> <li><a href="globalalpha" title="The CanvasRenderingContext2D.globalAlpha property of the Canvas 2D API specifies the alpha value that is applied to shapes and images before they are drawn onto the canvas. The value is in the range from 0.0 (fully transparent) to 1.0 (fully opaque)."><code>CanvasRenderingContext2D.globalAlpha</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation</a>
  </p>
</div>
