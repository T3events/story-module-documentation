<h1>IDBDatabase.onclose</h1> <div> <p>The <strong><code>onclose</code></strong> event handler of the <a title="Inherits from: EventTarget" href="../idbdatabase"><code>IDBDatabase</code></a> interface handles the <code><a title="/en-US/docs/Web/Events/close" href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event, which is fired when the database is unexpectedly closed. This can happen, for example, when the application is shut down or access to the disk the database is stored on is lost while the database is open.</p> <p>The <code><a title="/en-US/docs/Web/Events/close" href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event is fired after all transactions have been aborted and the connection has been closed.</p> 
<div class="note">
<strong>Note:</strong> This feature is available in <a href="../web_workers_api">Web Workers</a>.</div>
 </div> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"><em>IDBDatabase</em>.onclose = <em>function</em>;</pre> <h3 id="Value">Value</h3> <p>A function which is called when the <code><a title="/en-US/docs/Web/Events/close" href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code> event is fired.</p> <h2 id="Example">Example</h2> <pre data-language="js">db.onclose = function(event) {
  myAppShowAlert('The database "' + db.name + '" has unexpectedly closed.');
};</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://w3c.github.io/IndexedDB/#dom-idbdatabase-onclose" class="external">Indexed Database API (Second Edition)<br><small lang="en-US">The definition of 'onclose' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td> </td> </tr> </tbody> </table> <h2 id="Browser_compatibility" name="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>31.0 (approx.)</td> <td>
<a title="Released on 2016-11-08." href="https://developer.mozilla.org/en-US/Firefox/Releases/50">50</a> (50)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>50.0 (50)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <h2 id="See_also">See also</h2> <ul> <li><a href="../indexeddb_api/using_indexeddb">Using IndexedDB</a></li> <li><a title="Inherits from: EventTarget" href="../idbdatabase"><code>IDBDatabase</code></a></li> <li><code><a title="/en-US/docs/Web/Events/close" href="https://developer.mozilla.org/en-US/docs/Web/Events/close">close</a></code></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/onclose$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/onclose" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/onclose</a>
  </p>
</div>
