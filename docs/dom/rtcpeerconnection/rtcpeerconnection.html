<h1>RTCPeerConnection.constructor</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p>The <strong><code>RTCPeerConnection()</code></strong> constructor returns a newly-created <a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a>, which represents a connection between the local device and a remote peer.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">pc = new RTCPeerConnection([<em>configuration</em>]);</pre> <h3 class="syntaxbox" id="Parameters">Parameters</h3> <dl> <dt>
<code>configuration</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An <a href="#RTCConfiguration_dictionary"><code>RTCConfiguration</code> dictionary</a> providing options to configure the new connection.</dd> </dl> <h3 id="RTCConfiguration_dictionary">RTCConfiguration dictionary</h3> <dl>
<dt>
<code>bundlePolicy</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>Specifies how to handle negotiation of candidates when the remote peer is not compatible with the <a href="https://webrtcstandards.info/sdp-bundle/">SDP BUNDLE standard</a>. This must be one of the values from the enum <code><a href="#RTCBundlePolicy_enum">RTCBundlePolicy</a></code>. If this value isn't included in the dictionary, <code>"balanced"</code> is assumed.</dd> <dt>
<code>certificates</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An <a title="The JavaScript Array object is a global object that is used in the construction of arrays; which are high-level, list-like objects." href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"><code>Array</code></a> of objects of type <a title="The interface of the the WebRTC API provides an object represents a certificate that an RTCPeerConnection uses to authenticate." href="../rtccertificate"><code>RTCCertificate</code></a> which are used by the connection for authentication. If this property isn't specified, a set of certificates is generated automatically for each <a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> instance. See <a href="#Using_certificates">Using certificates</a> below for additional information. <div class="note">This configuration option cannot be changed after it is first specified; once the certificates have been set, this property is ignored in future calls to <a title="The RTCPeerConnection.setConfiguration() method sets the current configuration of the RTCPeerConnection based on the values included in the specified RTCConfiguration object. This lets you change the ICE servers used by the connection and which transport policies to use." href="setconfiguration"><code>RTCPeerConnection.setConfiguration()</code></a>.</div> </dd> <dt>
<code>iceCandidatePoolSize</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An unsigned 16-bit integer value which specifies the size of the prefetched ICE pool. The default value is 0 (meaning no candidate prefetching will occur). You may find in some cases that connections can be established more quickly by allowing the ICE agent to start fetching ICE candidates before you start trying to connect, so that they're already available for inspection when <a title="The RTCPeerConnection.setLocalDescription() method changes the local description associated with the connection. This description specifies the properties of the local end of the connection, including the media format. The actual connection is affected by this change, so it must be able to support both the old and new descriptions in order for the change to actually take place. The method takes a single parameter—the session description—and it returns a Promise which is fulfilled once the description has been changed, asynchronously." href="setlocaldescription"><code>RTCPeerConnection.setLocalDescription()</code></a> is called.</dd> <dt>
<code>iceServers</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>An array of <a title="The RTCIceServer dictionary defines how to connect to a single ICE server (such as a STUN or TURN server). It includes both the URL and the necessary credentials, if any, to connect to the server." href="../rtciceserver"><code>RTCIceServer</code></a> objects, each describing one server which may be used by the ICE agent; these are typically STUN and/or TURN servers.</dd> <dt>
<code>iceTransportPolicy</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>The current ICE transport policy; this must be one of the values from the <code><a href="#RTCIceTransportPolicy_enum">RTCIceTransportPolicy</a></code> enum. If this isn't specified, <code>"all"</code> is assumed.</dd> <dt>
<code>peerIdentity</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>A <a title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String." href="../domstring"><code>DOMString</code></a> which specifies the target peer identity for the <a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a>. If this value is set (it defaults to <code>null</code>), the <code>RTCPeerConnection</code> will not connect to a remote peer unless it can successfully authenticate with the given name.</dd> <dt>
<code>rtcpMuxPolicy</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>The RTCP mux policy to use when gathering ICE candidates. The value must be one of those from the <a href="#RTCRtcpMuxPolicy_enum"><code>RTCRtcpMuxPolicy</code> enum</a>. The default is <code>"require"</code>.</dd> </dl> <h3 id="Return_value">Return value</h3> <p>A newly-created <a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> object, configured as described by <code>configuration</code>, if specified; otherwise, configured to appropriate basic defaults.</p> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" hreflang="en" href="https://w3c.github.io/webrtc-pc/#widl-ctor-RTCPeerConnection--RTCConfiguration-configuration" class="external">WebRTC 1.0: Real-time Communication Between Browser<br><small lang="en-US">The definition of 'RTCPeerConnection()' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial definition.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2013-06-25." href="https://developer.mozilla.org/en-US/Firefox/Releases/22">22</a> (22)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Android Webview</th> <th>Firefox Mobile (Gecko)</th> <th>Firefox OS</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> <th>Chrome for Android</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #f00;">No support</span></td> <td>24.0 (24)</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> </tr> </tbody> </table> </div> <h2 id="See_also">See also</h2> <ul> <li><a href="../webrtc_api/signaling_and_video_calling">Signaling and video calling</a></li> <li><a href="../webrtc_api/protocols">WebRTC architecture overview</a></li> <li><a href="../webrtc_api/session_lifetime">Lifetime of a WebRTC session</a></li> <li><a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/RTCPeerConnection$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/RTCPeerConnection" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/RTCPeerConnection</a>
  </p>
</div>
