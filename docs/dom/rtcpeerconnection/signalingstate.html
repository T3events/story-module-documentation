<h1>RTCPeerConnection.signalingState</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p>The read-only <strong><code>signalingState</code></strong> property on the <a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> interface returns one of the string values specified by the <code>RTCSignalingState</code> enum; these values describe the state of the signaling process on the local end of the connection while connecting or reconnecting to another peer. See "<a href="../webrtc_api/session_lifetime#Signaling">Signaling</a>" in <a href="../webrtc_api/session_lifetime">Lifetime of a WebRTC session</a> for more details about the signaling process.</p> <p>Because the signaling process is a state machine, being able to verify that your code is in the expected state when messages arrive can help avoid unexpected and avoidable failures. For example, if you receive an answer while the <code>signalingState</code> isn't <code>"have-local-offer"</code>, you know that something is wrong, since you should only receive answers after creating an offer but before an answer has been received and passed into <a title="The RTCPeerConnection.setLocalDescription() method changes the local description associated with the connection. This description specifies the properties of the local end of the connection, including the media format." href="setlocaldescription"><code>RTCPeerConnection.setLocalDescription()</code></a>. Your code will be more reliable if you watch for mismatched states like this and handle them gracefully.</p> <p>This value may also be useful during debugging, for example.</p> <p>In addition, when the value of this property changes, a <code><a title="/en-US/docs/Web/Events/signalingstatechange" href="https://developer.mozilla.org/en-US/docs/Web/Events/signalingstatechange">signalingstatechange</a></code> event is sent to the <a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> instance.</p> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox"> var <em>state</em> = <em>RTCPeerConnection</em>.signalingState;</pre> <h3 id="Value">Value</h3> <p>The allowed values are those included in the enum <code><a href="#RTCSignalingState_enum">RTCSignalingState</a></code>.</p> <h3 id="RTCSignalingState_enum_2">RTCSignalingState enum</h3> <p>The <code>RTCSignalingState</code> enum specifies the possible values of <a title='The read-only signalingState property on the RTCPeerConnection interface returns one of the string values specified by the RTCSignalingState enum; these values describe the state of the signaling process on the local end of the connection while connecting or reconnecting to another peer. See "Signaling" in Lifetime of a WebRTC session for more details about the signaling process.' href="signalingstate"><code>RTCPeerConnection.signalingState</code></a>, which indicates where in the process of signaling the exchange of offer and answer the connection currently is.</p> <table class="standard-table">
<thead><tr>
<th scope="col">Constant</th> <th scope="col">Description</th> </tr></thead>
<tbody>
<tr>
<td><code>"stable"</code></td> <td>There is no ongoing exchange of offer and answer underway. This may mean that the <a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> object is new, in which case both the <a title="The read-only property RTCPeerConnection.localDescription returns an RTCSessionDescription describing the session for the local end of the connection. If it has not yet been set, this is null." href="localdescription"><code>localDescription</code></a> and <a title="The read-only property RTCPeerConnection.remoteDescription returns a RTCSessionDescription describing the session (which includes configuration and media information) for the remote end of the connection. If this hasn't been set yet, this is null." href="remotedescription"><code>remoteDescription</code></a> are <code>null</code>; it may also mean that negotiation is complete and a connection has been established.</td> </tr>
<tr>
<td><code>"have-local-offer"</code></td> <td>The local peer has called <a title="The RTCPeerConnection.setLocalDescription() method changes the local description associated with the connection. This description specifies the properties of the local end of the connection, including the media format." href="setlocaldescription"><code>RTCPeerConnection.setLocalDescription()</code></a>, passing in SDP representing an offer (usually created by calling <a title="The createOffer() method of the RTCPeerConnection interface initiates the creation of an SDP offer which includes information about any MediaStreamTracks already attached to the WebRTC session, codec and options supported by the browser, and any candidates already gathered by the ICE agent, for the purpose of being sent over the signaling channel to a potential peer to request a connection or to update the configuration of an existing connection." href="createoffer"><code>RTCPeerConnection.createOffer()</code></a>), and the offer has been applied successfully.</td> </tr>
<tr>
<td><code>"have-remote-offer"</code></td> <td>The remote peer has created an offer and used the signaling server to deliver it to the local peer, which has set the offer as the remote description by calling <a title="The RTCPeerConnection.setRemoteDescription() method changes the remote description associated with the connection. This description specifies the properties of the remote end of the connection, including the media format." href="setremotedescription"><code>RTCPeerConnection.setRemoteDescription()</code></a>.</td> </tr>
<tr>
<td><code>"have-local-pranswer"</code></td> <td>The offer sent by the remote peer has been applied and an answer has been created (usually by calling <a title="The createAnswer() method on the RTCPeerConnection interface creates an answer to an offer received from a remote peer during the offer/answer negotiation of a WebRTC connection. Once the answer is created, it should be sent to the source of the offer to continue the negotiation process." href="createanswer"><code>RTCPeerConnection.createAnswer()</code></a>) and applied by calling <a title="The RTCPeerConnection.setLocalDescription() method changes the local description associated with the connection. This description specifies the properties of the local end of the connection, including the media format." href="setlocaldescription"><code>RTCPeerConnection.setLocalDescription()</code></a>. This provisional answer describes the supported media formats and so forth, but may not have a complete set of ICE candidates included. Further candidates will be delivered separately later.</td> </tr>
<tr>
<td><code>"have-remote-pranswer"</code></td> <td>A provisional answer has been received and successfully applied in response to an offer previously sent and established by calling <code>setLocalDescription()</code>.</td> </tr>
<tr>
<td>
<code>"closed"</code> 
</td> <td> <p>The connection is closed.</p> <div class="note"> <p>This value moved into the <a href="#RTCPeerConnectionState_enum"><code>RTCPeerConnectionState</code> enum</a> in the May 13, 2016 draft of the specification, as it reflects the state of the <code>RTCPeerConnection</code>, not the signaling connection. You now detect a closed connection by checking for <a title="The read-only connectionState property of the RTCPeerConnection interface indicates the current state of the peer connection by returning one of the string values specified by the enum RTCPeerConnectionState." href="connectionstate"><code>connectionState</code></a> to be <code>"closed"</code> instead.</p> </div> </td> </tr>
</tbody>
</table> <h2 id="Example">Example</h2> <pre data-language="js">var pc = new RTCPeerConnection(configuration);
var state = pc.signalingState;</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a lang="en" hreflang="en" href="https://w3c.github.io/webrtc-pc/#widl-RTCPeerConnection-signalingState" class="external">WebRTC 1.0: Real-time Communication Between Browser<br><small lang="en-US">The definition of 'RTCPeerConnection.signalingState' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Initial specification.</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> </tr> <tr> <td>Basic support</td> <td>
<span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span> [1]</td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>
<a title="Released on 2013-06-25." href="https://developer.mozilla.org/en-US/Firefox/Releases/22">22</a> (22) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <div id="compat-mobile"> <table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android</th> <th>Chrome for Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Please update this with the earliest version of support." style="color: #888;">(Yes)</span></td> <td>22.0 (22) [1]</td> <td><span style="color: #f00;">No support</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> <td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table> </div> <p>[1] Though this property is not prefixed, the <a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a> interface it's a member of was until Firefox 44.</p> <h2 id="See_also">See also</h2> <ul> <li><a href="../webrtc_api/session_lifetime">Lifetime of a WebRTC session</a></li> <li><a title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed." href="../rtcpeerconnection"><code>RTCPeerConnection</code></a></li> <li><code><a title="/en-US/docs/Web/Events/signalingstatechange" href="https://developer.mozilla.org/en-US/docs/Web/Events/signalingstatechange">signalingstatechange</a></code></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/WebRTC">WebRTC</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/signalingState$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/signalingState" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/signalingState</a>
  </p>
</div>
