<h1>CSS Animations: Using CSS animations</h1><div class="notice experimental"> <p> <strong>This is an experimental technology</strong><br>Because this technology's specification has not stabilized, check the <a href="#Browser_compatibility">compatibility table</a> for usage in various browsers. Also note that the syntax and behavior of an experimental technology is subject to change in future versions of browsers as the specification changes.</p> </div> <p><span class="seoSummary"><strong>CSS animations</strong> make it possible to animate transitions from one CSS style configuration to another.</span> Animations consist of two components, a style describing the CSS animation and a set of keyframes that indicate the start and end states of the animation's style, as well as possible intermediate waypoints.</p> <p>There are three key advantages to CSS animations over traditional script-driven animation techniques:</p> <ol> <li>They're easy to use for simple animations; you can create them without even having to know JavaScript.</li> <li>The animations run well, even under moderate system load. Simple animations can often perform poorly in JavaScript (unless they're well made). The rendering engine can use frame-skipping and other techniques to keep the performance as smooth as possible.</li> <li>Letting the browser control the animation sequence lets the browser optimize performance and efficiency by, for example, reducing the update frequency of animations running in tabs that aren't currently visible.</li> </ol> <h2 id="Configuring_the_animation">Configuring the animation</h2> <p>To create a CSS animation sequence, you style the element you want to animate with the <a title="The animation CSS property is a shorthand property for animation-name, animation-duration, animation-timing-function, animation-delay, animation-iteration-count, animation-direction, animation-fill-mode and animation-play-state." href="../animation"><code>animation</code></a> property or its sub-properties. This lets you configure the timing, duration, and other details of how the animation sequence should progress. This does <strong>not</strong> configure the actual appearance of the animation, which is done using the <a title="The @keyframes CSS at-rule lets authors control the intermediate steps in a CSS animation sequence by establishing keyframes (or waypoints) along the animation sequence that must be reached by certain points during the animation. This gives you more specific control over the intermediate steps of the animation sequence than you'd get when letting the browser handle everything automatically." href="../@keyframes"><code>@keyframes</code></a> at-rule as described in <a href="#Defining_the_animation_sequence_using_keyframes">Defining the animation sequence using keyframes</a> below.</p> <p>The sub-properties of the <a title="The animation CSS property is a shorthand property for animation-name, animation-duration, animation-timing-function, animation-delay, animation-iteration-count, animation-direction, animation-fill-mode and animation-play-state." href="../animation"><code>animation</code></a> property are:</p> <dl> <dt><a title="The animation-delay CSS property specifies when the animation should start. This lets the animation sequence begin some time after it's applied to an element." href="../animation-delay"><code>animation-delay</code></a></dt> <dd>Configures the delay between the time the element is loaded and the beginning of the animation sequence.</dd> <dt><a title="The animation-direction CSS property indicates whether the animation should play in reverse on alternate cycles." href="../animation-direction"><code>animation-direction</code></a></dt> <dd>Configures whether or not the animation should alternate direction on each run through the sequence or reset to the start point and repeat itself.</dd> <dt><a title="The animation-duration CSS property specifies the length of time that an animation should take to complete one cycle." href="../animation-duration"><code>animation-duration</code></a></dt> <dd>Configures the length of time that an animation should take to complete one cycle.</dd> <dt><a title="The animation-iteration-count CSS property defines the number of times an animation cycle should be played before stopping. If multiple values are specified, each time the animation is played, the next value in the list is used, cycling back to the first value after the last one is used." href="../animation-iteration-count"><code>animation-iteration-count</code></a></dt> <dd>Configures the number of times the animation should repeat; you can specify <code>infinite</code> to repeat the animation indefinitely.</dd> <dt><a title="The animation-name CSS property specifies a list of animations that should be applied to the selected element. Each name indicates a @keyframes at-rule that defines the property values for the animation sequence." href="../animation-name"><code>animation-name</code></a></dt> <dd>Specifies the name of the <a title="The @keyframes CSS at-rule lets authors control the intermediate steps in a CSS animation sequence by establishing keyframes (or waypoints) along the animation sequence that must be reached by certain points during the animation. This gives you more specific control over the intermediate steps of the animation sequence than you'd get when letting the browser handle everything automatically." href="../@keyframes"><code>@keyframes</code></a> at-rule describing the animation's keyframes.</dd> <dt><a title="The animation-play-state CSS property determines whether an animation is running or paused. This can be queried to determine whether or not the animation is currently running. In addition, its value can be set to pause and resume playback of an animation." href="../animation-play-state"><code>animation-play-state</code></a></dt> <dd>Lets you pause and resume the animation sequence.</dd> <dt><a title="The animation-timing-function CSS property specifies how a CSS animation should progress over the duration of each cycle. The possible values are one or several &lt;timing-function&gt;." href="../animation-timing-function"><code>animation-timing-function</code></a></dt> <dd>Configures the timing of the animation; that is, how the animation transitions through keyframes, by establishing acceleration curves.</dd> <dt><a title="The animation-fill-mode CSS property specifies how a CSS animation should apply styles to its target before and after it is executing." href="../animation-fill-mode"><code>animation-fill-mode</code></a></dt> <dd>Configures what values are applied by the animation before and after it is executing.</dd> </dl> <h2 id="Defining_the_animation_sequence_using_keyframes">Defining the animation sequence using keyframes</h2> <p>Once you've configured the animation's timing, you need to define the appearance of the animation. This is done by establishing two or more keyframes using the <a title="The @keyframes CSS at-rule lets authors control the intermediate steps in a CSS animation sequence by establishing keyframes (or waypoints) along the animation sequence that must be reached by certain points during the animation. This gives you more specific control over the intermediate steps of the animation sequence than you'd get when letting the browser handle everything automatically." href="../@keyframes"><code>@keyframes</code></a> at-rule. Each keyframe describes how the animated element should render at a given time during the animation sequence.</p> <p>Since the timing of the animation is defined in the CSS style that configures the animation, keyframes use a <a title="The &lt;percentage&gt; CSS data types represent a percentage value. Many CSS properties can take percentage values, often to define sizes in terms of parent objects. Percentages are formed by a &lt;number&gt; immediately followed by the percentage sign %. Just as is the case with all other units in CSS, there isn't a space between the '%' and the number." href="../percentage"><code>&lt;percentage&gt;</code></a> to indicate the time during the animation sequence at which they take place. 0% indicates the first moment of the animation sequence, while 100% indicates the final state of the animation. Because these two times are so important, they have special aliases: <code>from</code> and <code>to</code>. Both are optional. If <code>from</code>/<code>0%</code> or <code>to</code>/<code>100%</code> is not specified, the browser starts or finishes the animation using the computed values of all attributes.</p> <p>You can optionally include additional keyframes that describe intermediate steps between the start and end of the animation.</p> <h2 id="Examples">Examples</h2> <div class="note">
<strong>Note:</strong> The examples here don't use any prefix on the animation CSS properties. WebKit-based browsers and older versions of the other browsers may need prefixes; the live examples you can click to see in your browser also include the <code>-webkit</code> prefixed versions.</div> <h3 id="Making_text_slide_across_the_browser_window">Making text slide across the browser window</h3> <p>This simple example styles the <a title="The HTML &lt;p&gt; element (or HTML Paragraph Element) represents a paragraph of text." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p"><code>&lt;p&gt;</code></a> element so that the text slides in from off the right edge of the browser window.</p> <p>Note that animations like this can cause the page to become wider than the browser window. To avoid this problem put the element to be animated in a container, and set <a title="The overflow property specifies whether to clip content, render scrollbars or just display content when it overflows its block level container." href="../overflow"><code>overflow</code></a><code>:hidden</code> on the container.</p> <pre data-language="css">p {
  animation-duration: 3s;
  animation-name: slidein;
}

@keyframes slidein {
  from {
    margin-left: 100%;
    width: 300%; 
  }

  to {
    margin-left: 0%;
    width: 100%;
  }
}
</pre> <p>In this example the style for the <a title="The HTML &lt;p&gt; element (or HTML Paragraph Element) represents a paragraph of text." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p"><code>&lt;p&gt;</code></a> element specifies that the animation should take 3 seconds to execute from start to finish, using the <a title="The animation-duration CSS property specifies the length of time that an animation should take to complete one cycle." href="../animation-duration"><code>animation-duration</code></a> property, and that the name of the <a title="The @keyframes CSS at-rule lets authors control the intermediate steps in a CSS animation sequence by establishing keyframes (or waypoints) along the animation sequence that must be reached by certain points during the animation. This gives you more specific control over the intermediate steps of the animation sequence than you'd get when letting the browser handle everything automatically." href="../@keyframes"><code>@keyframes</code></a> at-rule defining the keyframes for the animation sequence is named "slidein".</p> <p>If we wanted any custom styling on the <a title="The HTML &lt;p&gt; element (or HTML Paragraph Element) represents a paragraph of text." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p"><code>&lt;p&gt;</code></a> element to appear in browsers that don't support CSS animations, we would include it here as well; however, in this case we don't want any custom styling other than the animation effect.</p> <p>The keyframes are defined using the <a title="The @keyframes CSS at-rule lets authors control the intermediate steps in a CSS animation sequence by establishing keyframes (or waypoints) along the animation sequence that must be reached by certain points during the animation. This gives you more specific control over the intermediate steps of the animation sequence than you'd get when letting the browser handle everything automatically." href="../@keyframes"><code>@keyframes</code></a> at-rule. In this case, we have just two keyframes. The first occurs at 0% (using the alias <code>from</code>). Here, we configure the left margin of the element to be at 100% (that is, at the far right edge of the containing element), and the width of the element to be 300% (or three times the width of the containing element). This causes the first frame of the animation to have the header drawn off the right edge of the browser window.</p> <p>The second (and final) keyframe occurs at 100% (using the alias <code>to</code>). The left margin is set to 0% and the width of the element is set to 100%. This causes the header to finish its animation flush against the left edge of the content area.</p> <pre data-language="html">&lt;p&gt;The Caterpillar and Alice looked at each other for some time in silence:
at last the Caterpillar took the hookah out of its mouth, and addressed
her in a languid, sleepy voice.&lt;/p&gt;
</pre> <p>(Reload page to see the animation, or click the CodePen button to see the animation in the CodePen environment)</p> <p><iframe width="100%" frameborder="0" class="live-sample-frame sample-code-frame" src="https://mdn.mozillademos.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations%24samples/Making_text_slide_across_the_browser_window?revision=1047752" height="250" id="frame_Making_text_slide_across_the_browser_window"></iframe></p> <h3 id="Adding_another_keyframe">Adding another keyframe</h3> <p>Let's add another keyframe to the previous example's animation. Let's say we want the header's font size to increase as it moves from right to left for a while, then to decrease back to its original size. That's as simple as adding this keyframe:</p> <pre data-language="css">75% {
  font-size: 300%;
  margin-left: 25%;
  width: 150%;
}
</pre>   <p>This tells the browser that 75% of the way through the animation sequence, the header should have its left margin at 25% and the width should be 150%.</p> <p>(Reload page to see the animation, or click the CodePen button to see the animation in the CodePen environment)</p> <p><iframe width="100%" frameborder="0" class="live-sample-frame sample-code-frame" src="https://mdn.mozillademos.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations%24samples/Adding_another_keyframe?revision=1047752" height="250" id="frame_Adding_another_keyframe"></iframe></p> <h3 id="Making_it_repeat">Making it repeat</h3> <p>To make the animation repeat itself, simply use the <a title="The animation-iteration-count CSS property defines the number of times an animation cycle should be played before stopping. If multiple values are specified, each time the animation is played, the next value in the list is used, cycling back to the first value after the last one is used." href="../animation-iteration-count"><code>animation-iteration-count</code></a> property to indicate how many times to repeat the animation. In this case, let's use <code>infinite</code> to have the animation repeat indefinitely:</p> <pre data-language="css">p {
  animation-duration: 3s;
  animation-name: slidein;
  animation-iteration-count: infinite;
}
</pre>   <p><iframe width="100%" frameborder="0" class="live-sample-frame sample-code-frame" src="https://mdn.mozillademos.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations%24samples/Making_it_repeat?revision=1047752" height="250" id="frame_Making_it_repeat"></iframe></p> <h3 id="Making_it_move_back_and_forth">Making it move back and forth</h3> <p>That made it repeat, but it's very odd having it jump back to the start each time it begins animating. What we really want is for it to move back and forth across the screen. That's easily accomplished by setting <a title="The animation-direction CSS property indicates whether the animation should play in reverse on alternate cycles." href="../animation-direction"><code>animation-direction</code></a> to <code>alternate</code>:</p> <pre data-language="css">p {
  animation-duration: 3s;
  animation-name: slidein;
  animation-iteration-count: infinite;
  animation-direction: alternate;
}
</pre>   <p><iframe width="100%" frameborder="0" class="live-sample-frame sample-code-frame" src="https://mdn.mozillademos.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations%24samples/Making_it_move_back_and_forth?revision=1047752" height="250" id="frame_Making_it_move_back_and_forth"></iframe></p> <h3 id="Using_animation_events">Using animation events</h3> <p>You can get additional control over animations -- as well as useful information about them -- by making use of animation events. These events, represented by the <a title="The AnimationEvent interface represents events providing information related to animations." href="https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent"><code>AnimationEvent</code></a> object, can be used to detect when animations start, finish, and begin a new iteration. Each event includes the time at which it occurred as well as the name of the animation that triggered the event.</p> <p>We'll modify the sliding text example to output some information about each animation event when it occurs, so we can get a look at how they work.</p> <h4 id="Adding_the_CSS">Adding the CSS</h4> <p>We start with creating the CSS for the animation. This animation will last for 3 seconds, be called "slidein", repeat 3 times, and alternate direction each time. In the <a title="The @keyframes CSS at-rule lets authors control the intermediate steps in a CSS animation sequence by establishing keyframes (or waypoints) along the animation sequence that must be reached by certain points during the animation. This gives you more specific control over the intermediate steps of the animation sequence than you'd get when letting the browser handle everything automatically." href="../@keyframes"><code>@keyframes</code></a>, the width and margin-left are manipulated to make the element slide across the screen.</p> <pre data-language="css">.slidein {
  animation-duration: 3s;
  animation-name: slidein;
  animation-iteration-count: 3;
  animation-direction: alternate;
}

@keyframes slidein {
  from {
    margin-left:100%;
    width:300%
  }
  
  to {
    margin-left:0%;
    width:100%;
  }
}</pre> <h4 id="Adding_the_animation_event_listeners">Adding the animation event listeners</h4> <p>We'll use JavaScript code to listen for all three possible animation events. This code configures our event listeners; we call it when the document is first loaded in order to set things up.</p> <pre data-language="js">var e = document.getElementById("watchme");
e.addEventListener("animationstart", listener, false);
e.addEventListener("animationend", listener, false);
e.addEventListener("animationiteration", listener, false);

e.className = "slidein";
</pre> <p>This is pretty standard code; you can get details on how it works in the documentation for <a title="The EventTarget.addEventListener() method registers the specified listener on the EventTarget it's called on. The event target may be an Element in a document, the Document itself, a Window, or any other object that supports events (such as XMLHttpRequest)." href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener"><code>eventTarget.addEventListener()</code></a>. The last thing this code does is set the <code>class</code> on the element we'll be animating to "slidein"; we do this to start the animation.</p> <p>Why? Because the <code>animationstart</code> event fires as soon as the animation starts, and in our case, that happens before our code runs. So we'll start the animation ourselves by setting the class of the element to the style that gets animated after the fact.</p> <h4 id="Receiving_the_events">Receiving the events</h4> <p>The events get delivered to the <code>listener()</code> function, which is shown below.</p> <pre data-language="js">function listener(e) {
  var l = document.createElement("li");
  switch(e.type) {
    case "animationstart":
      l.innerHTML = "Started: elapsed time is " + e.elapsedTime;
      break;
    case "animationend":
      l.innerHTML = "Ended: elapsed time is " + e.elapsedTime;
      break;
    case "animationiteration":
      l.innerHTML = "New loop started at time " + e.elapsedTime;
      break;
  }
  document.getElementById("output").appendChild(l);
}
</pre> <p>This code, too, is very simple. It simply looks at the <a title="The Event.type read-only property returns a string containing the type of event. It is set when the event is constructed and is the name commonly used to refer to the specific event." href="https://developer.mozilla.org/en-US/docs/Web/API/Event/type"><code>event.type</code></a> to determine which kind of animation event occurred, then adds an appropriate note to the <a title="The HTML &lt;ul&gt; element (or HTML Unordered List Element) represents an unordered list of items, namely a collection of items that do not have a numerical ordering, and their order in the list is meaningless. Typically, unordered-list items are displayed with a bullet, which can be of several forms, like a dot, a circle or a squared. The bullet style is not defined in the HTML description of the page, but in its associated CSS, using the list-style-type property." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul"><code>&lt;ul&gt;</code></a> (unordered list) we're using to log these events.</p> <p>The output, when all is said and done, looks something like this:</p> <ul> <li>Started: elapsed time is 0</li> <li>New loop started at time 3.01200008392334</li> <li>New loop started at time 6.00600004196167</li> <li>Ended: elapsed time is 9.234000205993652</li> </ul> <p>Note that the times are very close to, but not exactly, those expected given the timing established when the animation was configured. Note also that after the final iteration of the animation, the <code>animationiteration</code> event isn't sent; instead, the <code>animationend</code> event is sent.</p> <h4 id="The_HTML">The HTML</h4> <p>Just for the sake of completeness, here's the HTML that displays the page content, including the list into which the script inserts information about the received events:</p> <pre data-language="html">&lt;h1 id="watchme"&gt;Watch me move&lt;/h1&gt;
&lt;p&gt;
  This example shows how to use CSS animations to make &lt;code&gt;H1&lt;/code&gt;
  elements move across the page.
&lt;/p&gt;
&lt;p&gt;
  In addition, we output some text each time an animation event fires,
  so you can see them in action.
&lt;/p&gt;
&lt;ul id="output"&gt;
&lt;/ul&gt;
&lt;/body&gt;
</pre> <p><iframe width="600" frameborder="0" class="live-sample-frame sample-code-frame" src="https://mdn.mozillademos.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations%24samples/Using_animation_events?revision=1047752" height="300" id="frame_Using_animation_events"></iframe></p> <h2 id="See_also">See also</h2> <ul> <li><a title="The AnimationEvent interface represents events providing information related to animations." href="https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent"><code>AnimationEvent</code></a></li> <li><a title="en/CSS/CSS animations/Detecting CSS animation support" href="../css_animations/detecting_css_animation_support">Detecting CSS animation support</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Using_CSS_transitions">Using CSS transitions</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations</a>
  </p>
</div>
