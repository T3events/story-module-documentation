<h1>Accept-Encoding</h1> <p>The <code>Accept-Encoding</code> request HTTP header advertises which content encoding, usually a compression algorithm, the client is able to understand. Using <a href="../content_negotiation">content negotiation</a>, the server selects one of the proposals, uses it and informs the client of its choice with the <a title="The Content-Encoding entity header is used to compress the media-type. When present, its value indicates what additional content encoding has been applied to the entity-body. It lets the client know, how to decode in order to obtain the media-type referenced by the Content-Type header." href="content-encoding"><code>Content-Encoding</code></a> response header.</p> <p>Even if both the client and the server supports the same compression algorithms, the server may choose not to compress the body of a response, if the identity value is also acceptable. Two common cases lead to this:</p> <ul> <li>The data to be sent is already compressed and a second compression won't lead to smaller data to be transmitted. This may the case with some image formats;</li> <li>The server is overloaded and cannot afford the computational overhead induced by the compression requirement. Typically, Microsoft recommends not to compress if a server use more than 80 % of its computational power.</li> </ul> <p>As long as the <code>identity</code> value, meaning no encryption, is not explicitly forbidden, by an <code>identity;q=0</code> or a <code>*;q=0</code> without another explicitly set value for identity, the server must never send back a <a title="The HTTP 406 Not Acceptable client error response code indicates that a response matching the list of acceptable values defined in Accept-Charset and Accept-Language cannot be served." href="../status/406"><code>406</code></a> <code>Not Acceptable</code> error.</p> <div class="note">
<strong>Notes:</strong> <ul> <li> <p>An IANA registry maintains <a href="http://www.iana.org/assignments/http-parameters/http-parameters.xml#http-parameters-1" class="external">a complete list of official content encodings</a>.</p> </li> <li>Two others content encoding, <code>bzip</code> and <code>bzip2</code>, are sometimes used, though not standard. They implement the algorithm used by these two UNIX programs. Note that the first one was discontinued due to patent licensing problems.</li> </ul> </div> <table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td><a title="Request header: A request header is an HTTP header that can be used in an HTTP request, and that doesn't relate to the content of the message. Request headers, like Accept, Accept-*, or If-* allow to perform conditional requests; others like Cookie, User-Agent or Referer precise the context so that the server can tailor the answer." href="https://developer.mozilla.org/en-US/docs/Glossary/Request_header" class="glossaryLink">Request header</a></td> </tr> <tr> <th scope="row"><a title="Forbidden header name: A forbidden header name is an HTTP header name that cannot be modified programmatically." href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name" class="glossaryLink">Forbidden header name</a></th> <td>yes</td> </tr> </tbody> </table> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">Accept-Encoding: gzip
Accept-Encoding: compress
Accept-Encoding: deflate
Accept-Encoding: br
Accept-Encoding: identity
Accept-Encoding: *

// Multiple algorithms, weighted with the <a title="quality value: Quality values, or q-values or q-factors, are used to describe the order of priority of values in a comma-separated list. It is a special syntax allowed in some HTTP headers and in HTML. The importance of a value is marked by the suffix ';q=' immediately followed by a value between 0 and 1 included, with up to three decimal digits, the highest value denoting the highest priority. When not present, the default value is 1." href="https://developer.mozilla.org/en-US/docs/Glossary/Quality_Values" class="glossaryLink">quality value</a> syntax:
Accept-Encoding: deflate, gzip;q=1.0, *;q=0.5</pre> <h2 id="Directives">Directives</h2> <dl> <dt><code>gzip</code></dt> <dd>A compression format using the <a href="http://en.wikipedia.org/wiki/LZ77_and_LZ78#LZ77" class="external external-icon">Lempel-Ziv coding</a> (LZ77), with a 32-bit CRC.</dd> <dt><code>compress</code></dt> <dd>A compression format using the <a href="http://en.wikipedia.org/wiki/LZW" class="external external-icon">Lempel-Ziv-Welch</a> (LZW) algorithm.</dd> <dt><code>deflate</code></dt> <dd>A compression format using the <a href="http://en.wikipedia.org/wiki/Zlib" class="external external-icon">zlib</a> structure, with the <a href="http://en.wikipedia.org/wiki/DEFLATE" class="external external-icon"><em>deflate</em></a> compression algorithm.</dd> <dt><code>br</code></dt> <dd>A compression format using the <a href="https://en.wikipedia.org/wiki/Brotli" class="external external-icon">Brotli</a> algorithm.</dd> <dt><code>identity</code></dt> <dd>Indicates the identity function (i.e. no compression, nor modification. This value is always considered as acceptable, even if not present.</dd> <dt><code>*</code></dt> <dd>Matches any content encoding not already listed in the header. This is the default value if the header is not present. It doesn't mean that any algorithm is supported; merely that no preference is expressed.</dd> <dt>
<code>;q=</code> (qvalues weighting)</dt> <dd>Any value is placed in an order of preference expressed using a relative <a href="https://developer.mozilla.org/en-US/docs/Glossary/Quality_value">quality values</a> called <em>weight</em>.</dd> </dl> <h2 id="Examples">Examples</h2> <pre>Accept-Encoding: gzip

Accept-Encoding: gzip, compress, br

Accept-Encoding: br;q=1.0, gzip;q=0.8, *;q=0.1
</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Title</th> </tr> <tr> <td><a href="http://tools.ietf.org/html/7231#section-5.3.4">RFC 7231, section 5.3.4: Accept-Encoding</a></td> <td>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Context</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"><table class="compat-table"> <thead> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> <th>Servo</th> </tr> </thead>
<tbody><tr>
<td>Accept-Encoding</td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
</tr></tbody>
</table></div><div id="compat-mobile"><table class="compat-table"> <thead> <tr> <th>Feature</th> <th>Android</th> <th>Chrome for Android</th> <th>Edge Mobile</th> <th>Firefox for Android</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> </thead>
<tbody><tr>
<td>Accept-Encoding</td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
</tr></tbody>
</table></div> <h2 id="See_also">See also</h2> <ul> <li>HTTP <a href="../content_negotiation">content negotiation</a>
</li> <li>Header with the result of the content negotiation: <a title="The Content-Encoding entity header is used to compress the media-type. When present, its value indicates what additional content encoding has been applied to the entity-body. It lets the client know, how to decode in order to obtain the media-type referenced by the Content-Type header." href="content-encoding"><code>Content-Encoding</code></a>
</li> <li>Other similar headers: <a title="The TE request header specifies the transfer encodings the user agent is willing to accept. (you could informally call it Accept-Transfer-Encoding, which would be more intuitive)." href="te"><code>TE</code></a>, <a title="The Accept request HTTP header advertises which content types, expressed as MIME types, the client is able to understand. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice with the Content-Type response header. Browsers set adequate values for this header depending of the context where the request is done: when fetching a CSS stylesheet a different value is set for the request than when fetching an image,Â video or a script." href="accept"><code>Accept</code></a>, <a title="The Accept-Charset request HTTP header advertises which character set the client is able to understand. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice within the Content-Type response header. Browsers usually don't set this header as the default value for each content type is usually correct and transmitting it would allow easier fingerprinting." href="accept-charset"><code>Accept-Charset</code></a>, <a title="The Accept-Language request HTTP header advertises which languages the client is able to understand, and which locale variant is preferred. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice with the Content-Language response header. Browsers set adequate values for this header according their user interface language and even if a user can change it, this happens rarely (and is frown upon as it leads to fingerprinting)." href="accept-language"><code>Accept-Language</code></a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding</a>
  </p>
</div>
