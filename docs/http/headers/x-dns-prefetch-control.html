<h1>X-DNS-Prefetch-Control</h1> <p>The <code>X-DNS-Prefetch-Control</code> HTTP response header controls DNS prefetching, a feature by which browsers proactively perform domain name resolution on both links that the user may choose to follow as well as URLs for items referenced by the document, including images, CSS, JavaScript, and so forth.</p> <p>This prefetching is performed in the background, so that the <a href="https://developer.mozilla.org/en-US/docs/Glossary/DNS" class="glossaryLink" title="DNS: DNS (Domain Name System) translates easy-to-recall domain names to the numerical IP addresses needed to find a particular computer service on the Internet or private network.">DNS</a> is likely to have been resolved by the time the referenced items are needed. This reduces latency when the user clicks a link.</p> <table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header" class="glossaryLink" title="Response header: A response header is an HTTP header that can be used in an HTTP response and that doesn't relate to the content of the message. Response headers, like Age, Location or Server are used to give a more detailed context of the response.">Response header</a></td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name" class="glossaryLink" title="Forbidden header name: A forbidden header name is an HTTP header name that cannot be modified programmatically.">Forbidden header name</a></th> <td>no</td> </tr> </tbody> </table> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">X-DNS-Prefetch-Control: on
X-DNS-Prefetch-Control: off
</pre> <h3 id="Directives">Directives</h3> <dl> <dt>on</dt> <dd>Enables DNS prefetching. This is what browsers do, if they support the feature, when this header is not present</dd> <dt>off</dt> <dd>Disables DNS prefetching. This is useful if you don't control the link on the pages, or knows that you don't want to lead information to these domains.</dd> </dl> <h2 id="Description">Description</h2> <p>DNS requests are very small in terms of bandwidth, but latency can be quite high, especially on mobile networks. By speculatively prefetching DNS results, latency can be reduced significantly at certain times, such as when the user clicks the link. In some cases, latency can be reduced by a second.</p> <p>The implementation of this prefetching in some browsers allows domain name resolution to occur in parallel with (instead of in serial with) the fetching of actual page content. By doing this, the high-latency domain name resolution process doesn't cause any delay while fetching content.</p> <p>Page load times – especially on mobile networks – can be measurably improved in this way. If the domain names for images can be resolved in advance of the images being requested, pages that load many images can see an improvement of 5% or more in the time of loading images.</p> <h3 id="Configuring_prefetching_in_the_browser">Configuring prefetching in the browser</h3> <p>In general, you don't need to do anything to manage prefetching. However, the user may wish to disable prefetching. On Firefox, this can be done by setting the <code>network.dns.disablePrefetch</code> preference to <code>true</code>.</p> <p>Also, by default, prefetching of embedded link hostnames is not performed on documents loaded over <a href="https://developer.mozilla.org/en-US/docs/Glossary/HTTPS" class="glossaryLink" title="HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.">HTTPS</a>. On Firefox, this can be changed by setting the <code>network.dns.disablePrefetchFromHTTPS</code> preference to <code>false</code>.</p> <h2 id="Examples">Examples</h2> <h3 id="Turning_on_and_off_prefetching">Turning on and off prefetching</h3> <p>You can either send the <code>X-DNS-Prefetch-Control</code> header server-side, or from individual documents, using the <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv">http-equiv</a></code> attribute on the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta" title="The HTML &lt;meta&gt; element represents any metadata information that cannot be represented by one of the other HTML meta-related elements (&lt;base&gt;, &lt;link&gt;, &lt;script&gt;, &lt;style&gt; or &lt;title&gt;)."><code>&lt;meta&gt;</code></a> element, like this:</p> <pre data-language="html">&lt;meta http-equiv="x-dns-prefetch-control" content="off"&gt;
</pre> <p>You can reverse this setting by setting <code>content</code> to "<code>on</code>".</p> <h3 id="Forcing_lookup_of_specific_hostnames">Forcing lookup of specific hostnames</h3> <p>You can force the lookup of specific hostnames without providing specific anchors using that hostname by using the <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-rel">rel</a></code> attribute on the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link" title="The HTML &lt;link&gt; element specifies relationships between the current document and an external resource. Possible uses for this element include defining a relational framework for navigation. This Element is most used to link to style sheets."><code>&lt;link&gt;</code></a> element with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types">link type</a> of <code>dns-prefetch</code>:</p> <pre data-language="html">&lt;link rel="dns-prefetch" href="http://www.spreadfirefox.com/"&gt;
</pre> <p>In this example, the domain name "<a href="http://www.spreadfirefox.com" class="linkification-ext external" title="Linkification: http://www.spreadfirefox.com">www.spreadfirefox.com</a>" will be pre-resolved.</p> <p>Similarly, the link element can be used to resolve hostnames without providing a complete URL, but only, by preceding the hostname with two slashes:</p> <pre data-language="html">&lt;link rel="dns-prefetch" href="//www.spreadfirefox.com"&gt;
</pre> <p>Forced prefetching of hostnames might be useful, for example, on the homepage of a site to force pre-resolution of domain names that are referenced frequently throughout the site even though they are not used on the home page itself. This will improve the overall performance of site even though the performance of the home page may not be affected.</p> <h2 id="See_also">See also</h2> <ul> <li><a href="http://bitsup.blogspot.com/2008/11/dns-prefetching-for-firefox.html" class="external">DNS Prefetching for Firefox (blog post)</a></li> <li><a href="http://dev.chromium.org/developers/design-documents/dns-prefetching" class="external">Google Chrome handles DNS prefetching control</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control</a>
  </p>
</div>
