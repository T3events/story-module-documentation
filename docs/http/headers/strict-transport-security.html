<h1>Strict-Transport-Security</h1> <p>The HTTP <code>Strict-Transport-Security</code> response header (often abbreviated as <a title="HSTS: HTTP Strict Transport Security lets a web site inform the browser that it should never load the site using HTTP and should automatically convert all attempts to access the site using HTTP to HTTPS requests instead. It consists in one HTTP header, Strict-Transport-Security, sent back by the server with the resource." href="https://developer.mozilla.org/en-US/docs/Glossary/HSTS" class="glossaryLink">HSTS</a>) is a security feature that lets a web site tell browsers that it should only be communicated with using HTTPS, instead of using HTTP.</p> <table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td><a title="Response header: A response header is an HTTP header that can be used in an HTTP response and that doesn't relate to the content of the message. Response headers, like Age, Location or Server are used to give a more detailed context of the response." href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header" class="glossaryLink">Response header</a></td> </tr> <tr> <th scope="row"><a title="Forbidden header name: A forbidden header name is an HTTP header name that cannot be modified programmatically." href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name" class="glossaryLink">Forbidden header name</a></th> <td>no</td> </tr> </tbody> </table> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">Strict-Transport-Security: max-age=&lt;expire-time&gt;
Strict-Transport-Security: max-age=&lt;expire-time&gt;; includeSubDomains
Strict-Transport-Security: max-age=&lt;expire-time&gt;; preload
</pre> <h2 id="Directives">Directives</h2> <dl> <dt><code>max-age=&lt;expire-time&gt;</code></dt> <dd>The time, in seconds, that the browser should remember that this site is only to be accessed using HTTPS.</dd> <dt>
<code>includeSubDomains</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>If this optional parameter is specified, this rule applies to all of the site's subdomains as well.</dd> <dt>
<code>preload</code> <span class="inlineIndicator optional optionalInline">Optional</span>
</dt> <dd>See <a href="#Preloading_Strict_Transport_Security">Preloading Strict Transport Security</a> for details. Not part of the specification.</dd> </dl> <h2 id="Description">Description</h2> <p>If a web site accepts a connection through HTTP and redirects to HTTPS, the user in this case may initially talk to the non-encrypted version of the site before being redirected, if, for example, the user types http://www.foo.com/ or even just foo.com.</p> <p>This opens up the potential for a man-in-the-middle attack, where the redirect could be exploited to direct a user to a malicious site instead of the secure version of the original page.</p> <p>The HTTP Strict Transport Security header lets a web site inform the browser that it should never load the site using HTTP and should automatically convert all attempts to access the site using HTTP to HTTPS requests instead.</p> <div class="note">
<strong>Note:</strong> The <code>Strict-Transport-Security</code> header is <strong>ignored</strong> by the browser when your site is accessed using HTTP; this is because an attacker may intercept HTTP connections and inject the header or remove it. When your site is accessed over HTTPS with no certificate errors, the browser knows your site is HTTPS capable and will honor the <code>Strict-Transport-Security</code> header.</div> <h3 id="An_example_scenario">An example scenario</h3> <p>You log into a free WiFi access point at an airport and start surfing the web, visiting your online banking service to check your balance and pay a couple of bills. Unfortunately, the access point you're using is actually a hacker's laptop, and they're intercepting your original HTTP request and redirecting you to a clone of your bank's site instead of the real thing. Now your private data is exposed to the hacker.</p> <p>Strict Transport Security resolves this problem; as long as you've accessed your bank's web site once using HTTPS, and the bank's web site uses Strict Transport Security, your browser will know to automatically use only HTTPS, which prevents hackers from performing this sort of man-in-the-middle attack.</p> <h3 id="How_the_browser_handles_it">How the browser handles it</h3> <p>The first time your site is accessed using HTTPS and it returns the <code>Strict-Transport-Security</code> header, the browser records this information, so that future attempts to load the site using HTTP will automatically use HTTPS instead.</p> <p>When the expiration time specified by the Strict-Transport-Security header elapses, the next attempt to load the site via HTTP will proceed as normal instead of automatically using HTTPS.</p> <p>Whenever the Strict-Transport-Security header is delivered to the browser, it will update the expiration time for that site, so sites can refresh this information and prevent the timeout from expiring. Should it be necessary to disable Strict Transport Security, setting the max-age to 0 (over a https connection) will immediately expire the <code>Strict-Transport-Security</code> header, allowing access via http.</p> <h2 id="Preloading_Strict_Transport_Security">Preloading Strict Transport Security</h2> <p>Google maintains <a href="https://hstspreload.appspot.com/">an HSTS preload service</a>. By following the guidelines and successfully submitting your domain, browsers will never connect to your domain using an insecure connection. While the service is hosted by Google, all browsers have stated an intent to use (or actually started using) the preload list.</p> <ul> <li>Information regarding the HSTS preload list in Chrome : <a href="https://www.chromium.org/hsts">https://www.chromium.org/hsts</a>
</li> <li>Consultation of the Firefox HSTS preload list : <a href="https://dxr.mozilla.org/comm-central/source/mozilla/security/manager/ssl/nsSTSPreloadList.inc">nsSTSPreloadList.inc</a>
</li> </ul> <h2 id="Examples">Examples</h2> <p>All present and future subdomains will be HTTPS for a max-age of 1 year. This blocks access to pages or sub domains that can only be served over HTTP.</p> <pre>Strict-Transport-Security: max-age=31536000; includeSubDomains</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a lang="en" title="The 'HTTP Strict Transport Security (HSTS)' specification" class="external" href="https://tools.ietf.org/html/rfc6797/" hreflang="en">HTTP Strict Transport Security (HSTS)</a></td> <td><span class="spec-RFC">IETF RFC</span></td> <td>Initial definition</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"><table class="compat-table"> <thead> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> <th>Servo</th> </tr> </thead>
<tbody><tr>
<td>Strict-Transport-Security</td>
<td>4.0</td>
<td>12</td>
<td>4</td>
<td>11</td>
<td>12</td>
<td>7</td>
<td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td>
</tr></tbody>
</table></div><div id="compat-mobile"><table class="compat-table"> <thead> <tr> <th>Feature</th> <th>Android</th> <th>Chrome for Android</th> <th>Edge Mobile</th> <th>Firefox for Android</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> </thead>
<tbody><tr>
<td>Strict-Transport-Security</td>
<td>4.4</td>
<td>18</td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td>
<td><span title="Compatibility unknown; please update this." style="color: rgb(255, 153, 0);">?</span></td>
<td>8.4</td>
</tr></tbody>
</table></div> <h2 id="See_also">See also</h2> <ul> <li>Blog post: <a href="http://blog.sidstamm.com/2010/08/http-strict-transport-security-has.html" class="external">HTTP Strict Transport Security has landed!</a>
</li> <li>Blog post: <a href="http://hacks.mozilla.org/2010/08/firefox-4-http-strict-transport-security-force-https/" class="external">HTTP Strict Transport Security (force HTTPS)</a>
</li> <li>OWASP Article: <a href="https://www.owasp.org/index.php/HTTP_Strict_Transport_Security">HTTP Strict Transport Security</a>
</li> <li>Wikipedia: <a href="http://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security">HTTP Strict Transport Security</a>
</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security$edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security</a>
  </p>
</div>
